!function(t){function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var e={};n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(n){return t[n]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=97)}([function(t,n,e){"use strict";var r=e(40),i="object"==typeof self&&self&&self.Object===Object&&self,o=r.a||i||Function("return this")();n.a=o},function(t,n,e){var r=e(32)("wks"),i=e(22),o=e(2).Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=r},function(t){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,n,e){var r=e(7);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},,function(t,n,e){var r=e(2),i=e(16),o=e(12),a=e(10),c=e(14),s="prototype",u=function(t,n,e){var l,f,h,d,p=t&u.F,g=t&u.G,v=t&u.S,y=t&u.P,m=t&u.B,b=g?r:v?r[n]||(r[n]={}):(r[n]||{})[s],w=g?i:i[n]||(i[n]={}),x=w[s]||(w[s]={});for(l in g&&(e=n),e)h=((f=!p&&b&&void 0!==b[l])?b:e)[l],d=m&&f?c(h,r):y&&"function"==typeof h?c(Function.call,h):h,b&&a(b,l,h,t&u.U),w[l]!=h&&o(w,l,d),y&&x[l]!=h&&(x[l]=h)};r.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,n,e){var r=e(3),i=e(60),o=e(33),a=Object.defineProperty;n.f=e(8)?Object.defineProperty:function(t,n,e){if(r(t),n=o(n,!0),r(e),i)try{return a(t,n,e)}catch(n){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(t[n]=e.value),t}},function(t){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n,e){t.exports=!e(9)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n,e){var r=e(2),i=e(12),o=e(13),a=e(22)("src"),c=e(99),s="toString",u=(""+c).split(s);e(16).inspectSource=function(t){return c.call(t)},(t.exports=function(t,n,e,c){var s="function"==typeof e;s&&(o(e,"name")||i(e,"name",n)),t[n]===e||(s&&(o(e,a)||i(e,a,t[n]?""+t[n]:u.join(n+""))),t===r?t[n]=e:c?t[n]?t[n]=e:i(t,n,e):(delete t[n],i(t,n,e)))})(Function.prototype,s,(function(){return"function"==typeof this&&this[a]||c.call(this)}))},function(t,n,e){"use strict";(function(t){var r=e(0),i=e(91),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,c=a&&a.exports===o?r.a.Buffer:void 0,s=(c?c.isBuffer:void 0)||i.a;n.a=s}).call(this,e(49)(t))},function(t,n,e){var r=e(6),i=e(23);t.exports=e(8)?function(t,n,e){return r.f(t,n,i(1,e))}:function(t,n,e){return t[n]=e,t}},function(t){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,n,e){var r=e(30);t.exports=function(t,n,e){return r(t),void 0===n?t:1===e?function(e){return t.call(n,e)}:2===e?function(e,r){return t.call(n,e,r)}:3===e?function(e,r,i){return t.call(n,e,r,i)}:function(){return t.apply(n,arguments)}}},function(t){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t){var n=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},function(t,n,e){var r=e(34),i=Math.min;t.exports=function(t){return 0<t?i(r(t),9007199254740991):0}},function(t,n,e){"use strict";var r=e(31);({})[e(1)("toStringTag")]="z",e(10)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},function(t,n,e){var r=e(71),i=e(20);t.exports=function(t){return r(i(t))}},function(t){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t){t.exports=!1},function(t){var n=0,e=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+e).toString(36))}},function(t){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t){t.exports={}},function(t,n,e){var r=e(20);t.exports=function(t){return Object(r(t))}},function(t,n,e){var r=e(6).f,i=Function.prototype,o=/^\s*function ([^ (]*)/,a="name";a in i||e(8)&&r(i,a,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,n,e){var r=e(78),i=e(52);t.exports=Object.keys||function(t){return r(t,i)}},,,function(t){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n,e){var r=e(15),i=e(1)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var n,e,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=function(t,n){try{return t[n]}catch(n){}}(n=Object(t),i))?e:o?r(n):"Object"==(a=r(n))&&"function"==typeof n.callee?"Arguments":a}},function(t,n,e){var r=e(16),i=e(2),o="__core-js_shared__",a=i[o]||(i[o]={});(t.exports=function(t,n){return a[t]||(a[t]=void 0===n?{}:n)})("versions",[]).push({version:r.version,mode:e(21)?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,n,e){var r=e(7);t.exports=function(t,n){if(!r(t))return t;var e,i;if(n&&"function"==typeof(e=t.toString)&&!r(i=e.call(t)))return i;if("function"==typeof(e=t.valueOf)&&!r(i=e.call(t)))return i;if(!n&&"function"==typeof(e=t.toString)&&!r(i=e.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t){var n=Math.ceil,e=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?e:n)(t)}},function(t,n,e){var r=e(6).f,i=e(13),o=e(1)("toStringTag");t.exports=function(t,n,e){t&&!i(t=e?t:t.prototype,o)&&r(t,o,{configurable:!0,value:n})}},function(t,n,e){for(var r=e(37),i=e(27),o=e(10),a=e(2),c=e(12),s=e(24),u=e(1),l=u("iterator"),f=u("toStringTag"),h=s.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(d),g=0;g<p.length;g++){var v,y=p[g],m=d[y],b=a[y],w=b&&b.prototype;if(w&&(w[l]||c(w,l,h),w[f]||c(w,f,y),s[y]=h,m))for(v in r)w[v]||o(w,v,r[v],!0)}},function(t,n,e){"use strict";var r=e(43),i=e(125),o=e(24),a=e(19);t.exports=e(77)(Array,"Array",(function(t,n){this._t=a(t),this._i=0,this._k=n}),(function(){var t=this._t,n=this._k,e=this._i++;return!t||e>=t.length?(this._t=void 0,i(1)):i(0,"keys"==n?e:"values"==n?t[e]:[e,t[e]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,n,e){var r=e(78),i=e(52).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,n,e){var r=e(57),i=e(23),o=e(19),a=e(33),c=e(13),s=e(60),u=Object.getOwnPropertyDescriptor;n.f=e(8)?u:function(t,n){if(t=o(t),n=a(n,!0),s)try{return u(t,n)}catch(n){}return c(t,n)?i(!r.f.call(t,n),t[n]):void 0}},function(t,n,e){"use strict";(function(t){var e="object"==typeof t&&t&&t.Object===Object&&t;n.a=e}).call(this,e(70))},function(t,n,e){"use strict";var r,i,o,a,c=e(21),s=e(2),u=e(14),l=e(31),f=e(5),h=e(7),d=e(30),p=e(100),g=e(101),v=e(64),y=e(65).set,m=e(103)(),b=e(67),w=e(104),x=e(105),_=e(106),S="Promise",T=s.TypeError,C=s.process,A=C&&C.versions,E=A&&A.v8||"",I=s[S],N="process"==l(C),O=function(){},k=i=b.f,j=!!function(){try{var t=I.resolve(1),n=(t.constructor={})[e(1)("species")]=function(t){t(O,O)};return(N||"function"==typeof PromiseRejectionEvent)&&t.then(O)instanceof n&&0!==E.indexOf("6.6")&&-1===x.indexOf("Chrome/66")}catch(n){}}(),D=function(t){var n;return!(!h(t)||"function"!=typeof(n=t.then))&&n},F=function(t,n){if(!t._n){t._n=!0;var e=t._c;m((function(){for(var r=t._v,i=1==t._s,o=0,a=function(n){var e,o,a,c=i?n.ok:n.fail,s=n.resolve,u=n.reject,l=n.domain;try{c?(!i&&(2==t._h&&M(t),t._h=1),!0===c?e=r:(l&&l.enter(),e=c(r),l&&(l.exit(),a=!0)),e===n.promise?u(T("Promise-chain cycle")):(o=D(e))?o.call(e,s,u):s(e)):u(r)}catch(n){l&&!a&&l.exit(),u(n)}};e.length>o;)a(e[o++]);t._c=[],t._n=!1,n&&!t._h&&L(t)}))}},L=function(t){y.call(s,(function(){var n,e,r,i=t._v,o=P(t);if(o&&(n=w((function(){N?C.emit("unhandledRejection",i,t):(e=s.onunhandledrejection)?e({promise:t,reason:i}):(r=s.console)&&r.error&&r.error("Unhandled promise rejection",i)})),t._h=N||P(t)?2:1),t._a=void 0,o&&n.e)throw n.v}))},P=function(t){return 1!==t._h&&0===(t._a||t._c).length},M=function(t){y.call(s,(function(){var n;N?C.emit("rejectionHandled",t):(n=s.onrejectionhandled)&&n({promise:t,reason:t._v})}))},R=function(t){var n=this;n._d||(n._d=!0,(n=n._w||n)._v=t,n._s=2,!n._a&&(n._a=n._c.slice()),F(n,!0))},H=function(t){var n,e=this;if(!e._d){e._d=!0,e=e._w||e;try{if(e===t)throw T("Promise can't be resolved itself");(n=D(t))?m((function(){var r={_w:e,_d:!1};try{n.call(t,u(H,r,1),u(R,r,1))}catch(t){R.call(r,t)}})):(e._v=t,e._s=1,F(e,!1))}catch(n){R.call({_w:e,_d:!1},n)}}};j||(I=function(t){p(this,I,S,"_h"),d(t),r.call(this);try{t(u(H,this,1),u(R,this,1))}catch(t){R.call(this,t)}},(r=function(){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=e(107)(I.prototype,{then:function(t,n){var e=k(v(this,I));return e.ok="function"!=typeof t||t,e.fail="function"==typeof n&&n,e.domain=N?C.domain:void 0,this._c.push(e),this._a&&this._a.push(e),this._s&&F(this,!1),e.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=u(H,t,1),this.reject=u(R,t,1)},b.f=k=function(t){return t===I||t===a?new o(t):i(t)}),f(f.G+f.W+f.F*!j,{Promise:I}),e(35)(I,S),e(108)(S),a=e(16)[S],f(f.S+f.F*!j,S,{reject:function(t){var n=k(this);return(0,n.reject)(t),n.promise}}),f(f.S+f.F*(c||!j),S,{resolve:function(t){return _(c&&this===a?I:this,t)}}),f(f.S+f.F*!(j&&e(68)((function(t){I.all(t).catch(O)}))),S,{all:function(t){var n=this,e=k(n),r=e.resolve,i=e.reject,o=w((function(){var e=[],o=0,a=1;g(t,!1,(function(t){var c=o++,s=!1;e.push(void 0),a++,n.resolve(t).then((function(t){s||(s=!0,e[c]=t,--a||r(e))}),i)})),--a||r(e)}));return o.e&&i(o.v),e.promise},race:function(t){var n=this,e=k(n),r=e.reject,i=w((function(){g(t,!1,(function(t){n.resolve(t).then(e.resolve,r)}))}));return i.e&&r(i.v),e.promise}})},function(t,n,e){var r=e(7),i=e(2).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,n,e){var r=e(1)("unscopables"),i=Array.prototype;null==i[r]&&e(12)(i,r,{}),t.exports=function(t){i[r][t]=!0}},function(t,n,e){"use strict";var r=e(75)(!0);t.exports=function(t,n,e){return n+(e?r(t,n).length:1)}},function(t,n,e){"use strict";var r=e(31),i=RegExp.prototype.exec;t.exports=function(t,n){var e=t.exec;if("function"==typeof e){var o=e.call(t,n);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(t,n)}},function(t,n,e){"use strict";e(124);var r=e(10),i=e(12),o=e(9),a=e(20),c=e(1),s=e(47),u=c("species"),l=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),f=function(){var t=/(?:)/,n=t.exec;t.exec=function(){return n.apply(this,arguments)};var e="ab".split(t);return 2===e.length&&"a"===e[0]&&"b"===e[1]}();t.exports=function(t,n,e){var h=c(t),d=!o((function(){var n={};return n[h]=function(){return 7},7!=""[t](n)})),p=d?!o((function(){var n=!1,e=/a/;return e.exec=function(){return n=!0,null},"split"===t&&(e.constructor={},e.constructor[u]=function(){return e}),e[h](""),!n})):void 0;if(!d||!p||"replace"===t&&!l||"split"===t&&!f){var g=/./[h],v=e(a,h,""[t],(function(t,n,e,r,i){return n.exec===s?d&&!i?{done:!0,value:g.call(n,e,r)}:{done:!0,value:t.call(e,n,r)}:{done:!1}})),y=v[0],m=v[1];r(String.prototype,t,y),i(RegExp.prototype,h,2==n?function(t,n){return m.call(t,this,n)}:function(t){return m.call(t,this)})}}},function(t,n,e){"use strict";var r=e(48),i=RegExp.prototype.exec,o=String.prototype.replace,a=i,c="lastIndex",s=function(){var t=/a/,n=/b*/g;return i.call(t,"a"),i.call(n,"a"),0!==t[c]||0!==n[c]}(),u=void 0!==/()??/.exec("")[1];(s||u)&&(a=function(t){var n,e,a,l,f=this;return u&&(e=new RegExp("^"+f.source+"$(?!\\s)",r.call(f))),s&&(n=f[c]),a=i.call(f,t),s&&a&&(f[c]=f.global?a.index+a[0].length:n),u&&a&&1<a.length&&o.call(a[0],e,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(a[l]=void 0)})),a}),t.exports=a},function(t,n,e){"use strict";var r=e(3);t.exports=function(){var t=r(this),n="";return t.global&&(n+="g"),t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),t.unicode&&(n+="u"),t.sticky&&(n+="y"),n}},function(t){t.exports=function(t){if(!t.webpackPolyfill){var n=Object.create(t);n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),Object.defineProperty(n,"exports",{enumerable:!0}),n.webpackPolyfill=1}return n}},function(t,n,e){var r=e(3),i=e(127),o=e(52),a=e(51)("IE_PROTO"),c=function(){},s="prototype",u=function(){var t,n=e(42)("iframe"),r=o.length;for(n.style.display="none",e(66).appendChild(n),n.src="javascript:",(t=n.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;r--;)delete u[s][o[r]];return u()};t.exports=Object.create||function(t,n){var e;return null===t?e=u():(c[s]=r(t),e=new c,c[s]=null,e[a]=t),void 0===n?e:i(e,n)}},function(t,n,e){var r=e(32)("keys"),i=e(22);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,n,e){"use strict";var r=e(75)(!0);e(77)(String,"String",(function(t){this._t=t+"",this._i=0}),(function(){var t,n=this._t,e=this._i;return e>=n.length?{value:void 0,done:!0}:(t=r(n,e),this._i+=t.length,{value:t,done:!1})}))},function(t,n,e){"use strict";e(130);var r=e(3),i=e(48),o=e(8),a="toString",c=/./[a],s=function(t){e(10)(RegExp.prototype,a,t,!0)};e(9)((function(){return"/a/b"!=c.call({source:"a",flags:"b"})}))?s((function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)})):c.name!=a&&s((function(){return c.call(this)}))},function(t,n,e){"use strict";var r=e(2),i=e(13),o=e(8),a=e(5),c=e(10),s=e(131).KEY,u=e(9),l=e(32),f=e(35),h=e(22),d=e(1),p=e(84),g=e(83),v=e(132),y=e(72),m=e(3),b=e(7),w=e(19),x=e(33),_=e(23),S=e(50),T=e(133),C=e(39),A=e(6),E=e(27),I=C.f,N=A.f,O=T.f,k=r.Symbol,j=r.JSON,D=j&&j.stringify,F="prototype",L=d("_hidden"),P=d("toPrimitive"),M={}.propertyIsEnumerable,R=l("symbol-registry"),H=l("symbols"),z=l("op-symbols"),B=Object[F],U="function"==typeof k,V=r.QObject,G=!V||!V[F]||!V[F].findChild,W=o&&u((function(){return 7!=S(N({},"a",{get:function(){return N(this,"a",{value:7}).a}})).a}))?function(t,n,e){var r=I(B,n);r&&delete B[n],N(t,n,e),r&&t!==B&&N(B,n,r)}:N,Y=function(t){var n=H[t]=S(k[F]);return n._k=t,n},q=U&&"symbol"==typeof k.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof k},$=function(t,n,e){return t===B&&$(z,n,e),m(t),n=x(n,!0),m(e),i(H,n)?(e.enumerable?(i(t,L)&&t[L][n]&&(t[L][n]=!1),e=S(e,{enumerable:_(0,!1)})):(!i(t,L)&&N(t,L,_(1,{})),t[L][n]=!0),W(t,n,e)):N(t,n,e)},X=function(t,n){m(t);for(var e,r=v(n=w(n)),i=0,o=r.length;o>i;)$(t,e=r[i++],n[e]);return t},J=function(t){var n=M.call(this,t=x(t,!0));return(this!==B||!i(H,t)||i(z,t))&&(!(n||!i(this,t)||!i(H,t)||i(this,L)&&this[L][t])||n)},Z=function(t,n){if(t=w(t),n=x(n,!0),t!==B||!i(H,n)||i(z,n)){var e=I(t,n);return e&&i(H,n)&&!(i(t,L)&&t[L][n])&&(e.enumerable=!0),e}},K=function(t){for(var n,e=O(w(t)),r=[],o=0;e.length>o;)i(H,n=e[o++])||n==L||n==s||r.push(n);return r},Q=function(t){for(var n,e=t===B,r=O(e?z:w(t)),o=[],a=0;r.length>a;)i(H,n=r[a++])&&(!e||i(B,n))&&o.push(H[n]);return o};U||(c((k=function(){if(this instanceof k)throw TypeError("Symbol is not a constructor!");var t=h(0<arguments.length?arguments[0]:void 0),n=function(e){this===B&&n.call(z,e),i(this,L)&&i(this[L],t)&&(this[L][t]=!1),W(this,t,_(1,e))};return o&&G&&W(B,t,{configurable:!0,set:n}),Y(t)})[F],"toString",(function(){return this._k})),C.f=Z,A.f=$,e(38).f=T.f=K,e(57).f=J,e(56).f=Q,o&&!e(21)&&c(B,"propertyIsEnumerable",J,!0),p.f=function(t){return Y(d(t))}),a(a.G+a.W+a.F*!U,{Symbol:k});for(var tt=["hasInstance","isConcatSpreadable","iterator","match","replace","search","species","split","toPrimitive","toStringTag","unscopables"],nt=0;tt.length>nt;)d(tt[nt++]);for(var et=E(d.store),rt=0;et.length>rt;)g(et[rt++]);a(a.S+a.F*!U,"Symbol",{for:function(t){return i(R,t+="")?R[t]:R[t]=k(t)},keyFor:function(t){if(!q(t))throw TypeError(t+" is not a symbol!");for(var n in R)if(R[n]===t)return n},useSetter:function(){G=!0},useSimple:function(){G=!1}}),a(a.S+a.F*!U,"Object",{create:function(t,n){return void 0===n?S(t):X(S(t),n)},defineProperty:$,defineProperties:X,getOwnPropertyDescriptor:Z,getOwnPropertyNames:K,getOwnPropertySymbols:Q}),j&&a(a.S+a.F*(!U||u((function(){var t=k();return"[null]"!=D([t])||"{}"!=D({a:t})||"{}"!=D(Object(t))}))),"JSON",{stringify:function(t){for(var n,e,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(e=n=r[1],(b(n)||void 0!==t)&&!q(t))return y(n)||(n=function(t,n){if("function"==typeof e&&(n=e.call(this,t,n)),!q(n))return n}),r[1]=n,D.apply(j,r)}}),k[F][P]||e(12)(k[F],P,k[F].valueOf),f(k,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n){n.f={}.propertyIsEnumerable},function(t,n,e){"use strict";(function(t){var r=e(40),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i&&r.a.process,c=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();n.a=c}).call(this,e(49)(t))},,function(t,n,e){t.exports=!e(8)&&!e(9)((function(){return 7!=Object.defineProperty(e(42)("div"),"a",{get:function(){return 7}}).a}))},function(t,n,e){var r=e(3);t.exports=function(t,n,e,i){try{return i?n(r(e)[0],e[1]):n(e)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,n,e){var r=e(24),i=e(1)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,n,e){var r=e(31),i=e(1)("iterator"),o=e(24);t.exports=e(16).getIteratorMethod=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,n,e){var r=e(3),i=e(30),o=e(1)("species");t.exports=function(t,n){var e,a=r(t).constructor;return void 0===a||null==(e=r(a)[o])?n:i(e)}},function(t,n,e){var r,i,o,a=e(14),c=e(102),s=e(66),u=e(42),l=e(2),f=l.process,h=l.setImmediate,d=l.clearImmediate,p=l.MessageChannel,g=l.Dispatch,v=0,y={},m="onreadystatechange",b=function(){var t=+this;if(y.hasOwnProperty(t)){var n=y[t];delete y[t],n()}},w=function(t){b.call(t.data)};h&&d||(h=function(t){for(var n=[],e=1;arguments.length>e;)n.push(arguments[e++]);return y[++v]=function(){c("function"==typeof t?t:Function(t),n)},r(v),v},d=function(t){delete y[t]},"process"==e(15)(f)?r=function(t){f.nextTick(a(b,t,1))}:g&&g.now?r=function(t){g.now(a(b,t,1))}:p?(o=(i=new p).port2,i.port1.onmessage=w,r=a(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(t){l.postMessage(t+"","*")},l.addEventListener("message",w,!1)):r=m in u("script")?function(t){s.appendChild(u("script"))[m]=function(){s.removeChild(this),b.call(t)}}:function(t){setTimeout(a(b,t,1),0)}),t.exports={set:h,clear:d}},function(t,n,e){var r=e(2).document;t.exports=r&&r.documentElement},function(t,n,e){"use strict";function r(t){var n,e;this.promise=new t((function(t,r){if(void 0!==n||void 0!==e)throw TypeError("Bad Promise constructor");n=t,e=r})),this.resolve=i(n),this.reject=i(e)}var i=e(30);t.exports.f=function(t){return new r(t)}},function(t,n,e){var r=e(1)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(n){}t.exports=function(t,n){if(!n&&!i)return!1;var e=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:e=!0}},o[r]=function(){return a},t(o)}catch(n){}return e}},function(t,n,e){(function(n){!function(n){"use strict";function e(t,n,e,r){var o=n&&n.prototype instanceof i?n:i,a=Object.create(o.prototype),c=new d(r||[]);return a._invoke=u(t,e,c),a}function r(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(t){return{type:"throw",arg:t}}}function i(){}function o(){}function a(){}function c(t){["next","throw","return"].forEach((function(n){t[n]=function(t){return this._invoke(n,t)}}))}function s(t){function e(n,i,o,a){var c=r(t[n],t,i);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==typeof u&&y.call(u,"__await")?Promise.resolve(u.__await).then((function(t){e("next",t,o,a)}),(function(t){e("throw",t,o,a)})):Promise.resolve(u).then((function(t){s.value=t,o(s)}),a)}a(c.arg)}var i;"object"==typeof n.process&&n.process.domain&&(e=n.process.domain.bind(e)),this._invoke=function(t,n){function r(){return new Promise((function(r,i){e(t,n,r,i)}))}return i=i?i.then(r,r):r()}}function u(t,n,e){var i=T;return function(o,a){if(i===A)throw new Error("Generator is already running");if(i===E){if("throw"===o)throw a;return{value:void 0,done:!0}}for(e.method=o,e.arg=a;;){var c=e.delegate;if(c){var s=l(c,e);if(s){if(s===I)continue;return s}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(i===T)throw i=E,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);i=A;var u=r(t,n,e);if("normal"===u.type){if(i=e.done?E:C,u.arg===I)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(i=E,e.method="throw",e.arg=u.arg)}}}function l(t,n){var e=t.iterator[n.method];if(void 0===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=void 0,l(t,n),"throw"===n.method))return I;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return I}var i=r(e,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,I;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,I):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,I)}function f(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function h(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function d(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(f,this),this.reset(!0)}function p(t){if(t){var n=t[b];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var e=-1,r=function n(){for(;++e<t.length;)if(y.call(t,e))return n.value=t[e],n.done=!1,n;return n.value=void 0,n.done=!0,n};return r.next=r}}return{next:g}}function g(){return{value:void 0,done:!0}}var v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},b=m.iterator||"@@iterator",w=m.asyncIterator||"@@asyncIterator",x=m.toStringTag||"@@toStringTag",_="object"==typeof t,S=n.regeneratorRuntime;if(S)_&&(t.exports=S);else{(S=n.regeneratorRuntime=_?t.exports:{}).wrap=e;var T="suspendedStart",C="suspendedYield",A="executing",E="completed",I={},N={};N[b]=function(){return this};var O=Object.getPrototypeOf,k=O&&O(O(p([])));k&&k!==v&&y.call(k,b)&&(N=k);var j=a.prototype=i.prototype=Object.create(N);o.prototype=j.constructor=a,a.constructor=o,a[x]=o.displayName="GeneratorFunction",S.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===o||"GeneratorFunction"===(n.displayName||n.name))},S.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,a):(t.__proto__=a,!(x in t)&&(t[x]="GeneratorFunction")),t.prototype=Object.create(j),t},S.awrap=function(t){return{__await:t}},c(s.prototype),s.prototype[w]=function(){return this},S.AsyncIterator=s,S.async=function(t,n,r,i){var o=new s(e(t,n,r,i));return S.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},c(j),j[x]="Generator",j[b]=function(){return this},j.toString=function(){return"[object Generator]"},S.keys=function(t){var n=[];for(var e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},S.values=p,d.prototype={constructor:d,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(h),!t)for(var n in this)"t"===n.charAt(0)&&y.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){function n(n,r){return o.type="throw",o.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}if(this.done)throw t;for(var e=this,r=this.tryEntries.length-1;0<=r;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var a=y.call(i,"catchLoc"),c=y.call(i,"finallyLoc");if(a&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,n){for(var e,r=this.tryEntries.length-1;0<=r;--r)if((e=this.tryEntries[r]).tryLoc<=this.prev&&y.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var i=e;break}i&&("break"===t||"continue"===t)&&i.tryLoc<=n&&n<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=n,i?(this.method="next",this.next=i.finallyLoc,I):this.complete(o)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),I},finish:function(t){for(var n,e=this.tryEntries.length-1;0<=e;--e)if((n=this.tryEntries[e]).finallyLoc===t)return this.complete(n.completion,n.afterLoc),h(n),I},catch:function(t){for(var n,e=this.tryEntries.length-1;0<=e;--e)if((n=this.tryEntries[e]).tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;h(n)}return i}throw new Error("illegal catch attempt")},delegateYield:function(t,n,e){return this.delegate={iterator:p(t),resultName:n,nextLoc:e},"next"===this.method&&(this.arg=void 0),I}}}}("object"==typeof n?n:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,e(70))},function(t){var n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,n,e){var r=e(15);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,n,e){var r=e(15);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t){"use strict";(t.exports={}).forEach=function(t,n){for(var e,r=0;r<t.length;r++)if(e=n(t[r]))return e}},function(t){"use strict";var n=t.exports={};n.isIE=function(t){if(!function(){var t=navigator.userAgent.toLowerCase();return-1!==t.indexOf("msie")||-1!==t.indexOf("trident")||-1!==t.indexOf(" edge/")}())return!1;if(!t)return!0;var n=function(){var t=3,n=document.createElement("div"),e=n.getElementsByTagName("i");do{n.innerHTML="\x3c!--[if gt IE "+ ++t+"]><i></i><![endif]--\x3e"}while(e[0]);return 4<t?t:void 0}();return t===n},n.isLegacyOpera=function(){return!!window.opera}},function(t,n,e){var r=e(34),i=e(20);t.exports=function(t){return function(n,e){var o,a,c=i(n)+"",s=r(e),u=c.length;return 0>s||s>=u?t?"":void 0:55296>(o=c.charCodeAt(s))||56319<o||s+1===u||56320>(a=c.charCodeAt(s+1))||57343<a?t?c.charAt(s):o:t?c.slice(s,s+2):a-56320+(o-55296<<10)+65536}}},function(t,n,e){"use strict";var r=e(3),i=e(17),o=e(44),a=e(45);e(46)("match",1,(function(t,n,e,c){return[function(e){var r=t(this),i=null==e?void 0:e[n];return void 0===i?new RegExp(e)[n](r+""):i.call(e,r)},function(t){var n=c(e,t,this);if(n.done)return n.value;var s=r(t),u=this+"";if(!s.global)return a(s,u);var l=s.unicode;s.lastIndex=0;for(var f,h=[],d=0;null!==(f=a(s,u));){var p=f[0]+"";h[d]=p,""==p&&(s.lastIndex=o(u,i(s.lastIndex),l)),d++}return 0==d?null:h}]}))},function(t,n,e){"use strict";var r=e(21),i=e(5),o=e(10),a=e(12),c=e(24),s=e(126),u=e(35),l=e(129),f=e(1)("iterator"),h=!([].keys&&"next"in[].keys()),d="keys",p="values",g=function(){return this};t.exports=function(t,n,e,v,y,m,b){s(e,n,v);var w,x,_,S=function(t){return!h&&t in E?E[t]:function(){return new e(this,t)}},T=n+" Iterator",C=y==p,A=!1,E=t.prototype,I=E[f]||E["@@iterator"]||y&&E[y],N=I||S(y),O=y?C?S("entries"):N:void 0,k="Array"==n&&E.entries||I;if(k&&((_=l(k.call(new t)))!==Object.prototype&&_.next&&(u(_,T,!0),!r&&"function"!=typeof _[f]&&a(_,f,g))),C&&I&&I.name!==p&&(A=!0,N=function(){return I.call(this)}),(!r||b)&&(h||A||!E[f])&&a(E,f,N),c[n]=N,c[T]=g,y)if(w={values:C?N:S(p),keys:m?N:S(d),entries:O},b)for(x in w)x in E||o(E,x,w[x]);else i(i.P+i.F*(h||A),n,w);return w}},function(t,n,e){var r=e(13),i=e(19),o=e(79)(!1),a=e(51)("IE_PROTO");t.exports=function(t,n){var e,c=i(t),s=0,u=[];for(e in c)e!=a&&r(c,e)&&u.push(e);for(;n.length>s;)r(c,e=n[s++])&&(~o(u,e)||u.push(e));return u}},function(t,n,e){var r=e(19),i=e(17),o=e(128);t.exports=function(t){return function(n,e,a){var c,s=r(n),u=i(s.length),l=o(a,u);if(t&&e!=e){for(;u>l;)if((c=s[l++])!=c)return!0}else for(;u>l;l++)if((t||l in s)&&s[l]===e)return t||l||0;return!t&&-1}}},function(t,n,e){"use strict";var r=e(14),i=e(5),o=e(25),a=e(61),c=e(62),s=e(17),u=e(81),l=e(63);i(i.S+i.F*!e(68)((function(t){Array.from(t)})),"Array",{from:function(t){var n,e,i,f,h=o(t),d="function"==typeof this?this:Array,p=arguments.length,g=1<p?arguments[1]:void 0,v=void 0!==g,y=0,m=l(h);if(v&&(g=r(g,2<p?arguments[2]:void 0,2)),null==m||d==Array&&c(m))for(e=new d(n=s(h.length));n>y;y++)u(e,y,v?g(h[y],y):h[y]);else for(f=m.call(h),e=new d;!(i=f.next()).done;y++)u(e,y,v?a(f,g,[i.value,y],!0):i.value);return e.length=y,e}})},function(t,n,e){"use strict";var r=e(6),i=e(23);t.exports=function(t,n,e){n in t?r.f(t,n,i(0,e)):t[n]=e}},function(t,n,e){e(83)("asyncIterator")},function(t,n,e){var r=e(2),i=e(16),o=e(21),a=e(84),c=e(6).f;t.exports=function(t){var n=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in n||c(n,t,{value:a.f(t)})}},function(t,n,e){n.f=e(1)},function(t,n,e){"use strict";var r=e(86),i=e(3),o=e(64),a=e(44),c=e(17),s=e(45),u=e(47),l=e(9),f=Math.min,h=[].push,d="split",p="length",g="lastIndex",v=4294967295,y=!l((function(){RegExp(v,"y")}));e(46)("split",2,(function(t,n,e,l){var m;return m="c"=="abbc"[d](/(b)*/)[1]||4!="test"[d](/(?:)/,-1)[p]||2!="ab"[d](/(?:ab)*/)[p]||4!="."[d](/(.?)(.?)/)[p]||1<"."[d](/()()/)[p]||""[d](/.?/)[p]?function(t,n){var i=this+"";if(void 0===t&&0===n)return[];if(!r(t))return e.call(i,t,n);for(var o,a,c,s=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,d=void 0===n?v:n>>>0,y=new RegExp(t.source,l+"g");(o=u.call(y,i))&&!((a=y[g])>f&&(s.push(i.slice(f,o.index)),1<o[p]&&o.index<i[p]&&h.apply(s,o.slice(1)),c=o[0][p],f=a,s[p]>=d));)y[g]===o.index&&y[g]++;return f===i[p]?(c||!y.test(""))&&s.push(""):s.push(i.slice(f)),s[p]>d?s.slice(0,d):s}:"0"[d](void 0,0)[p]?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,r){var i=t(this),o=null==e?void 0:e[n];return void 0===o?m.call(i+"",e,r):o.call(e,i,r)},function(t,n){var r=l(m,t,this,n,m!==e);if(r.done)return r.value;var u=i(t),h=this+"",d=o(u,RegExp),p=u.unicode,g=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(y?"y":"g"),b=new d(y?u:"^(?:"+u.source+")",g),w=void 0===n?v:n>>>0;if(0==w)return[];if(0===h.length)return null===s(b,h)?[h]:[];for(var x=0,_=0,S=[];_<h.length;){b.lastIndex=y?_:0;var T,C=s(b,y?h:h.slice(_));if(null===C||(T=f(c(b.lastIndex+(y?0:_)),h.length))===x)_=a(h,_,p);else{if(S.push(h.slice(x,_)),S.length===w)return S;for(var A=1;A<=C.length-1;A++)if(S.push(C[A]),S.length===w)return S;_=x=T}}return S.push(h.slice(x)),S}]}))},function(t,n,e){var r=e(7),i=e(15),o=e(1)("match");t.exports=function(t){var n;return r(t)&&(void 0===(n=t[o])?"RegExp"==i(t):!!n)}},function(t,n,e){"use strict";var r=e(2),i=e(13),o=e(15),a=e(134),c=e(33),s=e(9),u=e(38).f,l=e(39).f,f=e(6).f,h=e(136).trim,d="Number",p=r[d],g=p,v=p.prototype,y=o(e(50)(v))==d,m="trim"in String.prototype,b=function(t){var n=c(t,!1);if("string"==typeof n&&2<n.length){var e,r,i,o=(n=m?n.trim():h(n,3)).charCodeAt(0);if(43===o||45===o){if(88===(e=n.charCodeAt(2))||120===e)return NaN}else if(48===o){switch(n.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+n}for(var a,s=n.slice(2),u=0,l=s.length;u<l;u++)if(48>(a=s.charCodeAt(u))||a>i)return NaN;return parseInt(s,r)}}return+n};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var n=1>arguments.length?0:t,e=this;return e instanceof p&&(y?s((function(){v.valueOf.call(e)})):o(e)!=d)?a(new g(b(n)),e,p):b(n)};for(var w,x=e(8)?u(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),_=0;x.length>_;_++)i(g,w=x[_])&&!i(p,w)&&f(p,w,l(g,w));p.prototype=v,v.constructor=p,e(10)(r,d,p)}},function(t,n,e){var r=e(5),i=e(141),o=e(19),a=e(39),c=e(81);r(r.S,"Object",{getOwnPropertyDescriptors:function(t){for(var n,e,r=o(t),s=a.f,u=i(r),l={},f=0;u.length>f;)void 0!==(e=s(r,n=u[f++]))&&c(l,n,e);return l}})},function(t,n,e){var r=e(25),i=e(27);e(142)("keys",(function(){return function(t){return i(r(t))}}))},function(t,n,e){"use strict";function r(t){return Array.isArray(t)||void 0!==t.length}function i(t){if(!Array.isArray(t)){var n=[];return c(t,(function(t){n.push(t)})),n}return t}function o(t){return t&&1===t.nodeType}function a(t,n,e){var r=t[n];return null==r&&void 0!==e?e:r}var c=e(73).forEach,s=e(113),u=e(114),l=e(115),f=e(116),h=e(117),d=e(74),p=e(118),g=e(120),v=e(121),y=e(122);t.exports=function(t){var n;if((t=t||{}).idHandler)n={get:function(n){return t.idHandler.get(n,!0)},set:t.idHandler.set};else{var e=l(),m=f({idGenerator:e,stateHandler:g});n=m}var b=t.reporter;b||(b=h(!1===b));var w=a(t,"batchProcessor",p({reporter:b})),x={};x.callOnAdd=!!a(t,"callOnAdd",!0),x.debug=!!a(t,"debug",!1);var _,S=u(n),T=s({stateHandler:g}),C=a(t,"strategy","object"),A=a(t,"important",!1),E={reporter:b,batchProcessor:w,stateHandler:g,idHandler:n,important:A};if("scroll"===C&&(d.isLegacyOpera()?(b.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),C="object"):d.isIE(9)&&(b.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),C="object")),"scroll"===C)_=y(E);else{if("object"!==C)throw new Error("Invalid strategy name: "+C);_=v(E)}var I={};return{listenTo:function(t,e,s){function u(t){var n=S.get(t);c(n,(function(n){n(t)}))}function l(t,n,e){S.add(n,e),t&&e(n)}if(s||(s=e,e=t,t={}),!e)throw new Error("At least one element required.");if(!s)throw new Error("Listener required.");if(o(e))e=[e];else{if(!r(e))return b.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");e=i(e)}var f=0,h=a(t,"callOnAdd",x.callOnAdd),d=a(t,"onReady",(function(){})),p=a(t,"debug",x.debug);c(e,(function(t){g.getState(t)||(g.initState(t),n.set(t));var r=n.get(t);return p&&b.log("Attaching listener to element",r,t),T.isDetectable(t)?(p&&b.log(r,"Already detecable, adding listener."),l(h,t,s),void f++):(p&&b.log(r,"Not detectable."),T.isBusy(t)?(p&&b.log(r,"System busy making it detectable"),l(h,t,s),I[r]=I[r]||[],void I[r].push((function(){++f===e.length&&d()}))):(p&&b.log(r,"Making detectable..."),T.markBusy(t,!0),_.makeDetectable({debug:p,important:A},t,(function(t){if(p&&b.log(r,"onElementDetectable"),g.getState(t)){T.markAsDetectable(t),T.markBusy(t,!1),_.addListener(t,u),l(h,t,s);var n=g.getState(t);if(n&&n.startSize){var i=t.offsetWidth,o=t.offsetHeight;(n.startSize.width!==i||n.startSize.height!==o)&&u(t)}I[r]&&c(I[r],(function(t){t()}))}else p&&b.log(r,"Element uninstalled before being detectable.");delete I[r],++f===e.length&&d()}))))})),f===e.length&&d()},removeListener:S.removeListener,removeAllListeners:S.removeAllListeners,uninstall:function(t){if(!t)return b.error("At least one element is required.");if(o(t))t=[t];else{if(!r(t))return b.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");t=i(t)}c(t,(function(t){S.removeAllListeners(t),_.uninstall(t),g.cleanState(t)}))},initDocument:function(t){_.initDocument&&_.initDocument(t)}}}},function(t,n){"use strict";n.a=function(){return!1}},function(t,n,e){"use strict";(function(t){var r=e(0),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i?r.a.Buffer:void 0,c=a?a.allocUnsafe:void 0;n.a=function(t,n){if(n)return t.slice();var e=t.length,r=c?c(e):new t.constructor(e);return t.copy(r),r}}).call(this,e(49)(t))},function(t){function n(t,n,e){t.self===t?t.scrollTo(n,e):(t.scrollLeft=n,t.scrollTop=e)}function e(t,n){var e,r,i,o,a,c,s,f=t.align,h=t.target.getBoundingClientRect(),d=f&&null!=f.left?f.left:.5,p=f&&null!=f.top?f.top:.5,g=f&&null!=f.leftOffset?f.leftOffset:0,v=f&&null!=f.topOffset?f.topOffset:0,y=d,m=p;if(t.isWindow(n))c=l(h.width,n.innerWidth),s=l(h.height,n.innerHeight),r=h.left+n.pageXOffset-n.innerWidth*y+c*y,i=h.top+n.pageYOffset-n.innerHeight*m+s*m,i-=v,o=(r-=g)-n.pageXOffset,a=i-n.pageYOffset;else{c=h.width,s=h.height,e=n.getBoundingClientRect();var b=h.left-(e.left-n.scrollLeft),w=h.top-(e.top-n.scrollTop);r=b+c*y-n.clientWidth*y,i=w+s*m-n.clientHeight*m,i-=v,r=u(l(r-=g,n.scrollWidth-n.clientWidth),0),i=u(l(i,n.scrollHeight-n.clientHeight),0),o=r-n.scrollLeft,a=i-n.scrollTop}return{x:r,y:i,differenceX:o,differenceY:a}}function r(t){var i=t._scrollSettings;if(i){var o=i.maxSynchronousAlignments,a=e(i,t),c=Date.now()-i.startTime,s=l(1/i.time*c,1);if(i.endIterations>=o)return n(t,a.x,a.y),t._scrollSettings=null,i.end(f);var u=1-i.ease(s);return n(t,a.x-a.differenceX*u,a.y-a.differenceY*u),c>=i.time?(i.endIterations++,r(t)):void function(t){"requestAnimationFrame"in window?window.requestAnimationFrame(t):setTimeout(t,16)}(r.bind(null,t))}}function i(t){return t.self===t}function o(t,n,e,o){function a(t){n._scrollSettings=null,n.parentElement&&n.parentElement._scrollSettings&&n.parentElement._scrollSettings.end(t),e.debug&&console.log("Scrolling ended with type",t,"for",n),o(t),c&&(n.removeEventListener("touchstart",c,f),n.removeEventListener("wheel",c,f))}var c,s=!n._scrollSettings,u=n._scrollSettings,l=Date.now(),f={passive:!0};u&&u.end(h);var d=e.maxSynchronousAlignments;return null==d&&(d=3),n._scrollSettings={startTime:l,endIterations:0,target:t,time:e.time,ease:e.ease,align:e.align,isWindow:e.isWindow||i,maxSynchronousAlignments:d,end:a},(!("cancellable"in e)||e.cancellable)&&(c=a.bind(null,h),n.addEventListener("touchstart",c,f),n.addEventListener("wheel",c,f)),s&&r(n),c}function a(t){return"pageXOffset"in t||(t.scrollHeight!==t.clientHeight||t.scrollWidth!==t.clientWidth)&&"hidden"!==getComputedStyle(t).overflow}function c(){return!0}function s(t){if(t.assignedSlot)return s(t.assignedSlot);if(t.parentElement)return"BODY"===t.parentElement.tagName?t.parentElement.ownerDocument.defaultView||t.parentElement.ownerDocument.ownerWindow:t.parentElement;if(t.getRootNode){var n=t.getRootNode();if(11===n.nodeType)return n.host}}var u=Math.max,l=Math.min,f="complete",h="canceled";t.exports=function(t,n,e){function r(t){!--l&&e&&e(t)}if(t){"function"==typeof n&&(e=n,n=null),n||(n={}),n.time=isNaN(n.time)?1e3:n.time,n.ease=n.ease||function(t){return 1-Math.pow(1-t,t/2)};var i,u=s(t),l=1,h=n.validTarget||c,d=n.isScrollable;for(n.debug&&(console.log("About to scroll to",t),!u&&console.error("Target did not have a parent, is it mounted in the DOM?"));u;)if(n.debug&&console.log("Scrolling parent node",u),h(u,l)&&(d?d(u,a):a(u))&&(l++,i=o(t,u,n,r)),!(u=s(u))){r(f);break}return i}}},function(t){var n=Math.max;!function(n,e){t.exports=e()}(0,(function(){"use strict";function t(t){return"scrollama__debug-offset--"+t}function e(n){var e=n.id,r=n.offsetVal,i=n.stepClass,o=document.createElement("div");o.id=t(e),o.className="scrollama__debug-offset",o.style.position="fixed",o.style.left="0",o.style.width="100%",o.style.height="0",o.style.borderTop="2px dashed black",o.style.zIndex="9999";var a=document.createElement("p");a.innerHTML='".'+i+'" trigger: <span>'+r+"</span>",a.style.fontSize="12px",a.style.fontFamily="monospace",a.style.color="black",a.style.margin="0",a.style.padding="6px",o.appendChild(a),document.body.appendChild(o)}function r(t){e({id:t.id,offsetVal:t.offsetVal,stepClass:t.stepEl[0].className})}function i(n){var e=n.id,r=n.offsetMargin,i=n.offsetVal,o="pixels"===n.format?"px":"",a=t(e),c=document.getElementById(a);c.style.top=r+"px",c.querySelector("span").innerText=""+i+o}function o(t){var n=t.id,e=t.index,r=t.state,i="scrollama__debug-step--"+n+"-"+e,o=document.getElementById(i+"_above"),a=document.getElementById(i+"_below"),c="enter"===r?"block":"none";o&&(o.style.display=c),a&&(a.style.display=c)}return function(){function t(t){console.error("scrollama error: "+t)}function e(){A={stepEnter:function(){},stepExit:function(){},stepProgress:function(){}},E={}}function a(t){return t.getBoundingClientRect().top+window.pageYOffset-(document.body.clientTop||0)}function c(t){return+t.getAttribute("data-scrollama-index")}function s(){window.pageYOffset>M?W="down":window.pageYOffset<M&&(W="up"),M=window.pageYOffset}function u(t){E[t]&&E[t].forEach((function(t){return t.disconnect()}))}function l(){L=window.innerHeight,P=function(){var t=document.body,e=document.documentElement;return n(t.scrollHeight,t.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight)}(),F=D*("pixels"===Y?1:L),H&&(O=N.map((function(t){return t.getBoundingClientRect().height})),k=N.map(a),z&&_()),B&&i({id:I,offsetMargin:F,offsetVal:D,format:Y})}function f(n){if(n&&!z){if(!H)return t("scrollama error: enable() called before scroller was ready"),void(z=!1);_()}!n&&z&&C.forEach(u),z=n}function h(t,n){var e=c(t);void 0!==n&&(j[e].progress=n);var r={element:t,index:e,progress:j[e].progress};"enter"===j[e].state&&A.stepProgress(r)}function d(t,n){if("above"===n)for(var e,r=0;r<t;r+=1)"enter"!==(e=j[r]).state&&"down"!==e.direction?(p(N[r],"down",!1),g(N[r],"down")):"enter"===e.state&&g(N[r],"down");else if("below"===n)for(var i,o=j.length-1;o>t;o-=1)"enter"===(i=j[o]).state&&g(N[o],"up"),"down"===i.direction&&(p(N[o],"up",!1),g(N[o],"up"))}function p(t,n,e){void 0===e&&(e=!0);var r=c(t);j[r].direction=n,j[r].state="enter",V&&e&&"down"===n&&d(r,"above"),V&&e&&"up"===n&&d(r,"below"),A.stepEnter&&!q[r]&&(A.stepEnter({element:t,index:r,direction:n},j),B&&o({id:I,index:r,state:"enter"}),G&&(q[r]=!0)),U&&h(t)}function g(t,n){var e=c(t);U&&("down"===n&&1>j[e].progress?h(t,1):"up"==n&&0<j[e].progress&&h(t,0)),j[e].direction=n,j[e].state="exit",A.stepExit({element:t,index:e,direction:n},j),B&&o({id:I,index:e,state:"exit"})}function v(t){var n=t[0];s();var e=n.isIntersecting,r=n.boundingClientRect,i=n.target,o=r.top,a=r.bottom,u=o-F,l=a-F,f=c(i),h=j[f];e&&0>=u&&0<=l&&"down"==W&&"enter"!==h.state&&p(i,W),!e&&0<u&&"up"==W&&"enter"===h.state&&g(i,W)}function y(t){var n=t[0];s();var e=n.isIntersecting,r=n.boundingClientRect,i=n.target,o=r.top,a=r.bottom,u=o-F,l=a-F,f=c(i),h=j[f];e&&0>=u&&0<=l&&"up"==W&&"enter"!==h.state&&p(i,W),!e&&0>l&&"down"==W&&"enter"===h.state&&g(i,W)}function m(t){var n=t[0];s();var e=n.isIntersecting,r=n.target,i=c(r),o=j[i];e&&"down"==W&&"down"!==o.direction&&"enter"!==o.state&&(p(r,"down"),g(r,"down"))}function b(t){var n=t[0];s();var e=n.isIntersecting,r=n.target,i=c(r),o=j[i];e&&"up"==W&&"down"===o.direction&&"enter"!==o.state&&(p(r,"up"),g(r,"up"))}function w(t){var n=t[0];s();var e=n.isIntersecting,r=n.intersectionRatio,i=n.boundingClientRect,o=n.target,a=i.bottom;e&&0<=a-F&&h(o,+r)}function x(){E.stepProgress=N.map((function(t,n){var e=O[n]-F,r=-L+F,i=function(t){for(var n=Math.ceil(t/R),e=[],r=0;r<n;r+=1)e.push(r*(1/n));return e}(O[n]),o=new IntersectionObserver(w,{rootMargin:e+"px 0px "+r+"px 0px",threshold:i});return o.observe(t),o}))}function _(){C.forEach(u),E.viewportAbove=N.map((function(t,n){var e=P-k[n],r=F-L-O[n],i=new IntersectionObserver(m,{rootMargin:e+"px 0px "+r+"px 0px"});return i.observe(t),i})),E.viewportBelow=N.map((function(t,n){var e=-F-O[n],r=F-L+O[n]+P,i=new IntersectionObserver(b,{rootMargin:e+"px 0px "+r+"px 0px"});return i.observe(t),i})),E.stepAbove=N.map((function(t,n){var e=-F+O[n],r=new IntersectionObserver(v,{rootMargin:e+"px 0px "+(F-L)+"px 0px"});return r.observe(t),r})),E.stepBelow=N.map((function(t,n){var e=-F,r=F-L+O[n],i=new IntersectionObserver(y,{rootMargin:e+"px 0px "+r+"px 0px"});return i.observe(t),i})),U&&x()}function S(){B&&r({id:I,stepEl:N,offsetVal:D})}function T(t){return!(!t||1!==t.nodeType)&&(function(t){var n=window.getComputedStyle(t);return("scroll"===n.overflowY||"auto"===n.overflowY)&&t.scrollHeight>t.clientHeight}(t)?t:T(t.parentNode))}var C=["stepAbove","stepBelow","stepProgress","viewportAbove","viewportBelow"],A={},E={},I=null,N=[],O=[],k=[],j=[],D=0,F=0,L=0,P=0,M=0,R=0,H=!1,z=!1,B=!1,U=!1,V=!1,G=!1,W="down",Y="percent",q=[],$={};return $.setup=function(r){var i=r.step,o=r.offset;void 0===o&&(o=.5);var a=r.progress;void 0===a&&(a=!1);var c=r.threshold;void 0===c&&(c=4);var s=r.debug;void 0===s&&(s=!1);var u=r.order;void 0===u&&(u=!0);var f=r.once;if(void 0===f&&(f=!1),e(),I=function(){var t="abcdefghijklmnopqrstuv",n=t.length,e=Date.now();return""+[0,0,0].map((function(){return t[Math.floor(Math.random()*n)]})).join("")+e}(),!(N=function(t,n){return void 0===n&&(n=document),"string"==typeof t?Array.from(n.querySelectorAll(t)):t instanceof Element?[t]:t instanceof NodeList?Array.from(t):t instanceof Array?t:[]}(i)).length)return t("no step elements"),$;var h=N.reduce((function(t,n){return t||T(n.parentNode)}),!1);return h&&console.error("scrollama error: step elements cannot be children of a scrollable element. Remove any css on the parent element with overflow: scroll; or overflow: auto; on elements with fixed height.",h),B=s,U=a,V=u,G=f,$.offsetTrigger(o),R=n(1,+c),H=!0,S(),N.forEach((function(t,n){return t.setAttribute("data-scrollama-index",n)})),j=N.map((function(){return{direction:null,state:null,progress:0}})),l(),$.enable(),$},$.resize=function(){return l(),$},$.enable=function(){return f(!0),$},$.disable=function(){return f(!1),$},$.destroy=function(){f(!1),e()},$.offsetTrigger=function(e){if(null===e)return D;if("number"==typeof e)Y="percent",1<e&&t("offset value is greater than 1. Fallback to 1."),0>e&&t("offset value is lower than 0. Fallback to 0."),D=Math.min(n(0,e),1);else if("string"==typeof e&&0<e.indexOf("px")){var r=+e.replace("px","");isNaN(r)?(t("offset value must be in 'px' format. Fallback to 0.5."),D=.5):(Y="pixels",D=r)}else t("offset value does not include 'px'. Fallback to 0.5."),D=.5;return $},$.onStepEnter=function(n){return"function"==typeof n?A.stepEnter=n:t("onStepEnter requires a function"),$},$.onStepExit=function(n){return"function"==typeof n?A.stepExit=n:t("onStepExit requires a function"),$},$.onStepProgress=function(n){return"function"==typeof n?A.stepProgress=n:t("onStepProgress requires a function"),$},$}}))},,,function(t,n,e){t.exports=e(151)},function(){},function(t,n,e){t.exports=e(32)("native-function-to-string",Function.toString)},function(t){t.exports=function(t,n,e,r){if(!(t instanceof n)||void 0!==r&&r in t)throw TypeError(e+": incorrect invocation!");return t}},function(t,n,e){var r=e(14),i=e(61),o=e(62),a=e(3),c=e(17),s=e(63),u={},l={};(n=t.exports=function(t,n,e,f,h){var d,p,g,v,y=h?function(){return t}:s(t),m=r(e,f,n?2:1),b=0;if("function"!=typeof y)throw TypeError(t+" is not iterable!");if(o(y)){for(d=c(t.length);d>b;b++)if((v=n?m(a(p=t[b])[0],p[1]):m(t[b]))===u||v===l)return v}else for(g=y.call(t);!(p=g.next()).done;)if((v=i(g,m,p.value,n))===u||v===l)return v}).BREAK=u,n.RETURN=l},function(t){t.exports=function(t,n,e){var r=void 0===e;switch(n.length){case 0:return r?t():t.call(e);case 1:return r?t(n[0]):t.call(e,n[0]);case 2:return r?t(n[0],n[1]):t.call(e,n[0],n[1]);case 3:return r?t(n[0],n[1],n[2]):t.call(e,n[0],n[1],n[2]);case 4:return r?t(n[0],n[1],n[2],n[3]):t.call(e,n[0],n[1],n[2],n[3])}return t.apply(e,n)}},function(t,n,e){var r=e(2),i=e(65).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,c=r.Promise,s="process"==e(15)(a);t.exports=function(){var t,n,e,u=function(){var r,i;for(s&&(r=a.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(i){throw t?e():n=void 0,i}}n=void 0,r&&r.enter()};if(s)e=function(){a.nextTick(u)};else if(!o||r.navigator&&r.navigator.standalone)if(c&&c.resolve){var l=c.resolve(void 0);e=function(){l.then(u)}}else e=function(){i.call(r,u)};else{var f=!0,h=document.createTextNode("");new o(u).observe(h,{characterData:!0}),e=function(){h.data=f=!f}}return function(r){var i={fn:r,next:void 0};n&&(n.next=i),t||(t=i,e()),n=i}}},function(t){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,n,e){var r=e(2).navigator;t.exports=r&&r.userAgent||""},function(t,n,e){var r=e(3),i=e(7),o=e(67);t.exports=function(t,n){if(r(t),i(n)&&n.constructor===t)return n;var e=o.f(t);return(0,e.resolve)(n),e.promise}},function(t,n,e){var r=e(10);t.exports=function(t,n,e){for(var i in n)r(t,i,n[i],e);return t}},function(t,n,e){"use strict";var r=e(2),i=e(6),o=e(8),a=e(1)("species");t.exports=function(t){var n=r[t];o&&n&&!n[a]&&i.f(n,a,{configurable:!0,get:function(){return this}})}},function(t,n,e){"use strict";var r=e(5),i=e(110)(6),o="findIndex",a=!0;o in[]&&[,][o]((function(){a=!1})),r(r.P+r.F*a,"Array",{findIndex:function(t){return i(this,t,1<arguments.length?arguments[1]:void 0)}}),e(43)(o)},function(t,n,e){var r=e(14),i=e(71),o=e(25),a=e(17),c=e(111);t.exports=function(t,n){var e=1==t,s=4==t,u=6==t,l=n||c;return function(n,c,f){for(var h,d,p=o(n),g=i(p),v=r(c,f,3),y=a(g.length),m=0,b=e?l(n,y):2==t?l(n,0):void 0;y>m;m++)if((5==t||u||m in g)&&(d=v(h=g[m],m,p),t))if(e)b[m]=d;else if(d)switch(t){case 3:return!0;case 5:return h;case 6:return m;case 2:b.push(h)}else if(s)return!1;return u?-1:3==t||s?s:b}}},function(t,n,e){var r=e(112);t.exports=function(t,n){return new(r(t))(n)}},function(t,n,e){var r=e(7),i=e(72),o=e(1)("species");t.exports=function(t){var n;return i(t)&&("function"==typeof(n=t.constructor)&&(n===Array||i(n.prototype))&&(n=void 0),r(n)&&(null===(n=n[o])&&(n=void 0))),void 0===n?Array:n}},function(t){"use strict";t.exports=function(t){var n=t.stateHandler.getState;return{isDetectable:function(t){var e=n(t);return e&&!!e.isDetectable},markAsDetectable:function(t){n(t).isDetectable=!0},isBusy:function(t){return!!n(t).busy},markBusy:function(t,e){n(t).busy=!!e}}}},function(t){"use strict";t.exports=function(t){function n(n){var r=t.get(n);return void 0===r?[]:e[r]||[]}var e={};return{get:n,add:function(n,r){var i=t.get(n);e[i]||(e[i]=[]),e[i].push(r)},removeListener:function(t,e){for(var r=n(t),i=0,o=r.length;i<o;++i)if(r[i]===e){r.splice(i,1);break}},removeAllListeners:function(t){var e=n(t);e&&(e.length=0)}}}},function(t){"use strict";t.exports=function(){var t=1;return{generate:function(){return t++}}}},function(t){"use strict";t.exports=function(t){var n=t.idGenerator,e=t.stateHandler.getState;return{get:function(t){var n=e(t);return n&&void 0!==n.id?n.id:null},set:function(t){var r=e(t);if(!r)throw new Error("setId required the element to have a resize detection state.");var i=n.generate();return r.id=i,i}}}},function(t){"use strict";t.exports=function(t){function n(){}var e={log:n,warn:n,error:n};if(!t&&window.console){var r=function(t,n){t[n]=function(){var t=console[n];if(t.apply)t.apply(console,arguments);else for(var e=0;e<arguments.length;e++)t(arguments[e])}};r(e,"log"),r(e,"warn"),r(e,"error")}return e}},function(t,n,e){"use strict";function r(){var t={},n=0,e=0,r=0;return{add:function(i,o){o||(o=i,i=0),i>e?e=i:i<r&&(r=i),t[i]||(t[i]=[]),t[i].push(o),n++},process:function(){for(var n,i=r;i<=e;i++){n=t[i];for(var o=0;o<n.length;o++)(0,n[o])()}},size:function(){return n}}}var i=e(119);t.exports=function(t){function n(){for(l=!0;u.size();){var t=u;u=r(),t.process()}l=!1}function e(){s=function(t){return function(t){return setTimeout(t,0)}(t)}(n)}var o=(t=t||{}).reporter,a=i.getOption(t,"async",!0),c=i.getOption(t,"auto",!0);c&&!a&&(o&&o.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),a=!0);var s,u=r(),l=!1;return{add:function(t,n){!l&&c&&a&&0===u.size()&&e(),u.add(t,n)},force:function(t){l||(void 0===t&&(t=a),s&&(function(t){clearTimeout(t)}(s),s=null),t?e():n())}}}},function(t){"use strict";(t.exports={}).getOption=function(t,n,e){var r=t[n];return null==r&&void 0!==e?e:r}},function(t){"use strict";function n(t){return t[e]}var e="_erd";t.exports={initState:function(t){return t[e]={},n(t)},getState:n,cleanState:function(t){delete t[e]}}},function(t,n,e){"use strict";var r=e(74);t.exports=function(t){function n(n){var e=t.important?" !important; ":"; ";return(n.join(e)+e).trim()}function e(t){return a(t).object}var i=(t=t||{}).reporter,o=t.batchProcessor,a=t.stateHandler.getState;if(!i)throw new Error("Missing required dependency: reporter.");return{makeDetectable:function(t,e,c){c||(c=e,e=t,t=null),(t=t||{}).debug,r.isIE(8)?c(e):function(e,c){function s(){function n(){if("static"===f.position){e.style.setProperty("position","relative",t.important?"important":"");var n=function(n,e,r,i){var o=r[i];"auto"!==o&&"0"!==function(t){return t.replace(/[^-\d\.]/g,"")}(o)&&(n.warn("An element that is positioned static has style."+i+"="+o+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+i+" will be set to 0. Element: ",e),e.style.setProperty(i,"0",t.important?"important":""))};n(i,e,f,"top"),n(i,e,f,"right"),n(i,e,f,"bottom"),n(i,e,f,"left")}}""!==f.position&&(n(),l=!0);var o=document.createElement("object");o.style.cssText=u,o.tabIndex=-1,o.type="text/html",o.setAttribute("aria-hidden","true"),o.onload=function(){l||n(),function t(n,e){if(!n.contentDocument){var r=a(n);return r.checkForObjectDocumentTimeoutId&&window.clearTimeout(r.checkForObjectDocumentTimeoutId),void(r.checkForObjectDocumentTimeoutId=setTimeout((function(){r.checkForObjectDocumentTimeoutId=0,t(n,e)}),100))}e(n.contentDocument)}(this,(function(){c(e)}))},r.isIE()||(o.data="about:blank"),a(e)&&(e.appendChild(o),a(e).object=o,r.isIE()&&(o.data="about:blank"))}var u=n(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),l=!1,f=window.getComputedStyle(e),h=e.offsetWidth,d=e.offsetHeight;a(e).startSize={width:h,height:d},o?o.add(s):s()}(e,c)},addListener:function(t,n){function i(){n(t)}if(r.isIE(8))a(t).object={proxy:i},t.attachEvent("onresize",i);else{var o=e(t);if(!o)throw new Error("Element is not detectable by this strategy.");o.contentDocument.defaultView.addEventListener("resize",i)}},uninstall:function(t){if(a(t)){var n=e(t);n&&(r.isIE(8)?t.detachEvent("onresize",n.proxy):t.removeChild(n),a(t).checkForObjectDocumentTimeoutId&&window.clearTimeout(a(t).checkForObjectDocumentTimeoutId),delete a(t).object)}}}}},function(t,n,e){"use strict";var r=e(73).forEach;t.exports=function(t){function n(t){!function(t,n,r){if(!t.getElementById(n)){var i=r+"_animation",o="/* Created by the element-resize-detector library. */\n";o+="."+r+" > div::-webkit-scrollbar { "+e(["display: none"])+" }\n\n",o+="."+r+"_animation_active { "+e(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+i,"animation-name: "+i])+" }\n",o+="@-webkit-keyframes "+i+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }\n",function(e,r){r=r||function(n){t.head.appendChild(n)};var i=t.createElement("style");i.innerHTML=e,i.id=n,r(i)}(o+="@keyframes "+i+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }")}}(t,d,p)}function e(n){var e=t.important?" !important; ":"; ";return(n.join(e)+e).trim()}function i(t,n,e){if(t.addEventListener)t.addEventListener(n,e);else{if(!t.attachEvent)return s.error("[scroll] Don't know how to add event listeners.");t.attachEvent("on"+n,e)}}function o(t,n,e){if(t.removeEventListener)t.removeEventListener(n,e);else{if(!t.detachEvent)return s.error("[scroll] Don't know how to remove event listeners.");t.detachEvent("on"+n,e)}}function a(t){return l(t).container.childNodes[0].childNodes[0].childNodes[0]}function c(t){return l(t).container.childNodes[0].childNodes[0].childNodes[1]}var s=(t=t||{}).reporter,u=t.batchProcessor,l=t.stateHandler.getState,f=(t.stateHandler.hasState,t.idHandler);if(!u)throw new Error("Missing required dependency: batchProcessor");if(!s)throw new Error("Missing required dependency: reporter.");var h=function(){var t=500,n=500,r=document.createElement("div");r.style.cssText=e(["position: absolute","width: 1000px","height: 1000px","visibility: hidden","margin: 0","padding: 0"]);var i=document.createElement("div");i.style.cssText=e(["position: absolute","width: 500px","height: 500px","overflow: scroll","visibility: none","top: -1500px","left: -1500px","visibility: hidden","margin: 0","padding: 0"]),i.appendChild(r),document.body.insertBefore(i,document.body.firstChild);var o=t-i.clientWidth,a=n-i.clientHeight;return document.body.removeChild(i),{width:o,height:a}}(),d="erd_scroll_detection_scrollbar_style",p="erd_scroll_detection_container";return n(window.document),{makeDetectable:function(t,n,o){function d(){if(t.debug){var e=Array.prototype.slice.call(arguments);if(e.unshift(f.get(n),"Scroll: "),s.log.apply)s.log.apply(null,e);else for(var r=0;r<e.length;r++)s.log(e[r])}}function g(t){var n=l(t).container.childNodes[0],e=window.getComputedStyle(n);return!e.width||-1===e.width.indexOf("px")}function v(){var t=window.getComputedStyle(n),e={};return e.position=t.position,e.width=n.offsetWidth,e.height=n.offsetHeight,e.top=t.top,e.right=t.right,e.bottom=t.bottom,e.left=t.left,e.widthCSS=t.width,e.heightCSS=t.height,e}function y(){if(d("storeStyle invoked."),l(n)){var t=v();l(n).style=t}else d("Aborting because element has been uninstalled")}function m(t,n,e){l(t).lastWidth=n,l(t).lastHeight=e}function b(){return 2*h.width+1}function w(){return 2*h.height+1}function x(t){return t+10+b()}function _(t){return t+10+w()}function S(t,n,e){var r=a(t),i=c(t),o=x(n),s=_(e),u=function(t){return 2*t+b()}(n),l=function(t){return 2*t+w()}(e);r.scrollLeft=o,r.scrollTop=s,i.scrollLeft=u,i.scrollTop=l}function T(){var t=l(n).container;if(!t){(t=document.createElement("div")).className=p,t.style.cssText=e(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),l(n).container=t,function(t){t.className+=" "+p+"_animation_active"}(t),n.appendChild(t);var r=function(){l(n).onRendered&&l(n).onRendered()};i(t,"animationstart",r),l(n).onAnimationStart=r}return t}function C(){function r(){l(n).onExpand&&l(n).onExpand()}function o(){l(n).onShrink&&l(n).onShrink()}if(d("Injecting elements"),l(n)){!function(){var e=l(n).style;if("static"===e.position){n.style.setProperty("position","relative",t.important?"important":"");var r=function(t,n,e,r){var i=e[r];"auto"!==i&&"0"!==function(t){return t.replace(/[^-\d\.]/g,"")}(i)&&(t.warn("An element that is positioned static has style."+r+"="+i+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+r+" will be set to 0. Element: ",n),n.style[r]=0)};r(s,n,e,"top"),r(s,n,e,"right"),r(s,n,e,"bottom"),r(s,n,e,"left")}}();var a=l(n).container;a||(a=T());var c=h.width,u=h.height,f=e(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),g=e(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(function(t,n,e,r){return["left: "+(t=t?t+"px":"0"),"top: "+(n=n?n+"px":"0"),"right: "+(r=r?r+"px":"0"),"bottom: "+(e=e?e+"px":"0")]}(-(1+c),-(1+u),-u,-c))),v=e(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),y=e(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),m=e(["position: absolute","left: 0","top: 0"]),b=e(["position: absolute","width: 200%","height: 200%"]),w=document.createElement("div"),x=document.createElement("div"),_=document.createElement("div"),S=document.createElement("div"),C=document.createElement("div"),A=document.createElement("div");w.dir="ltr",w.style.cssText=f,w.className=p,x.className=p,x.style.cssText=g,_.style.cssText=v,S.style.cssText=m,C.style.cssText=y,A.style.cssText=b,_.appendChild(S),C.appendChild(A),x.appendChild(_),x.appendChild(C),w.appendChild(x),a.appendChild(w),i(_,"scroll",r),i(C,"scroll",o),l(n).onExpandScroll=r,l(n).onShrinkScroll=o}else d("Aborting because element has been uninstalled")}function A(){function e(n,e,r){var i=function(t){return a(t).childNodes[0]}(n),o=x(e),c=_(r);i.style.setProperty("width",o+"px",t.important?"important":""),i.style.setProperty("height",c+"px",t.important?"important":"")}function i(r){var i=n.offsetWidth,a=n.offsetHeight,c=i!==l(n).lastWidth||a!==l(n).lastHeight;d("Storing current size",i,a),m(n,i,a),u.add(0,(function(){if(c){if(!l(n))return void d("Aborting because element has been uninstalled");if(!o())return void d("Aborting because element container has not been initialized");if(t.debug){var r=n.offsetWidth,u=n.offsetHeight;(r!==i||u!==a)&&s.warn(f.get(n),"Scroll: Size changed before updating detector elements.")}e(n,i,a)}})),u.add(1,(function(){return l(n)?o()?void S(n,i,a):void d("Aborting because element container has not been initialized"):void d("Aborting because element has been uninstalled")})),c&&r&&u.add(2,(function(){return l(n)?o()?void r():void d("Aborting because element container has not been initialized"):void d("Aborting because element has been uninstalled")}))}function o(){return!!l(n).container}function h(){d("notifyListenersIfNeeded invoked");var t=l(n);return void 0===l(n).lastNotifiedWidth&&t.lastWidth===t.startSize.width&&t.lastHeight===t.startSize.height?d("Not notifying: Size is the same as the start size, and there has been no notification yet."):t.lastWidth===t.lastNotifiedWidth&&t.lastHeight===t.lastNotifiedHeight?d("Not notifying: Size already notified"):(d("Current size not notified, notifying..."),t.lastNotifiedWidth=t.lastWidth,t.lastNotifiedHeight=t.lastHeight,void r(l(n).listeners,(function(t){t(n)})))}function p(){return d("Scroll detected."),g(n)?void d("Scroll event fired while unrendered. Ignoring..."):void i(h)}if(d("registerListenersAndPositionElements invoked."),l(n)){l(n).onRendered=function(){if(d("startanimation triggered."),g(n))d("Ignoring since element is still unrendered...");else{d("Element rendered.");var t=a(n),e=c(n);(0===t.scrollLeft||0===t.scrollTop||0===e.scrollLeft||0===e.scrollTop)&&(d("Scrollbars out of sync. Updating detector elements..."),i(h))}},l(n).onExpand=p,l(n).onShrink=p;var v=l(n).style;e(n,v.width,v.height)}else d("Aborting because element has been uninstalled")}function E(){if(d("finalizeDomMutation invoked."),l(n)){var t=l(n).style;m(n,t.width,t.height),S(n,t.width,t.height)}else d("Aborting because element has been uninstalled")}function I(){o(n)}function N(){d("Installing..."),l(n).listeners=[],function(){var t=v();l(n).startSize={width:t.width,height:t.height},d("Element start size",l(n).startSize)}(),u.add(0,y),u.add(1,C),u.add(2,A),u.add(3,E),u.add(4,I)}o||(o=n,n=t,t=null),t=t||{},d("Making detectable..."),function(t){return!function(t){return t===t.ownerDocument.body||t.ownerDocument.body.contains(t)}(t)||null===window.getComputedStyle(t)}(n)?(d("Element is detached"),T(),d("Waiting until element is attached..."),l(n).onRendered=function(){d("Element is now attached"),N()}):N()},addListener:function(t,n){if(!l(t).listeners.push)throw new Error("Cannot add listener to an element that is not detectable.");l(t).listeners.push(n)},uninstall:function(t){var n=l(t);n&&(n.onExpandScroll&&o(a(t),"scroll",n.onExpandScroll),n.onShrinkScroll&&o(c(t),"scroll",n.onShrinkScroll),n.onAnimationStart&&o(n.container,"animationstart",n.onAnimationStart),n.container&&t.removeChild(n.container))},initDocument:n}}},function(t,n,e){"use strict";var r=e(3),i=e(25),o=e(17),a=e(34),c=e(44),s=e(45),u=Math.max,l=Math.min,f=Math.floor,h=/\$([$&`']|\d\d?|<[^>]*>)/g,d=/\$([$&`']|\d\d?)/g,p=function(t){return void 0===t?t:t+""};e(46)("replace",2,(function(t,n,e,g){function v(t,n,r,o,a,c){var s=r+t.length,u=o.length,l=d;return void 0!==a&&(a=i(a),l=h),e.call(c,l,(function(e,i){var c;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,r);case"'":return n.slice(s);case"<":c=a[i.slice(1,-1)];break;default:var l=+i;if(0==l)return e;if(l>u){var h=f(l/10);return 0===h?e:h<=u?void 0===o[h-1]?i.charAt(1):o[h-1]+i.charAt(1):e}c=o[l-1]}return void 0===c?"":c}))}return[function(r,i){var o=t(this),a=null==r?void 0:r[n];return void 0===a?e.call(o+"",r,i):a.call(r,o,i)},function(t,n){var i=g(e,t,this,n);if(i.done)return i.value;var f=r(t),h=this+"",d="function"==typeof n;d||(n+="");var y=f.global;if(y){var m=f.unicode;f.lastIndex=0}for(var b,w=[];null!==(b=s(f,h))&&(w.push(b),y);){""==b[0]+""&&(f.lastIndex=c(h,o(f.lastIndex),m))}for(var x="",_=0,S=0;S<w.length;S++){for(var T=(b=w[S])[0]+"",C=u(l(a(b.index),h.length),0),A=[],E=1;E<b.length;E++)A.push(p(b[E]));var I=b.groups;if(d){var N=[T].concat(A,C,h);void 0!==I&&N.push(I);var O=n.apply(void 0,N)+""}else O=v(T,h,C,A,I,n);C>=_&&(x+=h.slice(_,C)+O,_=C+T.length)}return x+h.slice(_)}]}))},function(t,n,e){"use strict";var r=e(47);e(5)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(t){t.exports=function(t,n){return{value:n,done:!!t}}},function(t,n,e){"use strict";var r=e(50),i=e(23),o=e(35),a={};e(12)(a,e(1)("iterator"),(function(){return this})),t.exports=function(t,n,e){t.prototype=r(a,{next:i(1,e)}),o(t,n+" Iterator")}},function(t,n,e){var r=e(6),i=e(3),o=e(27);t.exports=e(8)?Object.defineProperties:function(t,n){i(t);for(var e,a=o(n),c=a.length,s=0;c>s;)r.f(t,e=a[s++],n[e]);return t}},function(t,n,e){var r=e(34),i=Math.max,o=Math.min;t.exports=function(t,n){return 0>(t=r(t))?i(t+n,0):o(t,n)}},function(t,n,e){var r=e(13),i=e(25),o=e(51)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,n,e){e(8)&&"g"!=/./g.flags&&e(6).f(RegExp.prototype,"flags",{configurable:!0,get:e(48)})},function(t,n,e){var r=e(22)("meta"),i=e(7),o=e(13),a=e(6).f,c=0,s=Object.isExtensible||function(){return!0},u=!e(9)((function(){return s(Object.preventExtensions({}))})),l=function(t){a(t,r,{value:{i:"O"+ ++c,w:{}}})},f=t.exports={KEY:r,NEED:!1,fastKey:function(t,n){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!s(t))return"F";if(!n)return"E";l(t)}return t[r].i},getWeak:function(t,n){if(!o(t,r)){if(!s(t))return!0;if(!n)return!1;l(t)}return t[r].w},onFreeze:function(t){return u&&f.NEED&&s(t)&&!o(t,r)&&l(t),t}}},function(t,n,e){var r=e(27),i=e(56),o=e(57);t.exports=function(t){var n=r(t),e=i.f;if(e)for(var a,c=e(t),s=o.f,u=0;c.length>u;)s.call(t,a=c[u++])&&n.push(a);return n}},function(t,n,e){var r=e(19),i=e(38).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return a.slice()}}(t):i(r(t))}},function(t,n,e){var r=e(7),i=e(135).set;t.exports=function(t,n,e){var o,a=n.constructor;return a!==e&&"function"==typeof a&&(o=a.prototype)!==e.prototype&&r(o)&&i&&i(t,o),t}},function(t,n,e){var r=e(7),i=e(3),o=function(t,n){if(i(t),!r(n)&&null!==n)throw TypeError(n+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,r){try{(r=e(14)(Function.call,e(39).f(Object.prototype,"__proto__").set,2))(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,e){return o(t,e),n?t.__proto__=e:r(t,e),t}}({},!1):void 0),check:o}},function(t,n,e){var r=e(5),i=e(20),o=e(9),a=e(137),c="["+a+"]",s=RegExp("^"+c+c+"*"),u=RegExp(c+c+"*$"),l=function(t,n,e){var i={},c=o((function(){return!!a[t]()||"âÂ"!="âÂ"[t]()})),s=i[t]=c?n(f):a[t];e&&(i[e]=s),r(r.P+r.F*c,"String",i)},f=l.trim=function(t,n){return t=i(t)+"",1&n&&(t=t.replace(s,"")),2&n&&(t=t.replace(u,"")),t};t.exports=l},function(t){t.exports="\t\n\v\f\r Â áá ââââââââââââ¯âã\u2028\u2029\ufeff"},function(){var t=Math.max,n=Math.min;!function(){"use strict";function e(t){try{return t.defaultView&&t.defaultView.frameElement||null}catch(t){return null}}function r(t){this.time=t.time,this.target=t.target,this.rootBounds=u(t.rootBounds),this.boundingClientRect=u(t.boundingClientRect),this.intersectionRect=u(t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!t.intersectionRect;var n=this.boundingClientRect,e=n.width*n.height,r=this.intersectionRect,i=r.width*r.height;this.intersectionRatio=e?+(i/e).toFixed(4):this.isIntersecting?1:0}function i(t,n){var e=n||{};if("function"!=typeof t)throw new Error("callback must be a function");if(e.root&&1!=e.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=function(t,n){var e=null;return function(){e||(e=setTimeout((function(){t(),e=null}),n))}}(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(e.rootMargin),this.thresholds=this._initThresholds(e.threshold),this.root=e.root||null,this.rootMargin=this._rootMarginValues.map((function(t){return t.value+t.unit})).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function o(t,n,e,r){"function"==typeof t.addEventListener?t.addEventListener(n,e,r||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+n,e)}function a(t,n,e,r){"function"==typeof t.removeEventListener?t.removeEventListener(n,e,r||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+n,e)}function c(e,r){var i=t(e.top,r.top),o=n(e.bottom,r.bottom),a=t(e.left,r.left),c=n(e.right,r.right),s=c-a,u=o-i;return 0<=s&&0<=u&&{top:i,bottom:o,left:a,right:c,width:s,height:u}||null}function s(t){var n;try{n=t.getBoundingClientRect()}catch(t){}return n?(n.width&&n.height||(n={top:n.top,right:n.right,bottom:n.bottom,left:n.left,width:n.right-n.left,height:n.bottom-n.top}),n):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function u(t){return!t||"x"in t?t:{top:t.top,y:t.top,bottom:t.bottom,left:t.left,x:t.left,right:t.right,width:t.width,height:t.height}}function l(t,n){var e=n.top-t.top,r=n.left-t.left;return{top:e,left:r,height:n.height,width:n.width,bottom:e+n.height,right:r+n.width}}function f(t,n){for(var e=n;e;){if(e==t)return!0;e=h(e)}return!1}function h(t){var n=t.parentNode;return 9==t.nodeType&&t!=d?e(t):n&&11==n.nodeType&&n.host?n.host:n&&n.assignedSlot?n.assignedSlot.parentNode:n}if("object"==typeof window){if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)return void("isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return 0<this.intersectionRatio}}));var d=function(t){for(var n=window.document,r=e(n);r;)r=e(n=r.ownerDocument);return n}(),p=[],g=null,v=null;i.prototype.THROTTLE_TIMEOUT=100,i.prototype.POLL_INTERVAL=null,i.prototype.USE_MUTATION_OBSERVER=!0,i._setupCrossOriginUpdater=function(){return g||(g=function(t,n){v=t&&n?l(t,n):{top:0,bottom:0,left:0,right:0,width:0,height:0},p.forEach((function(t){t._checkForIntersections()}))}),g},i._resetCrossOriginUpdater=function(){g=null,v=null},i.prototype.observe=function(t){if(!this._observationTargets.some((function(n){return n.element==t}))){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(t.ownerDocument),this._checkForIntersections()}},i.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter((function(n){return n.element!=t})),this._unmonitorIntersections(t.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},i.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},i.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},i.prototype._initThresholds=function(t){var n=t||[0];return Array.isArray(n)||(n=[n]),n.sort().filter((function(t,n,e){if("number"!=typeof t||isNaN(t)||0>t||1<t)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==e[n-1]}))},i.prototype._parseRootMargin=function(t){var n=(t||"0px").split(/\s+/).map((function(t){var n=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!n)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(n[1]),unit:n[2]}}));return n[1]=n[1]||n[0],n[2]=n[2]||n[0],n[3]=n[3]||n[1],n},i.prototype._monitorIntersections=function(t){var n=t.defaultView;if(n&&-1==this._monitoringDocuments.indexOf(t)){var r=this._checkForIntersections,i=null,c=null;if(this.POLL_INTERVAL?i=n.setInterval(r,this.POLL_INTERVAL):(o(n,"resize",r,!0),o(t,"scroll",r,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in n&&(c=new n.MutationObserver(r)).observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(t),this._monitoringUnsubscribes.push((function(){var n=t.defaultView;n&&(i&&n.clearInterval(i),a(n,"resize",r,!0)),a(t,"scroll",r,!0),c&&c.disconnect()})),t!=(this.root&&this.root.ownerDocument||d)){var s=e(t);s&&this._monitorIntersections(s.ownerDocument)}}},i.prototype._unmonitorIntersections=function(t){var n=this._monitoringDocuments.indexOf(t);if(-1!=n){var r=this.root&&this.root.ownerDocument||d;if(!this._observationTargets.some((function(n){var i=n.element.ownerDocument;if(i==t)return!0;for(;i&&i!=r;){var o=e(i);if((i=o&&o.ownerDocument)==t)return!0}return!1}))){var i=this._monitoringUnsubscribes[n];if(this._monitoringDocuments.splice(n,1),this._monitoringUnsubscribes.splice(n,1),i(),t!=r){var o=e(t);o&&this._unmonitorIntersections(o.ownerDocument)}}}},i.prototype._unmonitorAllIntersections=function(){var t=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var n=0;n<t.length;n++)t[n]()},i.prototype._checkForIntersections=function(){if(this.root||!g||v){var t=this._rootIsInDom(),n=t?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(e){var i=e.element,o=s(i),a=this._rootContainsTarget(i),c=e.entry,u=t&&a&&this._computeTargetAndRootIntersection(i,o,n),l=e.entry=new r({time:window.performance&&performance.now&&performance.now(),target:i,boundingClientRect:o,rootBounds:g&&!this.root?null:n,intersectionRect:u});c?t&&a?this._hasCrossedThreshold(c,l)&&this._queuedEntries.push(l):c&&c.isIntersecting&&this._queuedEntries.push(l):this._queuedEntries.push(l)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},i.prototype._computeTargetAndRootIntersection=function(t,n,e){if("none"!=window.getComputedStyle(t).display){for(var r=n,i=h(t),o=!1;!o&&i;){var a=null,u=1==i.nodeType?window.getComputedStyle(i):{};if("none"==u.display)return null;if(i!=this.root&&9!=i.nodeType){var f=i.ownerDocument;i!=f.body&&i!=f.documentElement&&"visible"!=u.overflow&&(a=s(i))}else if(o=!0,i==this.root||i==d)g&&!this.root?!v||0==v.width&&0==v.height?(i=null,a=null,r=null):a=v:a=e;else{var p=h(i),y=p&&s(p),m=p&&this._computeTargetAndRootIntersection(p,y,e);y&&m?(i=p,a=l(y,m)):(i=null,r=null)}if(a&&(r=c(a,r)),!r)break;i=i&&h(i)}return r}},i.prototype._getRootRect=function(){var t;if(this.root)t=s(this.root);else{var n=d.documentElement,e=d.body;t={top:0,left:0,right:n.clientWidth||e.clientWidth,width:n.clientWidth||e.clientWidth,bottom:n.clientHeight||e.clientHeight,height:n.clientHeight||e.clientHeight}}return this._expandRectByRootMargin(t)},i.prototype._expandRectByRootMargin=function(t){var n=this._rootMarginValues.map((function(n,e){return"px"==n.unit?n.value:n.value*(e%2?t.width:t.height)/100})),e={top:t.top-n[0],right:t.right+n[1],bottom:t.bottom+n[2],left:t.left-n[3]};return e.width=e.right-e.left,e.height=e.bottom-e.top,e},i.prototype._hasCrossedThreshold=function(t,n){var e=t&&t.isIntersecting?t.intersectionRatio||0:-1,r=n.isIntersecting?n.intersectionRatio||0:-1;if(e!==r)for(var i,o=0;o<this.thresholds.length;o++)if((i=this.thresholds[o])==e||i==r||i<e!=i<r)return!0},i.prototype._rootIsInDom=function(){return!this.root||f(d,this.root)},i.prototype._rootContainsTarget=function(t){return f(this.root||d,t)&&(!this.root||this.root.ownerDocument==t.ownerDocument)},i.prototype._registerInstance=function(){0>p.indexOf(this)&&p.push(this)},i.prototype._unregisterInstance=function(){var t=p.indexOf(this);-1!=t&&p.splice(t,1)},window.IntersectionObserver=i,window.IntersectionObserverEntry=r}}()},function(t){t.exports=[["narrationId","narrationClass","marginTopVh","marginBottomVh","minHeightVh","h2Text","paragraphText","hRef","hRefText","trigger","graphTitle","graphCaption"],["introStart","intro","40","40","50","So you want to build a scrollytelling data story?","","","",'{\n\t"svgFileName": "slide1"\n}',"",""],["","intro","40","40","50","And <strong>animate</strong> your charts as you <strong>narrate</strong> the story with scrolling text?","","","",'{\n\t"svgFileName": "slide2"\n}',"",""],["","intro","40","40","50","But you don't want to write a lot of HTML boilerplate...","","","",'{\n\t"svgFileName": "slide3"\n}',"",""],["","intro","40","40","50","ScrollyTeller can help you put it all together!","","","",'{\n\t"svgFileName": "slide4"\n}',"",""],["","intro","40","40","50","How does it work?",'ScrollyTeller uses a JavaScript configuration object (<pre style="display: inline-block;"><code>{ ... }</code></pre>) to define data resources like <strong>chart data</strong> and <strong>text narration</strong>, and builds the HTML layout of the page.<br><br>The configuration also defines functions to <strong>pre-process data</strong>, <strong>build your chart</strong> and <strong>event handlers</strong> to respond to scrolling and resize events.',"","",'{\n\t"svgFileName": "slide5"\n}',"",""]]},function(){},function(t,n,e){var r=e(38),i=e(56),o=e(3),a=e(2).Reflect;t.exports=a&&a.ownKeys||function(t){var n=r.f(o(t)),e=i.f;return e?n.concat(e(t)):n}},function(t,n,e){var r=e(5),i=e(16),o=e(9);t.exports=function(t,n){var e=(i.Object||{})[t]||Object[t],a={};a[t]=n(e),r(r.S+r.F*o((function(){e(1)})),"Object",a)}},function(t,n,e){"use strict";var r=e(5),i=e(79)(!0);r(r.P,"Array",{includes:function(t){return i(this,t,1<arguments.length?arguments[1]:void 0)}}),e(43)("includes")},function(t,n,e){"use strict";var r=e(5),i=e(145),o="includes";r(r.P+r.F*e(146)(o),"String",{includes:function(t){return!!~i(this,t,o).indexOf(t,1<arguments.length?arguments[1]:void 0)}})},function(t,n,e){var r=e(86),i=e(20);t.exports=function(t,n,e){if(r(n))throw TypeError("String#"+e+" doesn't accept regex!");return i(t)+""}},function(t,n,e){var r=e(1)("match");t.exports=function(t){var n=/./;try{"/./"[t](n)}catch(e){try{return n[r]=!1,!"/./"[t](n)}catch(t){}}return!0}},function(){},function(t){t.exports=[["narrationId","narrationClass","marginTopVh","marginBottomVh","minHeightVh","h2Text","paragraphText","hRef","hRefText","trigger","graphTitle","graphCaption"],["","intro","40","40","50","Building a data story with ScrollyTeller",'To demonstrate ScrollyTeller\'s functionality we\'ll implement a simple data story using Hans Rosling\'s famous "Wealth and Health of Nations" animated bubble plot.<br><br>This data is from <a style="display: inline;" target="blank" href="https://www.gapminder.org/">gapminder.org,</a> and the chart was modified from <a  style="display: inline;" href="https://robisateam.github.io/courses/d3-course/" target="blank">this excellent d3 tutorial.</a>',"","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"year": 1950\n}',"The Wealth and Health of Nations",'See Hans Rosling\'s excellent summary video on this chart (with updated data) <a href="https://www.gapminder.org/answers/how-does-income-relate-to-life-expectancy/" target=blank>here.</a>'],["","intro","40","40","50","The chart",'We\'ll assume that you can create your own chart that can respond to changes with <strong>render()</strong> or <strong>update()</strong> functions.<br><br>For example, this chart component has a constructor function that creates the chart, <br><pre class="prettyprint lang-js">new WealthAndHealthOfNations({ data })</pre><br>and a render function that updates the chart with data for the specified year,<br><pre class="prettyprint lang-js">render({ year })</pre>',"","",'{\n\t"snippet": null\n}',"The Wealth and Health of Nations",'See Hans Rosling\'s excellent summary video on this chart (with updated data) <a href="https://www.gapminder.org/answers/how-does-income-relate-to-life-expectancy/" target=blank>here.</a>'],["","intro","40","40","50","The final result","Eventually, we'll want to animate this chart to tell an exciting story, so here's what we're going for: triggering some chart actions based on scroll events or scroll progress.<br><br>(if you're using the spacebar/arrow keys, scroll through this to see the chart smoothly update)","","",'{\n\t"year": null,\n\t"yearDomain": [1950, 2008],\n\t"svgFileName": null,\n\t"snippet": null\n}',"The Wealth and Health of Nations",'See Hans Rosling\'s excellent summary video on this chart (with updated data) <a href="https://www.gapminder.org/answers/how-does-income-relate-to-life-expectancy/" target=blank>here.</a>'],["storyConfigStart","storyConfig","40","40","50","Configuring ScrollyTeller","Let's look at how we can use ScrollyTeller configuration to create a chart-based data story like this.","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"svgFileName": "slide5",\n\t"snippet": null,\n\t"yearDomain": null,\n\t"snippet": null,\n\t"highlight":  null\n}',"",""],["","storyConfig","40","40","50","Configuring ScrollyTeller","The code snippet to the right shows the JavaScript configuration object that specifies how the data story is constructed.","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"svgFileName": null,\n\t"snippet": "scrollyTellerConfig",\n\t"highlight":  "4"\n}',"",""],["","storyConfig","40","40","50","Configuring ScrollyTeller","This sample data story has 2 different 'sections':  'intro' and 'wealthAndHealth'.<br><br>Each section contains a configuration object that encapsulates narration (the scrolling text boxes that narrate the story), data, graph rendering code, and event handling code to trigger graph events when narration scrolls into view.","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "scrollyTellerConfig",\n\t"highlight":  "1,2"\n}',"",""],["","storyConfig","40","40","50","App Container Id","The <strong>storyConfig</strong> object contains two properties: 1) an <strong>appContainerId</strong>, which defines the <strong>div</strong> id to render the scrolling content into, and . . .","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "scrollyTellerConfig",\n\t"highlight": "5"\n}',"",""],["","storyConfig","40","40","50","Section List","2) a <strong>sectionList</strong> object that contains configurations for each of the different sections.","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "scrollyTellerConfig",\n\t"highlight": "7,8,9,10,11"\n}',"",""],["","storyConfig","40","40","50","Rendering the story","To build the HTML for the story, we create a ScrollyTeller instance and call the render() function to create the DOM elements.","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "scrollyTellerConfig",\n\t"highlight": "13,14,15"\n}',"",""],["sectionConfigStart","sectionConfig","40","40","50","Section Configuration","Next, we'll look at how we define the <strong>wealthAndHealth</strong> object defined on line 2 and included in the story's <strong>sectionList</strong>.","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "scrollyTellerConfig",\n\t"highlight": null,\n\t"highlight": "2,9"\n}',"",""],["","sectionConfig","40","40","50","Section configuration","This code snippet expands the wealthAndHealth section configuration from the previous story rendering code.","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "sectionConfigSummary",\n\t"highlight": "1"\n}',"",""],["","sectionConfig","40","40","50","Section Configuration",'The section config object must contain a unique <strong>sectionIdentifier</strong> (string), which is useful for creating css selectors and uniquely identifying each section.<br><br>For example, ScrollyTeller builds this section within: &lt;div id="<strong>section_wealthAndHealth</strong> /&gt;, and our graph will be contained within: &lt;div id="<strong>graph_wealthAndHealth</strong>" /&gt;.',"","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "sectionConfigSummary",\n\t"highlight": "2"\n}',"",""],["","sectionConfig","40","40","50","Section Configuration","The section config object also contains:<br><br>1) <strong>Data Paths/Promises</strong> for the narration and graph-specific data,<br><br>2) <strong>Initial render functions</strong> called upon ScrollyTeller.render(), and<br><br>3) <strong>Event based functions</strong> that respond to scroll and resize events.","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "sectionConfigSummary",\n\t"highlight": "4,8,12"\n}',"",""],["fetchNarrationStart","fetchNarration","40","40","50","Fetch & Render","Let's walk through what happens when ScrollyTeller.render() is called for our Wealth and Health of Nations story.  The same process occurs for each section in the data story.","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "sectionConfigSummary",\n\t"highlight": "4,8"\n}',"",""],["","fetchNarration","40","40","50","Fetch & Render: Narration",'First, ScrollyTeller asynchronously fetches the contents of <strong>narration.csv</strong>, which contains the scrollng text that "narrates" the story.<br><br>Narration is immediately rendered to create a "stack" of <strong>narration blocks</strong> containing text that the user can scroll through.',"","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "sectionConfigFlow",\n\t"highlight": "2,3,4,5,6"\n}',"",""],["","fetchNarration","40","40","80","Narration Blocks","Each <strong>narration block</strong> contains several DOM elements derived from 1 row of a csv file or other tabular data format.<br><br>The part of the narration table structure that defines the <strong>narration block</strong> DOM elements is shown to the right. <strong>Each column maps to a part of the DOM</strong> as follows...","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n            "svgFileName": null,\n\t"snippet": "narrationTableHTML"\n}',"",""],["outline","fetchNarration","40","40","80","h2Text -> Title","paragraphText -> Summary","http://link.com","hRefText -> linked text",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n            "svgFileName": null,\n\t"snippet": "narrationTableHTML"\n}',"",""],["","fetchNarration","40","40","80","Customizing text","Both <strong>h2Text</strong> and <strong>paragraphText</strong> can contain HTML, so you can customize these two fields with links and other formatting.<br><br>However, keep in mind that any HTML will be rendered inside the corresponding <strong>&lt;h2&gt;</strong> and <strong>&lt;p&gt;</strong> tags.","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n            "svgFileName": null,\n\t"snippet": "narrationTableHTML"\n}',"",""],["","fetchNarration","40","40","80","Narration Properties","Several other properties customize the behavior of each narration block:<br><br><strong>narrationId</strong> adds a unique <strong>&lt;div&gt; id</strong> to the narration block,<br><br><strong>narrationClass</strong> adds a class to the narration block, and <br><br><strong>graphTitle</strong> and <strong>graphCaption</strong> add titles/captions above and below the graph.","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n            "svgFileName": null,\n\t"snippet": "narrationRestHTML"\n}',"",""],["","fetchNarration","40","40","80","Narration Sizing",'<strong>marginTopVh</strong> and <strong>marginBottomVh</strong> control the amount of space above and below the narration <strong>&lt;div&gt; id</strong>, which controls scroll "velocity".  <strong>minHeightVh</strong> controls the total height of the narration block and its margins, which can be used in conjunction or as a replacement for the previous two properties.<br><br><em>Although all three properties are specified in vh (viewport height) units, ScrollyTeller dynamically converts these values to pixels to prevent various issues with viewport heights and scrolling.</em>',"","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n            "svgFileName": null,\n\t"snippet": "narrationSizingHTML"\n}',"",""],["","fetchNarration","40","40","80","Narration <strong>triggers</strong>","Each table row also contains a <strong>trigger</strong> column that can contain any valid JSON string.<br><br>The JSON is converted to a JavaScript object and passed to event handler functions to allow the chart to respond when each narration scrolls into view and become <strong>active</strong>.<br><br>We'll revisit this more in a later section. First lets see how to fetch data and render the graph.","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n            "svgFileName": null,\n\t"snippet": "narrationTriggerHTML"\n}',"",""],["fetchDataStart","fetchData","40","40","50","Fetch & Render: Graph Data","While fetching narration, ScrollyTeller also fetches the contents of <strong>wealthAndHealthData.json</strong> for the graph.<br><br>Graph data can be one of:<br>1) a path to any file format readable by d3-fetch (csv, json, tsv, xml, html),<br>2) an array of data, or<br>3) a Promise, which can resolve to return any format you choose.","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "sectionConfigFlow",\n\t"highlight": "8"\n}',"",""],["","fetchData","40","40","50","Fetch & Render: Reshaping data","The graph-specific data is passed to <strong>reshapeDataFunction()</strong>, which can perfom operations like converting strings to numbers, computing data ranges, etc.","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "sectionConfigFlow",\n\t"highlight": "8,9,10,11,12"\n}',"",""],["","fetchData","40","40","50","Reshape Data Function","Let's look in more depth at the <strong>reshapeDataFunction()</strong>.","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "sectionConfigFlow",\n\t"highlight": "11,12,13,14"\n}',"",""],["","fetchData","40","40","50","Reshape Data Function","Once the DOM elements exist, <strong>reshapeDataFunction()</strong> is passed the results of the data fetch (<strong>rawData</strong>). (If you specified the <strong>data</strong> property as a Promise, the <strong>rawData</strong> argment will contain whatever your Promise resolves to.)<br><br>In the code example here, <strong>we compute min and max values for the data ranges</strong> to pass to our graph component.","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "sectionConfigReshapeDemoData",\n\t"highlight": "2,3,4"\n}',"",""],["","fetchData","40","40","50","Reshape Data","Notice that we return the results of the data as an object with some useful properties. This result is attached to a <strong>sectionConfig.data</strong> property that is passed to subsequent functions for easy access.<br><br>Next, we'll look at building the graph.","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "sectionConfigReshapeDemoData",\n\t"highlight": "10,11,12,13,14,15,16"\n}',"",""],["renderGraphStart","renderGraph","40","40","50","Fetch & Render: Graph construction","The data returned from <strong>reshapeDataFunction()</strong> is then passed to <strong>buildGraphFunction()</strong>, which builds the chart or charts for the section.","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "sectionConfigFlow",\n\t"highlight": "13,14,15,16"\n}',"",""],["","renderGraph","40","40","50","Building the Chart","In the code snippet, <strong>buildGraphFunction</strong> receives <strong>graphId</strong> and <strong>sectionConfig</strong> arguments.<br><br><strong>graphId</strong> is the id of the div to target to build the graph.<br><br><strong>sectionConfig</strong> is an object containing a variety of props, but most importantly, the <strong>data</strong> prop, which is the return value of <strong>reshapeDataFunction</strong>.","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "sectionConfigBuildGraph",\n\t"highlight": "3"\n}',"",""],["","renderGraph","40","40","50","Building the Chart","Next, we use some object destructuring (ES6 fanciness) to get data props from <strong>sectionConfig.data</strong>. Notice that we're using <strong>dataArray</strong>, which was computed in <strong>reshapeDataFunction()</strong> and returned as a property (<strong>sectionConfig.data.dataArray</strong>)","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "sectionConfigBuildGraph",\n\t"highlight": "4,5,6,7"\n}',"",""],["","renderGraph","40","40","50","Building the Chart","Finally, we build our chart component with the data.  Here we gloss over the details and just create an instance of a custom component called <strong>WealthAndHealthOfNations</strong>, which takes a css selector to target the <strong>graphId</strong> div and builds the graph using the data and properties we calculated in <strong>reshapeDataFunction()</strong>.","","",'{\t\n            "year": 1950,\n            "yearDomain": null,\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "sectionConfigBuildGraph",\n\t"highlight": "9,10,11,12,13,14"\n}',"",""],["","renderGraph","40","40","50","The rendered chart","At this point, the basic structure of the DOM should be rendered, along with the chart that we created.","","",'{\n\t"year": 1950,\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": null,\n\t"highlight": null,\n\t"svgFileName": null\n}',"",""],["","renderGraph","40","40","50","Building the Chart","<strong>Remember to return the graph instance!</strong>","","",'{\n\t"year": 1950,\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "sectionConfigBuildGraph",\n\t"highlight": "16,17",\n\t"svgFileName": null\n}',"",""],["","renderGraph","40","40","50","Building the Chart"," The return value of <strong>buildGraphFunction</strong> is available as <strong>sectionConfig.graph</strong> when passed to each of the event handlers:<br><br><strong>onActivateNarrationFunction()</strong>,<br><strong>onScrollFunction()</strong>, and<br><strong>onResizeFunction()</strong>,<br><br>which are discussed in the next section.","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "sectionConfigFlow",\n\t"highlight": "17,18,19,20,21",\n\t"svgFileName": null\n}',"",""],["eventHandlersStart","eventHandlers","40","40","50","Triggering narration events","Now let's look at how to trigger events in the chart when narration scrolls into view.","","",'{\n\t"year": 1950,\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": null,\n\t"highlight": null,\n\t"svgFileName": "slide2"\n}',"",""],["","eventHandlers","40","40","50","Triggering narration events","Recall that event handlers are are found in the section configuration, and are only available after <strong> buildGraphFunction()</strong> has been called.","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "sectionConfigSummary",\n\t"highlight": null,\n\t"highlight": "12,13,14,15",\n\t"svgFileName": null\n}',"",""],["","eventHandlers","40","40","50","Trigger example: 1950","Let's imagine we want to advance the chart year from the default value of 1950 to 2008.","","",'{\n\t"year": 1950,\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": null,\n\t"highlight": "",\n\t"svgFileName": null\n}',"",""],["","eventHandlers","40","40","50","Trigger example: 2008","This is the result we're expecting.","","",'{\n\t"year": 2008,\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": null,\n\t"highlight": "",\n\t"svgFileName": null\n}',"",""],["","eventHandlers","40","40","50","Narration <strong>triggers</strong>","To change the graph's year, we'll use the custom JSON trigger that we added to the <strong>trigger</strong> column of the narration file (remember that each row represents a block of narration text).","","",'{\n\t"year": 1990,\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "narrationTriggerHTML",\n\t"highlight": "",\n\t"svgFileName": null\n}',"",""],["","eventHandlers","40","40","50","onActivateNarrationFunction",'ScrollyTeller uses the excellent JavaScript library <a href="https://github.com/russellgoldenberg/scrollama" target=_blank style="display: inline-block; padding: 0;">Scrollama</a> to detect when each narration block intersects the midle of the page an becomes active. When the narration block becomes active, <strong>onActivateNarrationFunction()</strong> receives:<br><br>an object with <strong>sectionConfig.graph</strong>, which is the graph that we returned from <strong>buildGraphFunction</strong><br><br>and a <strong>state</strong> object with the <strong>state.year</strong> property from the trigger JSON.',"","",'{\n\t"year": 2008,\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "onActivateNarrationExample",\n\t"highlight": "4,5,6,8,9",\n\t"svgFileName": null\n}',"",""],["","eventHandlers","40","40","50","onActivateNarrationFunction","To render, we simply check for a valid <strong>chart</strong> and <strong>year</strong>, and pass the current year to the <strong>WealthAndHealthOfNations</strong> graph, which handles the rest.","","",'{\n\t"year": 2008,\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "onActivateNarrationExample",\n\t"highlight": "11,12,13",\n\t"svgFileName": null\n}',"",""],["","eventHandlers","40","40","50","Trigger to state conversion","ScrollyTeller manages the <strong>state</strong> of each narration block by <em>deep merging all preceding <strong>trigger</strong> objects</em>.<br><br>Thus, unchanged <strong>state</strong> properties do not need to be re-defined in each <strong>trigger</strong>, and properties can override preceding properties with the same name.","","",'{\n\t"year": 2008,\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"snippet": "triggerToStateHTML",\n\t"highlight": "",\n\t"svgFileName": null\n}',"",""],["","eventHandlers","40","40","100","Smoothly handling progress","We can also continuously handle scroll progress with the <strong>onScrollFunction()</strong>, which allows us to smoothly transition across years. Let's look at one way to do that.","","",'{\n   "year": null,\n   "yearDomain": [1950, 1999],\n     "snippet": null\n}',"The Wealth and Health of Nations",""],["","eventHandlers","40","40","50","Interpolating years with progress","The <strong>onScroll</strong> function receives a <strong>progress</strong> property that varies from 0 -> 1 as the user scrolls through each narration block.","","",'{\n   "yearDomain": null,\n   "highlight": "4",\n     "snippet": "onScrollExample"\n}',"",""],["","eventHandlers","40","40","50","Interpolating years with progress",'To define the boundaries (the domain) of the years to scroll through, we\'ll create a new trigger property called <strong>yearDomain</strong> that will be an array of start/end years.<br><br><pre class="trigger">{\n             "yearDomain": [1950, 1999],\n             "year": null\n}</pre>',"","",'{\n   "yearDomain": null,\n   "highlight": "6",\n     "snippet": "onScrollExample"\n}',"",""],["","eventHandlers","40","40","50","Interpolating years with progress",'Notice that we have separate properties that are handled by different functions: <strong>year</strong> is only handled by <strong>onActivateNarrationFunction</strong>, and <strong>yearDomain</strong> is only handled by the <strong>onScrollFunction</strong>.  Both event handlers are structured in such a way that their specific property only triggers a graph update when the value is <strong>non-null</strong>, so we can be sure that only one event handler operates in a given narration block at a time.<br><br><pre class="trigger">{\n             "yearDomain": [1950, 1999],\n             "year": null\n}</pre>',"","",'{\n   "yearDomain": null,\n   "highlight": "8",\n     "snippet": "onScrollExample"\n}',"",""],["","eventHandlers","40","40","40","Interpolating years with progress","Interpolating between years is relatively simple. Here we've used <strong>d3.js</strong>'s <strong>interpolate</strong> function to convert the progress (0 to 1) to a year between 1950 and 1999.","","",'{\n   "yearDomain": null,\n   "highlight": "9,10,11,12",\n     "snippet": "onScrollExample"\n}',"",""],["","eventHandlers","40","40","40","onResizeFunction",'The <strong>onResizeFunction</strong> is the final event handler in each section, and is triggered when EITHER the window resizes OR when the graph container resizes (using the excellent <a href="https://www.npmjs.com/package/element-resize-detector" target=_blank style="display: inline-block; padding: 0;">Element Resize Detector</a> library). Graph container resizes can occur for various reasons, so check to make sure that the resize function isn\'t being called more often than you would expect.',"","",'{\n     "snippet": "sectionConfigSummary",\n     "highlight": "15"\n}',"",""],["","eventHandlers","50","50","80","Go Forth and Scroll!","Now you should have most of the tools you need to build your own data story! Please see the rest of the ScrollyTeller documentation for more details, or keep scrolling for some more useful information about custom trigger properties that you can use to add graph titles, captions, and styling. ","https://stash.ihme.washington.edu/projects/VIZ/repos/scrolly-teller/browse","Here's a link to the scrolly-teller repo",'{\n   "year": null,\n   "yearDomain": [1950, 2008],\n     "containerStyle": {\n\t\t"opacity": "calc(1 - $progress)"\n\t},\n\t"snippet": null\n}',"The Wealth and Health of Nations",""]]},function(t){t.exports=[["narrationId","narrationClass","marginTopVh","marginBottomVh","minHeightVh","h2Text","paragraphText","hRef","hRefText","trigger","imageUrl","graphTitle","graphCaption","imageUrl"],["builtInTriggersStart","builtInTriggers","40","40","80","Built in Triggers","This section outlines some custom triggers you can use to modify the graph and change graph styles.","","",'{\n\t"containerStyle": {\n\t\t"opacity": 0\n\t}\n}',"","","",""],["","builtInTriggers","40","40","80","Graph Container","Let's look at the DOM structure of the graph area. To the right (or wherever your CSS places it) is a graph area consisting of a container div (class=graph_container), which is shown in the dashed outline.","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"containerClass": "dashed",\n\t"graphStyle": {\n\t\t"opacity": 0\n\t}\n}',"","","",""],["","builtInTriggers","40","40","80","Graph","And a graph div (class=graph_default), shown by the solid box.","","",'{\n\t"containerStyle": {\n\t\t"opacity": 1\n\t},\n\t"containerClass": "dashed",\n\t"graphStyle": {\n\t\t"opacity": 1,\n\t\t"background-color": "lightgray"\n\t}\n}',"","","",""],["","builtInTriggers","40","40","80","Titles and Captions","Titles (class=graph_title) and captions (class=graph_caption) can be optionally added in the container div, and changed per-narration block.","","","{\n}","","This is a title","This is a caption",""],["","builtInTriggers","40","40","80","Triggers","Remember the JSON triggers that we used to change the year values? Similarly, triggers can be used to style the graph and graph elements.","","",'{ "containerClass": null }',"","This is a title","This is a caption",""],["","builtInTriggers","40","40","80","Styling with Triggers",'ScrollyTeller has some built in triggers that can be used to change styles of the the graph_container and its contents.<br><br><pre class="trigger">{\n\t"graphStyle": {\n\t\t"background-color": "purple"\n        }\n}</pre>',"","",'{\n           "containerStyle": {\n                        "background-color": null\n           },\n\t"graphStyle": {\n\t\t"background-color": "purple"\n\t}\n}',"","This is a title","This is a caption",""],["","builtInTriggers","40","40","80","Graph Container Styling",'This trigger uses the <strong>containerStyle</strong> variable to turn the graph container\'s background color to light gray.<br><br><pre class="trigger">{\n\t"containerStyle": {\n\t\t"background-color": "lightgray"\n        }\n}</pre>',"","",'{\n\t"containerStyle": {\n\t\t"background-color": "lightgray",\n\t\t"border": null,\n\t\t"border-width": null,\n\t\t"border-style": null\n\t}\n}',"","This is a title","This is a caption",""],["","builtInTriggers","40","40","80","Graph Container Styling",'Multiple styles can be set in one trigger.<br><br><pre class="trigger">{\n\t"containerStyle": {\n\t\t"background-color": "lightgray",\n\t\t"border": "black",\n\t\t"border-width": "thick",\n\t\t"border-style": "solid"\n\t}\n}</pre>',"","",'{\n\t"containerStyle": {\n\t\t"background-color": "lightgray",\n\t\t"border": "black",\n\t\t"border-width": "thick",\n\t\t"border-style": "solid"\n\t}\n}',"","This is a title","This is a caption",""],["","builtInTriggers","40","40","80","Graph Styling",'The following trigger turns the graph\'s background color (not the graph container) back to transparent.<br><br><pre  class="trigger">{\n  \t"graphStyle": {\n\t\t"background-color": "transparent"\n\t}\n}</pre><br><br>(Note that ALL styles that have previously been set up to a given point in the narration will be applied in sequence up to this narration block, so when we scroll back up, the graph turns back to purple, which was applied in a trigger that was narration blocks above the previous one).',"","",'{\n\t"titleStyle": {\n\t\t"font-size": null,\n\t\t"color": null\n\t},\n\t"graphStyle": {\n\t\t"background-color": "transparent"\n\t}\n}',"","This is a title","This is a caption",""],["","builtInTriggers","40","40","80","Title and Caption Styling",'Titles and captions can be styled using the special trigger keywords <strong>titleStyle</strong> and <strong>captionStyle</strong>.  Here we\'ve changed the title font size and changed the font color to gray using the trigger string <br><br><pre  class="trigger">{\n\t"titleStyle": {\n\t\t"font-size": "2.1rem",\n\t\t"color": "darkgray"\n\t}\n}</pre>',"","",'{\n\t"titleStyle": {\n\t\t"font-size": "2.1rem",\n\t\t"color": "darkgray"\n\t}\n}',"","Title styled by trigger","This is a caption",""],["","builtInTriggers","40","40","80","Classing graph elements",'Classnames can be added to each of the graph container, graph, title and captions using the following trigger pattern: <br><br><pre  class="trigger">{\n\t"containerClass": "myClassName",\n\t"graphClass": "myGraphClassName",\n\t"titleClass": "myTitleClassName",\n\t"captionClass": "myCaptionClassName"\n}</pre><br><br><em>Right-click and inspect the graph element to see the class names being added in your browser\'s dev tools. </em>',"","",'{\n\t"containerClass": "myClassName",\n\t"graphClass": "myGraphClassName",\n\t"titleClass": "myTitleClassName",\n\t"captionClass": "myCaptionClassName"\n}',"","","",""],["","builtInTriggers","40","40","80","Un-setting variables and removing classnames",'Classnames can be removed from the graph container, graph, title and captions by un-setting the variable name in the trigger (set variable to <strong>null</strong>): <br><br><pre  class="trigger">{\n\t"containerClass": null,\n\t"graphClass": null,\n\t"titleClass": null,\n\t"captionClass": null\n}</pre>',"","",'{\n\t"containerClass": null,\n\t"graphClass": null,\n\t"titleClass": null,\n\t"captionClass": null\n}',"","","",""],["","builtInTriggers","40","40","80","Referring to progress in styles",'You can also refer to the current progress using <strong>$progress</strong> in any trigger. To fade in the container with the CSS <strong>opacity</strong> property, we would use a trigger like this:<br><br> <pre  class="trigger">{\n\t"containerStyle": {\n\t\t"opacity": "$progress"\n\t}\n}</pre>',"","",'{\n\t"containerStyle": {\n\t\t"opacity": "$progress"\n\t}\n}',"","","",""],["","builtInTriggers","40","40","80","Referring to progress in styles",'And to fade the container out a scrolling progresses downward, we would use a trigger like this:<br><br> <pre  class="trigger">{\n\t"containerStyle": {\n\t\t"opacity": "calc(1 - $progress)"\n\t}\n}</pre><br><br>(Notice that this special case requires spaces within the calc() function, which is just the CSS calc() function.  $progress is replaced by the current progress value)',"","",'{\n\t"containerStyle": {\n\t\t"opacity": "calc(1 - $progress)"\n\t}\n}',"","","",""],["","builtInTriggers","40","40","50","The End","Good luck with your data story!","","",'{\n\t"containerStyle": {\n\t\t"opacity": 0\n\t}\n}',"","","",""],["","centered-narration","50","0","50","",'Illustrations in this story were modified from <a href="https://undraw.co/illustrations"\n                  target="_blank">unDraw.co</a>. The Wealth and Health of Nations chart was modified from\n                    <a href="https://robisateam.github.io/courses/d3-course/" target="_blank">this\n                        tutorial</a>. ScrollyTeller was created at the\n                    <a href="http://www.healthdata.org/results/data-visualizations">Institute for\n                        Health Metrics and Evaluation</a> and has been used to tell visual stories about\n                    <a href="https://vizhub.healthdata.org/child-mortality">Child Mortality</a> and\n                    Tobacco Control (coming soon).',"","","","","","",""]]},function(){},function(t,n,e){"use strict";function r(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Aa&&n.documentElement.namespaceURI===Aa?n.createElement(t):n.createElementNS(e,t)}}function i(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function o(){}function a(){return[]}function c(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function s(t,n,e,r,i,o){for(var a,s=0,u=n.length,l=o.length;s<l;++s)(a=n[s])?(a.__data__=o[s],r[s]=a):e[s]=new c(t,o[s]);for(;s<u;++s)(a=n[s])&&(i[s]=a)}function u(t,n,e,r,i,o,a){var s,u,l,f={},h=n.length,d=o.length,p=Array(h);for(s=0;s<h;++s)(u=n[s])&&(p[s]=l=Fa+a.call(u,u.__data__,s,n),l in f?i[s]=u:f[l]=u);for(s=0;s<d;++s)(u=f[l=Fa+a.call(t,o[s],s,o)])?(r[s]=u,u.__data__=o[s],f[l]=null):e[s]=new c(t,o[s]);for(s=0;s<h;++s)(u=n[s])&&f[p[s]]===u&&(i[s]=u)}function l(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function f(t){return function(){this.removeAttribute(t)}}function h(t){return function(){this.removeAttributeNS(t.space,t.local)}}function d(t,n){return function(){this.setAttribute(t,n)}}function p(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function g(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function v(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function y(t){return function(){this.style.removeProperty(t)}}function m(t,n,e){return function(){this.style.setProperty(t,n,e)}}function b(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function w(t,n){return t.style.getPropertyValue(n)||La(t).getComputedStyle(t,null).getPropertyValue(n)}function x(t){return function(){delete this[t]}}function _(t,n){return function(){this[t]=n}}function S(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function T(t){return t.trim().split(/^|\s+/)}function C(t){return t.classList||new A(t)}function A(t){this._node=t,this._names=T(t.getAttribute("class")||"")}function E(t,n){for(var e=C(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function I(t,n){for(var e=C(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function N(t){return function(){E(this,t)}}function O(t){return function(){I(this,t)}}function k(t,n){return function(){(n.apply(this,arguments)?E:I)(this,t)}}function j(){this.textContent=""}function D(t){return function(){this.textContent=t}}function F(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function L(){this.innerHTML=""}function P(t){return function(){this.innerHTML=t}}function M(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function R(){this.nextSibling&&this.parentNode.appendChild(this)}function H(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function z(){return null}function B(){var t=this.parentNode;t&&t.removeChild(this)}function U(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function V(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}function G(t,n,e){return t=W(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function W(t,n,e){return function(r){var i=Ma;Ma=r;try{t.call(this,this.__data__,n,e)}finally{Ma=i}}}function Y(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return 0<=e&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function q(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function $(t,n,e){var r=Pa.hasOwnProperty(t.type)?G:W;return function(i,o,a){var c,s=this.__on,u=r(n,o,a);if(s)for(var l=0,f=s.length;l<f;++l)if((c=s[l]).type===t.type&&c.name===t.name)return this.removeEventListener(c.type,c.listener,c.capture),this.addEventListener(c.type,c.listener=u,c.capture=e),void(c.value=n);this.addEventListener(t.type,u,e),c={type:t.type,name:t.name,value:n,listener:u,capture:e},s?s.push(c):this.__on=[c]}}function X(t,n,e){var r=La(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function J(t,n){return function(){return X(this,t,n)}}function Z(t,n){return function(){return X(this,t,n.apply(this,arguments))}}function K(t,n){this._groups=t,this._parents=n}function Q(){return new K([[document.documentElement]],Ra)}function tt(){this._="@"+(++Ba).toString(36)}function nt(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function et(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function rt(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function it(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new TypeError(Dc);var e=function(){var r=arguments,i=n?n.apply(this,r):r[0],o=e.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return e.cache=o.set(i,a)||o,a};return e.cache=new(it.Cache||jc),e}function ot(t){if("string"==typeof t)return t;if(Va(t))return Mc(t,ot)+"";if(ic(t))return zc?zc.call(t):"";var n=t+"";return"0"==n&&1/t==-Rc?"-0":n}function at(t){var n=this.__data__=new Nc(t);this.size=n.size}function ct(t){var n=-1,e=null==t?0:t.length;for(this.__data__=new jc;++n<e;)this.add(t[n])}function st(t,n){return null!=t&&n in Object(t)}function ut(){var t=window,n=t.navigator,e=t.matchMedia,r=!1;if("maxTouchPoints"in n&&0<n.maxTouchPoints||"msMaxTouchPoints"in n&&0<n.msMaxTouchPoints)r=!0;else{var i=e&&e("(pointer:coarse)");if(i&&"(pointer:coarse)"===i.media)r=!!i.matches;else if("orientation"in window)r=!0;else{var o=n.userAgent;r=/\b(BlackBerry|webOS|iPhone|IEMobile)\b/i.test(o)||/\b(Android|Windows Phone|iPad|iPod)\b/i.test(o)}}return r}function lt(t){if(bu(t)){var n=t.match(/\.(\w{3,4})$/g);return 1===n.length?n[0].replace(".",""):""}return""}function ft(t){var n=function(t){var n=lt(t);return-1!==ju(["csv","tsv","json","html","txt","xml"],(function(t){return t===n}))}(t),e=sc(t)&&!_u(t),r=function(t){return Promise.resolve(t)===t}(t);return e||r||n}function ht(t){var n=t.cssNames;if(n&&"CSSNames"!==n.constructor.name)throw Error("ScrollyTeller.validateSectionConfig() cssNames must be a CSSNames object.")}function dt(t){var n=t.sectionIdentifier,e=t.narration,r=t.buildGraphFunction,i=t.onScrollFunction,o=t.onActivateNarrationFunction;if(gu(n)||!n.length)throw Error("ScrollyTeller.validateSectionConfig() sectionArray is empty.");if(ht(t),!ft(e))throw Error("ScrollyTeller.validateSectionConfig() narration must be an array or a promise.");if(!uc(r))throw Error("ScrollyTeller.validateSectionConfig() buildGraphFunction must be a function.");if(!uc(i))throw Error("ScrollyTeller.validateSectionConfig() onScrollFunction must be a function.");if(!uc(o))throw Error("ScrollyTeller.validateSectionConfig() onActivateNarrationFunction must be a function.")}function pt(t){if("string"!=typeof t&&(t+=""),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||""===t)throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function gt(t){return"string"!=typeof t&&(t+=""),t}function vt(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return Lu.iterable&&(n[Symbol.iterator]=function(){return n}),n}function yt(t){this.map={},t instanceof yt?t.forEach((function(t,n){this.append(n,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(n){this.append(n,t[n])}),this)}function mt(t){return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function bt(t){return new Promise((function(n,e){t.onload=function(){n(t.result)},t.onerror=function(){e(t.error)}}))}function wt(t){var n=new FileReader,e=bt(n);return n.readAsArrayBuffer(t),e}function xt(t){if(t.slice)return t.slice(0);var n=new Uint8Array(t.byteLength);return n.set(new Uint8Array(t)),n.buffer}function _t(){return this.bodyUsed=!1,this._initBody=function(t){this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:Lu.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:Lu.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:Lu.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():Lu.arrayBuffer&&Lu.blob&&function(t){return t&&DataView.prototype.isPrototypeOf(t)}(t)?(this._bodyArrayBuffer=xt(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):Lu.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||Mu(t))?this._bodyArrayBuffer=xt(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):Lu.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},Lu.blob&&(this.blob=function(){var t=mt(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=mt(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(wt)}),this.text=function(){var t=mt(this);if(t)return t;if(this._bodyBlob)return function(t){var n=new FileReader,e=bt(n);return n.readAsText(t),e}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var n=new Uint8Array(t),e=Array(n.length),r=0;r<n.length;r++)e[r]=String.fromCharCode(n[r]);return e.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},Lu.formData&&(this.formData=function(){return this.text().then(Tt)}),this.json=function(){return this.text().then(JSON.parse)},this}function St(t,n){if(!(this instanceof St))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var e=(n=n||{}).body;if(t instanceof St){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,n.headers||(this.headers=new yt(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,e||null==t._bodyInit||(e=t._bodyInit,t.bodyUsed=!0)}else this.url=t+"";if(this.credentials=n.credentials||this.credentials||"same-origin",(n.headers||!this.headers)&&(this.headers=new yt(n.headers)),this.method=function(t){var n=t.toUpperCase();return-1<Ru.indexOf(n)?n:t}(n.method||this.method||"GET"),this.mode=n.mode||this.mode||null,this.signal=n.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&e)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(e),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==n.cache&&"no-cache"!==n.cache)){var r=/([?&])_=[^&]*/;if(r.test(this.url))this.url=this.url.replace(r,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function Tt(t){var n=new FormData;return t.trim().split("&").forEach((function(t){if(t){var e=t.split("="),r=e.shift().replace(/\+/g," "),i=e.join("=").replace(/\+/g," ");n.append(decodeURIComponent(r),decodeURIComponent(i))}})),n}function Ct(t){var n=new yt;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var e=t.split(":"),r=e.shift().trim();if(r){var i=e.join(":").trim();n.append(r,i)}})),n}function At(t,n){if(!(this instanceof At))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');n||(n={}),this.type="default",this.status=void 0===n.status?200:n.status,this.ok=200<=this.status&&300>this.status,this.statusText="statusText"in n?n.statusText:"",this.headers=new yt(n.headers),this.url=n.url||"",this._initBody(t)}function Et(t,n){return new Promise((function(e,r){function i(){a.abort()}var o=new St(t,n);if(o.signal&&o.signal.aborted)return r(new zu("Aborted","AbortError"));var a=new XMLHttpRequest;a.onload=function(){var t={status:a.status,statusText:a.statusText,headers:Ct(a.getAllResponseHeaders()||"")};t.url="responseURL"in a?a.responseURL:t.headers.get("X-Request-URL");var n="response"in a?a.response:a.responseText;setTimeout((function(){e(new At(n,t))}),0)},a.onerror=function(){setTimeout((function(){r(new TypeError("Network request failed"))}),0)},a.ontimeout=function(){setTimeout((function(){r(new TypeError("Network request failed"))}),0)},a.onabort=function(){setTimeout((function(){r(new zu("Aborted","AbortError"))}),0)},a.open(o.method,function(t){try{return""===t&&Fu.location.href?Fu.location.href:t}catch(n){return t}}(o.url),!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&(Lu.blob?a.responseType="blob":Lu.arrayBuffer&&o.headers.get("Content-Type")&&-1!==o.headers.get("Content-Type").indexOf("application/octet-stream")&&(a.responseType="arraybuffer")),!n||"object"!=typeof n.headers||n.headers instanceof yt?o.headers.forEach((function(t,n){a.setRequestHeader(n,t)})):Object.getOwnPropertyNames(n.headers).forEach((function(t){a.setRequestHeader(t,gt(n.headers[t]))})),o.signal&&(o.signal.addEventListener("abort",i),a.onreadystatechange=function(){4===a.readyState&&o.signal.removeEventListener("abort",i)}),a.send(void 0===o._bodyInit?null:o._bodyInit)}))}function It(t){return new Function("d","return {"+t.map((function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'})).join(",")+"}")}function Nt(t){var n=Object.create(null),e=[];return t.forEach((function(t){for(var r in t)r in n||e.push(n[r]=r)})),e}function Ot(t,n){var e=t+"",r=e.length;return r<n?Array(n-r+1).join(0)+e:e}function kt(t){var n=t.getUTCHours(),e=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":function(t){return 0>t?"-"+Ot(-t,6):9999<t?"+"+Ot(t,6):Ot(t,4)}(t.getUTCFullYear())+"-"+Ot(t.getUTCMonth()+1,2)+"-"+Ot(t.getUTCDate(),2)+(i?"T"+Ot(n,2)+":"+Ot(e,2)+":"+Ot(r,2)+"."+Ot(i,3)+"Z":r?"T"+Ot(n,2)+":"+Ot(e,2)+":"+Ot(r,2)+"Z":e||n?"T"+Ot(n,2)+":"+Ot(e,2)+"Z":"")}function jt(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Dt(t){return function(n,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=void 0),rl(n,e).then((function(n){return t(n,r)}))}}function Ft(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return 204===t.status||205===t.status?void 0:t.json()}function Lt(t){return(n,e)=>rl(n,e).then(n=>(new DOMParser).parseFromString(n,t))}function Pt(t,n,e,r,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void e(t)}c.done?n(s):Promise.resolve(s).then(r,i)}function Mt(t){return function(){var n=this,e=arguments;return new Promise((function(r,i){function o(t){Pt(c,r,i,o,a,"next",t)}function a(t){Pt(c,r,i,o,a,"throw",t)}var c=t.apply(n,e);o(void 0)}))}}function Rt(t,n){var e=Wc(t,n);if(bu(e)){var r=lt(e),i=Wc({csv:il,json:al,tsv:ol,xml:cl,html:sl},r);if(uc(i))return i(e);throw Error("ScrollyTeller.convertURLToPromise(). URL must have a file extension of .csv, .tsv, .json, .html, .txt, or .xml")}return e}function Ht(){return zt.apply(this,arguments)}function zt(){return(zt=Mt(regeneratorRuntime.mark((function t(n){var e,r,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=qu(n),r=Xu(e,(function(t){return Promise.resolve(Rt(t,"narration"))})),t.next=4,Promise.all(r);case 4:i=t.sent,yu(e,(function(t,e){var r=t.sectionIdentifier;n[r].narration=i[e]}));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Bt(){return Ut.apply(this,arguments)}function Ut(){return(Ut=Mt(regeneratorRuntime.mark((function t(n){var e,r,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=qu(n),r=Xu(e,(function(t){return Promise.resolve(Rt(t,"data"))})),t.next=4,Promise.all(r);case 4:i=t.sent,yu(e,(function(t,e){var r=t.sectionIdentifier,o=t.reshapeDataFunction,a=t.functionBindingContext;n[r].data=uc(o)?o.apply(a,[i[e]]):i[e]}));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Vt(t,n){return"".concat(function(t,n){return Array(+n+1-t.toString().length).join("0")+t}(t,4),"--").concat(n)}function Gt(t){var n=t.maxTimeInSeconds,e=t.startTime,r=wa((new Date-e)/1e3);return r>=n?n:r}function Wt(t){var n=t.enteringSectionId,e=t.enteringSectionIndex,r=t.enteringNarrationIndex,i=t.maxTimeInSeconds,o=t.pageLoadStartTime,a=t.exitedSectionId,c=t.exitedSectionIndex,s=t.exitedNarrationIndex;window.ga("send",{hitType:"event",eventCategory:"Scroll From-To (SectionIndex---SectionId---NarrationIndex)",eventAction:"From ".concat(Vt(c,a),"--").concat(s),eventLabel:"To ".concat(Vt(e,n),"--").concat(r),eventValue:Gt({maxTimeInSeconds:i,startTime:o})}),window.ga("send",{hitType:"event",eventCategory:"Scroll To-From (SectionIndex---SectionId---NarrationIndex)",eventAction:"To ".concat(Vt(e,n),"--").concat(s),eventLabel:"From ".concat(Vt(c,a),"--").concat(r),eventValue:Gt({maxTimeInSeconds:i,startTime:o})})}function Yt(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new qt(r)}function qt(t){this._=t}function $t(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(0<=r&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}function Xt(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function Jt(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=ul,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}function Zt(){return yl||(wl(Kt),yl=bl.now()+ml)}function Kt(){yl=0}function Qt(){this._call=this._time=this._next=null}function tn(t,n,e){var r=new Qt;return r.restart(t,n,e),r}function nn(){yl=(vl=bl.now())+ml,hl=dl=0;try{!function(){Zt(),++hl;for(var t,n=ll;n;)0<=(t=yl-n._time)&&n._call.call(null,t),n=n._next;--hl}()}finally{hl=0,function(){for(var t,n,e=ll,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:ll=n);fl=t,rn(r)}(),yl=0}}function en(){var t=bl.now(),n=t-vl;n>gl&&(ml-=n,vl=t)}function rn(t){hl||(dl&&(dl=clearTimeout(dl)),24<t-yl?(t<1/0&&(dl=setTimeout(nn,t-bl.now()-ml)),pl&&(pl=clearInterval(pl))):(!pl&&(vl=bl.now(),pl=setInterval(en,gl)),hl=1,wl(nn)))}function on(t,n){var e=cn(t,n);if(e.state>Il)throw new Error("too late; already scheduled");return e}function an(t,n){var e=cn(t,n);if(e.state>kl)throw new Error("too late; already running");return e}function cn(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function sn(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}function o(t,r,i,o,a,c){if(t!==i||r!==o){var s=a.push("translate(",null,n,null,e);c.push({i:s-4,x:Pl(t,i)},{i:s-2,x:Pl(r,o)})}else(i||o)&&a.push("translate("+i+n+o+e)}function a(t,n,e,o){t===n?n&&e.push(i(e)+"rotate("+n+r):(180<t-n?n+=360:180<n-t&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:Pl(t,n)}))}function c(t,n,e,o){t===n?n&&e.push(i(e)+"skewX("+n+r):o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:Pl(t,n)})}return function(n,e){var r=[],s=[];return n=t(n),e=t(e),o(n.translateX,n.translateY,e.translateX,e.translateY,r,s),a(n.rotate,e.rotate,r,s),c(n.skewX,e.skewX,r,s),function(t,n,e,r,o,a){if(t!==e||n!==r){var c=o.push(i(o)+"scale(",null,",",null,")");a.push({i:c-4,x:Pl(t,e)},{i:c-2,x:Pl(n,r)})}else(1!==e||1!==r)&&o.push(i(o)+"scale("+e+","+r+")")}(n.scaleX,n.scaleY,e.scaleX,e.scaleY,r,s),n=e=null,function(t){for(var n,e=-1,i=s.length;++e<i;)r[(n=s[e]).i]=n.x(t);return r.join("")}}}function un(t,n){var e,r;return function(){var i=an(this,t),o=i.tween;if(o!==e)for(var a=0,c=(r=e=o).length;a<c;++a)if(r[a].name===n){(r=r.slice()).splice(a,1);break}i.tween=r}}function ln(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=an(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var c={name:n,value:e},s=0,u=i.length;s<u;++s)if(i[s].name===n){i[s]=c;break}s===u&&i.push(c)}o.tween=i}}function fn(t,n,e){var r=t._id;return t.each((function(){var t=an(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return cn(t,r).value[n]}}function hn(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function dn(){}function pn(t){var n;return t=(t+"").trim().toLowerCase(),(n=Gl.exec(t))?new bn(15&(n=parseInt(n[1],16))>>8|240&n>>4,15&n>>4|240&n,(15&n)<<4|15&n,1):(n=Wl.exec(t))?gn(parseInt(n[1],16)):(n=Yl.exec(t))?new bn(n[1],n[2],n[3],1):(n=ql.exec(t))?new bn(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=$l.exec(t))?vn(n[1],n[2],n[3],n[4]):(n=Xl.exec(t))?vn(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Jl.exec(t))?xn(n[1],n[2]/100,n[3]/100,1):(n=Zl.exec(t))?xn(n[1],n[2]/100,n[3]/100,n[4]):Kl.hasOwnProperty(t)?gn(Kl[t]):"transparent"===t?new bn(NaN,NaN,NaN,0):null}function gn(t){return new bn(255&t>>16,255&t>>8,255&t,1)}function vn(t,n,e,r){return 0>=r&&(t=n=e=NaN),new bn(t,n,e,r)}function yn(t){return t instanceof dn||(t=pn(t)),t?new bn((t=t.rgb()).r,t.g,t.b,t.opacity):new bn}function mn(t,n,e,r){return 1===arguments.length?yn(t):new bn(t,n,e,null==r?1:r)}function bn(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function wn(t){return(16>(t=_a(0,Ca(255,wa(t)||0)))?"0":"")+t.toString(16)}function xn(t,n,e,r){return 0>=r?t=n=e=NaN:0>=e||1<=e?t=n=NaN:0>=n&&(t=NaN),new Sn(t,n,e,r)}function _n(t){if(t instanceof Sn)return new Sn(t.h,t.s,t.l,t.opacity);if(t instanceof dn||(t=pn(t)),!t)return new Sn;if(t instanceof Sn)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Ca(n,e,r),o=_a(n,e,r),a=NaN,c=o-i,s=(o+i)/2;return c?(a=n===o?(e-r)/c+6*(e<r):e===o?(r-n)/c+2:(n-e)/c+4,c/=.5>s?o+i:2-o-i,a*=60):c=0<s&&1>s?0:a,new Sn(a,c,s,t.opacity)}function Sn(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Tn(t,n,e){return 255*(60>t?n+(e-n)*t/60:180>t?e:240>t?n+(e-n)*(240-t)/60:n)}function Cn(t){if(t instanceof An)return new An(t.l,t.a,t.b,t.opacity);if(t instanceof jn){if(isNaN(t.h))return new An(t.l,0,0,t.opacity);var n=t.h*Ql;return new An(t.l,va(n)*t.c,ga(n)*t.c,t.opacity)}t instanceof bn||(t=yn(t));var e,r,i=On(t.r),o=On(t.g),a=On(t.b),c=En((.2225045*i+.7168786*o+.0606169*a)/ef);return i===o&&o===a?e=r=c:(e=En((.4360747*i+.3850649*o+.1430804*a)/nf),r=En((.0139322*i+.0971045*o+.7141733*a)/rf)),new An(116*c-16,500*(e-c),200*(c-r),t.opacity)}function An(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function En(t){return t>sf?xa(t,1/3):t/cf+of}function In(t){return t>af?t*t*t:cf*(t-of)}function Nn(t){return 255*(.0031308>=t?12.92*t:1.055*xa(t,1/2.4)-.055)}function On(t){return.04045>=(t/=255)?t/12.92:xa((t+.055)/1.055,2.4)}function kn(t){if(t instanceof jn)return new jn(t.h,t.c,t.l,t.opacity);if(t instanceof An||(t=Cn(t)),0===t.a&&0===t.b)return new jn(NaN,0,t.l,t.opacity);var n=ya(t.b,t.a)*tf;return new jn(0>n?n+360:n,ma(t.a*t.a+t.b*t.b),t.l,t.opacity)}function jn(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function Dn(t){if(t instanceof Ln)return new Ln(t.h,t.s,t.l,t.opacity);t instanceof bn||(t=yn(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(gf*r+df*n-pf*e)/(gf+df-pf),o=r-i,a=(hf*(e-i)-lf*o)/ff,c=ma(a*a+o*o)/(hf*i*(1-i)),s=c?ya(a,o)*tf-120:NaN;return new Ln(0>s?s+360:s,c,i,t.opacity)}function Fn(t,n,e,r){return 1===arguments.length?Dn(t):new Ln(t,n,e,null==r?1:r)}function Ln(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Pn(t,n,e,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*n+(4-6*o+3*a)*e+(1+3*t+3*o-3*a)*r+a*i)/6}function Mn(t){return 1==(t=+t)?Rn:function(n,e){return e-n?function(t,n,e){return t=xa(t,e),n=xa(n,e)-t,e=1/e,function(r){return xa(t+r*n,e)}}(n,e,t):vf(isNaN(n)?e:n)}}function Rn(t,n){var e=n-t;return e?function(t,n){return function(e){return t+e*n}}(t,e):vf(isNaN(t)?n:t)}function Hn(t){return function(n){var e,r,i=n.length,o=Array(i),a=Array(i),c=Array(i);for(e=0;e<i;++e)r=mn(n[e]),o[e]=r.r||0,a[e]=r.g||0,c[e]=r.b||0;return o=t(o),a=t(a),c=t(c),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=c(t),r+""}}}function zn(t){return function(){this.removeAttribute(t)}}function Bn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Un(t,n,e){var r,i;return function(){var o=this.getAttribute(t);return o===e+""?null:o===r?i:i=n(r=o,e)}}function Vn(t,n,e){var r,i;return function(){var o=this.getAttributeNS(t.space,t.local);return o===e+""?null:o===r?i:i=n(r=o,e)}}function Gn(t,n,e){var r,i,o;return function(){var a,c,s=e(this);return null==s?void this.removeAttribute(t):(a=this.getAttribute(t))===(c=s+"")?null:a===r&&c==i?o:(i=c,o=n(r=a,s))}}function Wn(t,n,e){var r,i,o;return function(){var a,c,s=e(this);return null==s?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local))===(c=s+"")?null:a===r&&c==i?o:(i=c,o=n(r=a,s))}}function Yn(t,n){return function(e){this.setAttribute(t,n(e))}}function qn(t,n){return function(e){this.setAttributeNS(t.space,t.local,n(e))}}function $n(t,n){function e(){var e=n.apply(this,arguments);return e!==i&&(r=(i=e)&&qn(t,e)),r}var r,i;return e._value=n,e}function Xn(t,n){function e(){var e=n.apply(this,arguments);return e!==i&&(r=(i=e)&&Yn(t,e)),r}var r,i;return e._value=n,e}function Jn(t,n){return function(){on(this,t).delay=+n.apply(this,arguments)}}function Zn(t,n){return n=+n,function(){on(this,t).delay=n}}function Kn(t,n){return function(){an(this,t).duration=+n.apply(this,arguments)}}function Qn(t,n){return n=+n,function(){an(this,t).duration=n}}function te(t,n){if("function"!=typeof n)throw new Error;return function(){an(this,t).ease=n}}function ne(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return 0<=n&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?on:an;return function(){var a=o(this,t),c=a.on;c!==r&&(i=(r=c).copy()).on(n,e),a.on=i}}function ee(t){return function(){this.style.removeProperty(t)}}function re(t,n,e){return function(r){this.style.setProperty(t,n(r),e)}}function ie(t,n,e){function r(){var r=n.apply(this,arguments);return r!==o&&(i=(o=r)&&re(t,r,e)),i}var i,o;return r._value=n,r}function oe(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function ae(t){return Ha().transition(t)}function ce(){return++Sf}function se(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return Ef.time=Zt(),Ef;return e}function ue(t,n){return t.each((function(){var t=n.apply(this,arguments),e=za(this);for(var r in t)e.attr(r,t[r])}))}function le(t,n){for(var e in n)t.attr(e,n[e]);return t}function fe(t,n,e){return t.each((function(){var t=n.apply(this,arguments),r=za(this);for(var i in t)r.style(i,t[i],e)}))}function he(t,n,e){for(var r in n)t.style(r,n[r],e);return t}function de(t,n){return t.each((function(){var t=n.apply(this,arguments),e=za(this);for(var r in t)e.property(r,t[r])}))}function pe(t,n){for(var e in n)t.property(e,n[e]);return t}function ge(t,n){return t.each((function(){var e=n.apply(this,arguments),r=za(this).transition(t);for(var i in e)r.attr(i,e[i])}))}function ve(t,n){for(var e in n)t.attr(e,n[e]);return t}function ye(t,n,e){return t.each((function(){var r=n.apply(this,arguments),i=za(this).transition(t);for(var o in r)i.style(o,r[o],e)}))}function me(t,n,e){for(var r in n)t.style(r,n[r],e);return t}function be(t){return function(t){if(Array.isArray(t))return we(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,n){if(t){if("string"==typeof t)return we(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?we(t,n):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function we(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}function xe(t){var n=t.graph,e=t.graphContainer,r=t.names,i=t.sectionIdentifier,o=t.state;n.styles(o.graphStyle).attr("class",[r.graphClassNames(i)].concat(be(o.graphClass?o.graphClass.split(" "):"")).join(" ")),e.styles(o.containerStyle).attr("class",[r.graphContainerClassNames(i),"active"].concat(be(o.containerClass?o.containerClass.split(" "):"")).join(" ")),e.select(".".concat(r.graphCaptionClass())).attr("class",[r.graphCaptionClass()].concat(be(o.captionClass?o.captionClass.split(" "):"")).join(" ")).select("text").styles(o.captionStyle),e.select(".".concat(r.graphTitleClass())).attr("class",[r.graphTitleClass()].concat(be(o.titleClass?o.titleClass.split(" "):"")).join(" ")).select("text").styles(o.titleStyle)}function _e(t){return"".concat(function(t){if(!mu(t))return document.documentElement.clientHeight*(parseFloat(t)/100)}(t),"px")}function Se(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return function(n){return _e(n.marginTopVh*t)}}function Te(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return function(n){return _e(n.marginBottomVh*t)}}function Ce(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return function(n){var e=n.minHeightVh,r=n.marginTopVh,i=n.marginBottomVh;return _e(e*t||+r*t+ +i*t)}}function Ae(t,n){var e=t.sectionIdentifier,r=t.cssNames,i=t.narration,o=za(".".concat(r.scrollContainer())).append("div").attr("class",r.sectionClass()).attr("id",r.sectionId(e));o.append("div").attr("id",r.graphContainerId(e)).attr("class",r.graphContainerClassNames(e)).append("div").attr("class",r.graphClassNames(e)).attr("id",r.graphId(e)),function(t,n,e){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,i=e.cssNames,o=Wc(e,["cssNames","css"]);n.forEach((function(n){var e=n.narrationId,a=n.narrationClass,c=void 0===a?"":a,s=n.h2Text,u=n.paragraphText,l=n.hRefText,f=n.hRef,h="".concat(i.narrationId(e)),d=t.append("div").datum(n).attr("class",o.narrationBlock).attr("id",h).classed(c,!0).style("margin-top",Se(r)).style("margin-bottom",Te(r)).style("min-height",Ce(r)).append("div").datum(n).attr("class",o.narrationContent);_u(s)||d.append("h2").html(s),_u(u)||d.append("p").html(u),_u(l)||_u(f)||d.append("div").attr("class",o.linkContainer).append("a").attr("href",f).attr("target","_blank").html(l)}))}(o.append("div").attr("class",r.narrationList()),i,t,n)}function Ee(t,n,e){var r=t[n];Wf.call(t,n)&&Ac(r,e)&&(void 0!==e||n in t)||qc(t,n,e)}function Ie(t,n,e,r,i){t===n||Xc(n,(function(o,a){if(i||(i=new xs),sc(o))Jf(t,n,a,e,Ie,r,i);else{var c=r?r(Gf(t,a),o,a+"",t,n,i):void 0;void 0===c&&(c=o),Df(t,a,c)}}),$f)}function Ne(t,n){if(!bu(t))return t;var e=t.match(/\$(\w+)/g);return e?kf(e,(function(t,e){return jf(t,e,n[e.substring(1)])}),t):t}function Oe(t,n){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=Ne(t,n);try{return _u(r)?e:oh(e,JSON.parse(r))}catch(n){console.warn("malformed JSON in trigger ".concat(t))}return{}}function ke(t,n){for(var e,r=0;r<n.length;r++)(e=n[r]).enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}function je(t,n,e,r,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void e(t)}c.done?n(s):Promise.resolve(s).then(r,i)}function De(t){return function(){var n=this,e=arguments;return new Promise((function(r,i){function o(t){je(c,r,i,o,a,"next",t)}function a(t){je(c,r,i,o,a,"throw",t)}var c=t.apply(n,e);o(void 0)}))}}function Fe(t,n){for(var e,r=0;r<n.length;r++)(e=n[r]).enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}function Le(t,n,e,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*n+(4-6*o+3*a)*e+(1+3*t+3*o-3*a)*r+a*i)/6}function Pe(t){return 1==(t=+t)?Me:function(n,e){return e-n?function(t,n,e){return t=xa(t,e),n=xa(n,e)-t,e=1/e,function(r){return xa(t+r*n,e)}}(n,e,t):yh(isNaN(n)?e:n)}}function Me(t,n){var e=n-t;return e?function(t,n){return function(e){return t+e*n}}(t,e):yh(isNaN(t)?n:t)}function Re(t){return function(n){var e,r,i=n.length,o=Array(i),a=Array(i),c=Array(i);for(e=0;e<i;++e)r=mn(n[e]),o[e]=r.r||0,a[e]=r.g||0,c[e]=r.b||0;return o=t(o),a=t(a),c=t(c),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=c(t),r+""}}}function He(t,n){var e,r=n?n.length:0,i=t?Ca(r,t.length):0,o=Array(i),a=Array(r);for(e=0;e<i;++e)o[e]=Ah(t[e],n[e]);for(;e<r;++e)a[e]=n[e];return function(t){for(e=0;e<i;++e)a[e]=o[e](t);return a}}function ze(t,n,e){var r=(n-t)/_a(0,e),i=Sa(da(r)/ha),o=r/xa(10,i);return 0<=i?(o>=Ih?10:o>=Nh?5:o>=Oh?2:1)*xa(10,i):-xa(10,-i)/(o>=Ih?10:o>=Nh?5:o>=Oh?2:1)}function Be(t,n){if(0>(e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e")))return null;var e,r=t.slice(0,e);return[1<r.length?r[0]+r.slice(2):r,+t.slice(e+1)]}function Ue(t){if(!(n=Dh.exec(t)))throw new Error("invalid format: "+t);var n;return new Ve({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function Ve(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Ge(t){return t}function We(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:Jh(isNaN(n)?NaN:.5)}function Ye(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=We(i,r),o=e(a,o)):(r=We(r,i),o=e(o,a)),function(t){return o(r(t))}}function qe(t,n,e){var r=Ca(t.length,n.length)-1,i=Array(r),o=Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=We(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(n){var e=$h(t,n,1,r)-1;return o[e](i[e](n))}}function $e(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Xe(){function t(){var t=Ca(s.length,u.length);return f!==Ge&&(f=function(t,n){var e;return t>n&&(e=t,t=n,n=e),function(e){return _a(t,Ca(n,e))}}(s[0],s[t-1])),o=2<t?qe:Ye,a=c=null,n}function n(t){return isNaN(t=+t)?i:(a||(a=o(s.map(e),u,l)))(e(f(t)))}var e,r,i,o,a,c,s=Kh,u=Kh,l=Ah,f=Ge;return n.invert=function(t){return f(r((c||(c=o(u,s.map(e),xh)))(t)))},n.domain=function(n){return arguments.length?(s=Array.from(n,Zh),t()):s.slice()},n.range=function(n){return arguments.length?(u=Array.from(n),t()):u.slice()},n.rangeRound=function(n){return u=Array.from(n),l=Xh,t()},n.clamp=function(n){return arguments.length?(f=!!n||Ge,t()):f!==Ge},n.interpolate=function(n){return arguments.length?(l=n,t()):l},n.unknown=function(t){return arguments.length?(i=t,n):i},function(n,i){return e=n,r=i,t()}}function Je(){return Xe()(Ge,Ge)}function Ze(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}function Ke(t){return da(t)}function Qe(t){return la(t)}function tr(t){return-da(-t)}function nr(t){return-la(-t)}function er(t){return isFinite(t)?+("1e"+t):0>t?0:t}function rr(t){return function(n){return-t(-n)}}function ir(t){function n(){return e=function(t){return t===ua?da:10===t&&sa||2===t&&ca||(t=da(t),function(n){return da(n)/t})}(a),r=function(t){return 10===t?er:t===ua?la:function(n){return xa(t,n)}}(a),0>o()[0]?(e=rr(e),r=rr(r),t(tr,nr)):t(Ke,Qe),i}var e,r,i=t(Ke,Qe),o=i.domain,a=10;return i.base=function(t){return arguments.length?(a=+t,n()):a},i.domain=function(t){return arguments.length?(o(t),n()):o()},i.ticks=function(t){var n,i=o(),c=i[0],s=i[i.length-1];(n=s<c)&&(h=c,c=s,s=h);var u,l,f,h=e(c),d=e(s),p=null==t?10:+t,g=[];if(!(a%1)&&d-h<p){if(h=Sa(h),d=Ta(d),0<c){for(;h<=d;++h)for(l=1,u=r(h);l<a;++l)if(!((f=u*l)<c)){if(f>s)break;g.push(f)}}else for(;h<=d;++h)for(l=a-1,u=r(h);1<=l;--l)if(!((f=u*l)<c)){if(f>s)break;g.push(f)}2*g.length<p&&(g=kh(c,s,p))}else g=kh(h,d,Ca(d-h,p)).map(r);return n?g.reverse():g},i.tickFormat=function(t,n){if(null==n&&(n=10==a?".0e":","),"function"!=typeof n&&(n=Ph(n)),t===1/0)return n;null==t&&(t=10);var o=_a(1,a*t/i.ticks().length);return function(t){var i=t/r(wa(e(t)));return i*a<a-.5&&(i*=a),i<=o?n(t):""}},i.nice=function(){return o(Gh(o(),{floor:function(t){return r(Sa(e(t)))},ceil:function(t){return r(Ta(e(t)))}}))},i}function or(t){var n=t.domain;return t.ticks=function(t){var e=n();return kh(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return Qh(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i,o=n(),a=0,c=o.length-1,s=o[a],u=o[c],l=10;for(u<s&&(i=s,s=u,u=i,i=a,a=c,c=i);0<l--;){if((i=ze(s,u,e))===r)return o[a]=s,o[c]=u,n(o);if(0<i)s=Sa(s/i)*i,u=Ta(u/i)*i;else{if(!(0>i))break;s=Ta(s*i)/i,u=Sa(u*i)/i}r=i}return t},t}function ar(){var t=Je();return t.copy=function(){return $e(t,ar())},Ze.apply(t,arguments),or(t)}function cr(t){return function(n){return 0>n?-xa(-n,t):xa(n,t)}}function sr(t){return 0>t?-ma(-t):ma(t)}function ur(t){return 0>t?-t*t:t*t}function lr(t){function n(){return 1===r?t(Ge,Ge):.5===r?t(sr,ur):t(cr(r),cr(1/r))}var e=t(Ge,Ge),r=1;return e.exponent=function(t){return arguments.length?(r=+t,n()):r},or(e)}function fr(){var t=lr(Xe());return t.copy=function(){return $e(t,fr()).exponent(t.exponent())},Ze.apply(t,arguments),t}function hr(t){return"translate("+(t+.5)+",0)"}function dr(t){return"translate(0,"+(t+.5)+")"}function pr(t){return n=>+t(n)}function gr(t){var n=_a(0,t.bandwidth()-1)/2;return t.round()&&(n=wa(n)),function(e){return+t(e)+n}}function vr(){return!this.__axis}function yr(t,n){function e(e){var h=null==i?n.ticks?n.ticks.apply(n,r):n.domain():i,d=null==o?n.tickFormat?n.tickFormat.apply(n,r):ed:o,p=_a(a,0)+s,g=n.range(),v=+g[0]+.5,y=+g[g.length-1]+.5,m=(n.bandwidth?gr:pr)(n.copy()),b=e.selection?e.selection():e,w=b.selectAll(".domain").data([null]),x=b.selectAll(".tick").data(h,n).order(),_=x.exit(),S=x.enter().append("g").attr("class","tick"),T=x.select("line"),C=x.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),x=x.merge(S),T=T.merge(S.append("line").attr("stroke","currentColor").attr(l+"2",u*a)),C=C.merge(S.append("text").attr("fill","currentColor").attr(l,u*p).attr("dy",t===rd?"0em":t===od?"0.71em":"0.32em")),e!==b&&(w=w.transition(e),x=x.transition(e),T=T.transition(e),C=C.transition(e),_=_.transition(e).attr("opacity",cd).attr("transform",(function(t){return isFinite(t=m(t))?f(t):this.getAttribute("transform")})),S.attr("opacity",cd).attr("transform",(function(t){var n=this.parentNode.__axis;return f(n&&isFinite(n=n(t))?n:m(t))}))),_.remove(),w.attr("d",t===ad||t==id?c?"M"+u*c+","+v+"H0.5V"+y+"H"+u*c:"M0.5,"+v+"V"+y:c?"M"+v+","+u*c+"V0.5H"+y+"V"+u*c:"M"+v+",0.5H"+y),x.attr("opacity",1).attr("transform",(function(t){return f(m(t))})),T.attr(l+"2",u*a),C.attr(l,u*p).text(d),b.filter(vr).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===id?"start":t===ad?"end":"middle"),b.each((function(){this.__axis=m}))}var r=[],i=null,o=null,a=6,c=6,s=3,u=t===rd||t===ad?-1:1,l=t===ad||t===id?"x":"y",f=t===rd||t===od?hr:dr;return e.scale=function(t){return arguments.length?(n=t,e):n},e.ticks=function(){return r=nd.call(arguments),e},e.tickArguments=function(t){return arguments.length?(r=null==t?[]:nd.call(t),e):r.slice()},e.tickValues=function(t){return arguments.length?(i=null==t?null:nd.call(t),e):i&&i.slice()},e.tickFormat=function(t){return arguments.length?(o=t,e):o},e.tickSize=function(t){return arguments.length?(a=c=+t,e):a},e.tickSizeInner=function(t){return arguments.length?(a=+t,e):a},e.tickSizeOuter=function(t){return arguments.length?(c=+t,e):c},e.tickPadding=function(t){return arguments.length?(s=+t,e):s},e}function mr(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===ud&&n.documentElement.namespaceURI===ud?n.createElement(t):n.createElementNS(e,t)}}function br(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function wr(){this._="@"+(++dd).toString(36)}function xr(t,n,e){return t=_r(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function _r(t,n,e){return function(r){var i=bd;bd=r;try{t.call(this,this.__data__,n,e)}finally{bd=i}}}function Sr(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return 0<=e&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function Tr(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function Cr(t,n,e){var r=md.hasOwnProperty(t.type)?xr:_r;return function(i,o,a){var c,s=this.__on,u=r(n,o,a);if(s)for(var l=0,f=s.length;l<f;++l)if((c=s[l]).type===t.type&&c.name===t.name)return this.removeEventListener(c.type,c.listener,c.capture),this.addEventListener(c.type,c.listener=u,c.capture=e),void(c.value=n);this.addEventListener(t.type,u,e),c={type:t.type,name:t.name,value:n,listener:u,capture:e},s?s.push(c):this.__on=[c]}}function Ar(){}function Er(){return[]}function Ir(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function Nr(t,n,e,r,i,o){for(var a,c=0,s=n.length,u=o.length;c<u;++c)(a=n[c])?(a.__data__=o[c],r[c]=a):e[c]=new Ir(t,o[c]);for(;c<s;++c)(a=n[c])&&(i[c]=a)}function Or(t,n,e,r,i,o,a){var c,s,u,l={},f=n.length,h=o.length,d=Array(f);for(c=0;c<f;++c)(s=n[c])&&(d[c]=u=_d+a.call(s,s.__data__,c,n),u in l?i[c]=s:l[u]=s);for(c=0;c<h;++c)(s=l[u=_d+a.call(t,o[c],c,o)])?(r[c]=s,s.__data__=o[c],l[u]=null):e[c]=new Ir(t,o[c]);for(c=0;c<f;++c)(s=n[c])&&l[d[c]]===s&&(i[c]=s)}function kr(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function jr(t){return function(){this.removeAttribute(t)}}function Dr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Fr(t,n){return function(){this.setAttribute(t,n)}}function Lr(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Pr(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function Mr(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Rr(t){return function(){this.style.removeProperty(t)}}function Hr(t,n,e){return function(){this.style.setProperty(t,n,e)}}function zr(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function Br(t){return function(){delete this[t]}}function Ur(t,n){return function(){this[t]=n}}function Vr(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function Gr(t){return t.trim().split(/^|\s+/)}function Wr(t){return t.classList||new Yr(t)}function Yr(t){this._node=t,this._names=Gr(t.getAttribute("class")||"")}function qr(t,n){for(var e=Wr(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function $r(t,n){for(var e=Wr(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function Xr(t){return function(){qr(this,t)}}function Jr(t){return function(){$r(this,t)}}function Zr(t,n){return function(){(n.apply(this,arguments)?qr:$r)(this,t)}}function Kr(){this.textContent=""}function Qr(t){return function(){this.textContent=t}}function ti(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function ni(){this.innerHTML=""}function ei(t){return function(){this.innerHTML=t}}function ri(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function ii(){this.nextSibling&&this.parentNode.appendChild(this)}function oi(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ai(){return null}function ci(){var t=this.parentNode;t&&t.removeChild(this)}function si(t,n,e){var r=Sd(t),i=r.CustomEvent;i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function ui(t,n){return function(){return si(this,t,n)}}function li(t,n){return function(){return si(this,t,n.apply(this,arguments))}}function fi(t,n){this._groups=t,this._parents=n}function hi(t){if(!(n=Od.exec(t)))throw new Error("invalid format: "+t);var n,e=n[1]||" ",r=n[2]||">",i=n[3]||"-",o=n[4]||"",a=!!n[5],c=n[6]&&+n[6],s=!!n[7],u=n[8]&&+n[8].slice(1),l=n[9]||"";"n"===l?(s=!0,l="g"):!Nd[l]&&(l=""),(a||"0"===e&&"="===r)&&(a=!0,e="0",r="="),this.fill=e,this.align=r,this.sign=i,this.symbol=o,this.zero=a,this.width=c,this.comma=s,this.precision=u,this.type=l}function di(t){return t}function pi(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new gi(r)}function gi(t){this._=t}function vi(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(0<=r&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}function yi(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function mi(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=Md,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}function bi(t,n,e){var r=fa(n-t)/_a(0,e),i=xa(10,Sa(da(r)/ha)),o=r/i;return o>=Wd?i*=10:o>=Yd?i*=5:o>=qd&&(i*=2),n<t?-i:i}function wi(){}function xi(t,n){var e=new wi;if(t instanceof wi)t.each((function(t,n){e.set(n,t)}));else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==n)for(;++i<o;)e.set(i,t[i]);else for(;++i<o;)e.set(n(r=t[i],i,t),r)}else if(t)for(var a in t)e.set(a,t[a]);return e}function _i(){}function Si(t,n,e,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*n+(4-6*o+3*a)*e+(1+3*t+3*o-3*a)*r+a*i)/6}function Ti(t,n){return function(e){return t+e*n}}function Ci(t){return 1==(t=+t)?Ai:function(n,e){return e-n?function(t,n,e){return t=xa(t,e),n=xa(n,e)-t,e=1/e,function(r){return xa(t+r*n,e)}}(n,e,t):rp(isNaN(n)?e:n)}}function Ai(t,n){var e=n-t;return e?Ti(t,e):rp(isNaN(t)?n:t)}function Ei(t){return function(n){var e,r,i=n.length,o=Array(i),a=Array(i),c=Array(i);for(e=0;e<i;++e)r=mn(n[e]),o[e]=r.r||0,a[e]=r.g||0,c[e]=r.b||0;return o=t(o),a=t(a),c=t(c),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=c(t),r+""}}}function Ii(t,n){var e,r=n?n.length:0,i=t?Ca(r,t.length):0,o=Array(i),a=Array(r);for(e=0;e<i;++e)o[e]=fp(t[e],n[e]);for(;e<r;++e)a[e]=n[e];return function(t){for(e=0;e<i;++e)a[e]=o[e](t);return a}}function Ni(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:dp(n)}function Oi(t,n,e,r){var i=t[0],o=t[1],a=n[0],c=n[1];return o<i?(i=e(o,i),a=r(c,a)):(i=e(i,o),a=r(a,c)),function(t){return a(i(t))}}function ki(t,n,e,r){var i=Ca(t.length,n.length)-1,o=Array(i),a=Array(i),c=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++c<i;)o[c]=e(t[c],t[c+1]),a[c]=r(n[c],n[c+1]);return function(n){var e=Vd(t,n,1,i)-1;return a[e](o[e](n))}}function ji(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function Di(t,n){function e(){return i=2<Ca(c.length,s.length)?ki:Oi,o=a=null,r}function r(n){return(o||(o=i(c,s,l?function(t){return function(n,e){var r=t(n=+n,e=+e);return function(t){return t<=n?0:t>=e?1:r(t)}}}(t):t,u)))(+n)}var i,o,a,c=gp,s=gp,u=fp,l=!1;return r.invert=function(t){return(a||(a=i(s,c,Ni,l?function(t){return function(n,e){var r=t(n=+n,e=+e);return function(t){return 0>=t?n:1<=t?e:r(t)}}}(n):n)))(+t)},r.domain=function(t){return arguments.length?(c=tp.call(t,pp),e()):c.slice()},r.range=function(t){return arguments.length?(s=np.call(t),e()):s.slice()},r.rangeRound=function(t){return s=np.call(t),u=hp,e()},r.clamp=function(t){return arguments.length?(l=!!t,e()):l},r.interpolate=function(t){return arguments.length?(u=t,e()):u},e()}function Fi(){var t=Di(Ni,ep);return t.copy=function(){return ji(t,Fi())},function(t){var n=t.domain;return t.ticks=function(t){var e=n();return $d(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){return vp(n(),t,e)},t.nice=function(e){var r=n(),i=r.length-1,o=null==e?10:e,a=r[0],c=r[i],s=bi(a,c,o);return s&&(s=bi(Sa(a/s)*s,Ta(c/s)*s,o),r[0]=Sa(a/s)*s,r[i]=Ta(c/s)*s,n(r)),t},t}(t)}function Li(t,n,e,r){function i(n){return t(n=new Date(+n)),n}return i.floor=i,i.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},i.round=function(t){var n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=function(t,e){return n(t=new Date(+t),null==e?1:Sa(e)),t},i.range=function(e,r,o){var a,c=[];if(e=i.ceil(e),o=null==o?1:Sa(o),!(e<r&&0<o))return c;do{c.push(a=new Date(+e)),n(e,o),t(e)}while(a<e&&e<r);return c},i.filter=function(e){return Li((function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)}),(function(t,r){if(t>=t)if(0>r)for(;0>=++r;)for(;n(t,-1),!e(t););else for(;0<=--r;)for(;n(t,1),!e(t););}))},e&&(i.count=function(n,r){return yp.setTime(+n),mp.setTime(+r),t(yp),t(mp),Sa(e(yp,mp))},i.every=function(t){return t=Sa(t),isFinite(t)&&0<t?1<t?i.filter(r?function(n){return 0==r(n)%t}:function(n){return 0==i.count(0,n)%t}):i:null}),i}function Pi(t){return Li((function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+7*n)}),(function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*wp)/_p}))}function Mi(t){return Li((function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+7*n)}),(function(t,n){return(n-t)/_p}))}function Ri(t){if(0<=t.y&&100>t.y){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Hi(t){if(0<=t.y&&100>t.y){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function zi(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function Bi(t,n,e){var r=0>t?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?Array(e-o+1).join(n)+i:i)}function Ui(t){return t.replace(Kp,"\\$&")}function Vi(t){return new RegExp("^(?:"+t.map(Ui).join("|")+")","i")}function Gi(t){for(var n={},e=-1,r=t.length;++e<r;)n[t[e].toLowerCase()]=e;return n}function Wi(t,n,e){var r=Jp.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function Yi(t,n,e){var r=Jp.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function qi(t,n,e){var r=Jp.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function $i(t,n,e){var r=Jp.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function Xi(t,n,e){var r=Jp.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function Ji(t,n,e){var r=Jp.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function Zi(t,n,e){var r=Jp.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(68<+r[0]?1900:2e3),e+r[0].length):-1}function Ki(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function Qi(t,n,e){var r=Jp.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function to(t,n,e){var r=Jp.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function no(t,n,e){var r=Jp.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function eo(t,n,e){var r=Jp.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function ro(t,n,e){var r=Jp.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function io(t,n,e){var r=Jp.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function oo(t,n,e){var r=Jp.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function ao(t,n,e){var r=Jp.exec(n.slice(e,e+6));return r?(t.L=Sa(r[0]/1e3),e+r[0].length):-1}function co(t,n,e){var r=Zp.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function so(t,n,e){var r=Jp.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function uo(t,n,e){var r=Jp.exec(n.slice(e));return r?(t.Q=1e3*+r[0],e+r[0].length):-1}function lo(t,n){return Bi(t.getDate(),n,2)}function fo(t,n){return Bi(t.getHours(),n,2)}function ho(t,n){return Bi(t.getHours()%12||12,n,2)}function po(t,n){return Bi(1+Cp.count(Fp(t),t),n,3)}function go(t,n){return Bi(t.getMilliseconds(),n,3)}function vo(t,n){return go(t,n)+"000"}function yo(t,n){return Bi(t.getMonth()+1,n,2)}function mo(t,n){return Bi(t.getMinutes(),n,2)}function bo(t,n){return Bi(t.getSeconds(),n,2)}function wo(t){var n=t.getDay();return 0===n?7:n}function xo(t,n){return Bi(Ap.count(Fp(t),t),n,2)}function _o(t,n){var e=t.getDay();return t=4<=e||0===e?Op(t):Op.ceil(t),Bi(Op.count(Fp(t),t)+(4===Fp(t).getDay()),n,2)}function So(t){return t.getDay()}function To(t,n){return Bi(Ep.count(Fp(t),t),n,2)}function Co(t,n){return Bi(t.getFullYear()%100,n,2)}function Ao(t,n){return Bi(t.getFullYear()%1e4,n,4)}function Eo(t){var n=t.getTimezoneOffset();return(0<n?"-":(n*=-1,"+"))+Bi(0|n/60,"0",2)+Bi(n%60,"0",2)}function Io(t,n){return Bi(t.getUTCDate(),n,2)}function No(t,n){return Bi(t.getUTCHours(),n,2)}function Oo(t,n){return Bi(t.getUTCHours()%12||12,n,2)}function ko(t,n){return Bi(1+Pp.count($p(t),t),n,3)}function jo(t,n){return Bi(t.getUTCMilliseconds(),n,3)}function Do(t,n){return jo(t,n)+"000"}function Fo(t,n){return Bi(t.getUTCMonth()+1,n,2)}function Lo(t,n){return Bi(t.getUTCMinutes(),n,2)}function Po(t,n){return Bi(t.getUTCSeconds(),n,2)}function Mo(t){var n=t.getUTCDay();return 0===n?7:n}function Ro(t,n){return Bi(Mp.count($p(t),t),n,2)}function Ho(t,n){var e=t.getUTCDay();return t=4<=e||0===e?Bp(t):Bp.ceil(t),Bi(Bp.count($p(t),t)+(4===$p(t).getUTCDay()),n,2)}function zo(t){return t.getUTCDay()}function Bo(t,n){return Bi(Rp.count($p(t),t),n,2)}function Uo(t,n){return Bi(t.getUTCFullYear()%100,n,2)}function Vo(t,n){return Bi(t.getUTCFullYear()%1e4,n,4)}function Go(){return"+0000"}function Wo(){return"%"}function Yo(t){return+t}function qo(t){return Sa(+t/1e3)}function $o(t){return function n(e){function r(n,r){var i=t((n=Fn(n)).h,(r=Fn(r)).h),o=Ai(n.s,r.s),a=Ai(n.l,r.l),c=Ai(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=o(t),n.l=a(xa(t,e)),n.opacity=c(t),n+""}}return e=+e,r.gamma=n,r}(1)}function Xo(t){var n=t.length;return function(e){return t[_a(0,Ca(n-1,Sa(e*n)))]}}function Jo(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function Zo(t){for(var n,e=1;e<arguments.length;e++)n=null==arguments[e]?{}:arguments[e],e%2?Jo(Object(n),!0).forEach((function(e){Ko(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jo(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}));return t}function Ko(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function Qo(t,n){for(var e,r=0;r<n.length;r++)(e=n[r]).enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}function ta(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function na(t){for(var n,e=1;e<arguments.length;e++)n=null==arguments[e]?{}:arguments[e],e%2?ta(Object(n),!0).forEach((function(e){ea(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ta(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}));return t}function ea(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function ra(t,n){if(null==t)return{};var e,r,i=function(t,n){if(null==t)return{};var e,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)e=o[r],0<=n.indexOf(e)||(i[e]=t[e]);return i}(t,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)e=o[r],!(0<=n.indexOf(e))&&Object.prototype.propertyIsEnumerable.call(t,e)&&(i[e]=t[e])}return i}function ia(t){return function(t){if(Array.isArray(t))return oa(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,n){if(t){if("string"==typeof t)return oa(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?oa(t,n):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oa(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}function aa(t){var n=t.graphId,e=t.state,r=e.year,i=e.snippet,o=e.highlight,a=e.svgFileName,c=t.sectionConfig.graph,s=c.$codeSnippetSelection,u=c.wealthAndHealthSelector,l=c.wealthAndHealthGraph,f=t.width,h=t.height,d="";i&&(d=i.includes("HTML")?ug[i]:'<pre class="prettyprint lang-js linenums:5">'.concat(ug[i],"</pre>")),s.html(d),PR.prettyPrint(),i&&o&&dh(s,o.toString().split(","),fg),ph(n,{svgFileName:a},lg.svgFileName),lg.svgFileName=a,i||a?za(u).style("opacity",0):(za(u).style("opacity",1),f&&h?l.resize({width:f,height:h}):!mu(r)&&l.render({year:+r,duration:1e3}))}var ca=Math.log2,sa=Math.log10,ua=Math.E,la=Math.exp,fa=Math.abs,ha=Math.LN10,da=Math.log,pa=Math.asin,ga=Math.sin,va=Math.cos,ya=Math.atan2,ma=Math.sqrt,ba=Math.PI,wa=Math.round,xa=Math.pow,_a=Math.max,Sa=Math.floor,Ta=Math.ceil,Ca=Math.min;e.r(n),e.d(n,"default",(function(){return pg}));var Aa="http://www.w3.org/1999/xhtml",Ea={svg:"http://www.w3.org/2000/svg",xhtml:Aa,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ia=function(t){var n=t+="",e=n.indexOf(":");return 0<=e&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Ea.hasOwnProperty(n)?{space:Ea[n],local:t}:t},Na=function(t){var n=Ia(t);return(n.local?i:r)(n)},Oa=function(t){return null==t?o:function(){return this.querySelector(t)}},ka=function(t){return null==t?a:function(){return this.querySelectorAll(t)}},ja=function(t){return function(){return this.matches(t)}},Da=function(t){return Array(t.length)};c.prototype={constructor:c,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Fa="$",La=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};A.prototype={add:function(t){0>this._names.indexOf(t)&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);0<=n&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return 0<=this._names.indexOf(t)}};var Pa={},Ma=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Pa={mouseenter:"mouseover",mouseleave:"mouseout"}));var Ra=[null];K.prototype=Q.prototype={constructor:K,select:function(t){"function"!=typeof t&&(t=Oa(t));for(var n=this._groups,e=n.length,r=Array(e),i=0;i<e;++i)for(var o,a,c=n[i],s=c.length,u=r[i]=Array(s),l=0;l<s;++l)(o=c[l])&&(a=t.call(o,o.__data__,l,c))&&("__data__"in o&&(a.__data__=o.__data__),u[l]=a);return new K(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=ka(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a,c=n[o],s=c.length,u=0;u<s;++u)(a=c[u])&&(r.push(t.call(a,a.__data__,u,c)),i.push(a));return new K(r,i)},filter:function(t){"function"!=typeof t&&(t=ja(t));for(var n=this._groups,e=n.length,r=Array(e),i=0;i<e;++i)for(var o,a=n[i],c=a.length,s=r[i]=[],u=0;u<c;++u)(o=a[u])&&t.call(o,o.__data__,u,a)&&s.push(o);return new K(r,this._parents)},data:function(t,n){if(!t)return g=Array(this.size()),f=-1,this.each((function(t){g[++f]=t})),g;var e=n?u:s,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=i.length,a=Array(o),c=Array(o),l=Array(o),f=0;f<o;++f){var h=r[f],d=i[f],p=d.length,g=t.call(h,h&&h.__data__,f,r),v=g.length,y=c[f]=Array(v),m=a[f]=Array(v);e(h,d,y,m,l[f]=Array(p),g,n);for(var b,w,x=0,_=0;x<v;++x)if(b=y[x]){for(x>=_&&(_=x+1);!(w=m[_])&&++_<v;);b._next=w||null}}return(a=new K(a,r))._enter=c,a._exit=l,a},enter:function(){return new K(this._enter||this._groups.map(Da),this._parents)},exit:function(){return new K(this._exit||this._groups.map(Da),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=n&&(i=n(i)),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Ca(r,i),a=Array(r),c=0;c<o;++c)for(var s,u=n[c],l=e[c],f=u.length,h=a[c]=Array(f),d=0;d<f;++d)(s=u[d]||l[d])&&(h[d]=s);for(;c<r;++c)a[c]=n[c];return new K(a,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];0<=--o;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=l);for(var e=this._groups,r=e.length,i=Array(r),o=0;o<r;++o){for(var a,c=e[o],s=c.length,u=i[o]=Array(s),f=0;f<s;++f)(a=c[f])&&(u[f]=a);u.sort(n)}return new K(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=Array(this.size()),n=-1;return this.each((function(){t[++n]=this})),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r,i=t[n],o=0,a=i.length;o<a;++o)if(r=i[o])return r;return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,c=o.length;a<c;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=Ia(t);if(2>arguments.length){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?h:f:"function"==typeof n?e.local?v:g:e.local?p:d)(e,n))},style:function(t,n,e){return 1<arguments.length?this.each((null==n?y:"function"==typeof n?b:m)(t,n,null==e?"":e)):w(this.node(),t)},property:function(t,n){return 1<arguments.length?this.each((null==n?x:"function"==typeof n?S:_)(t,n)):this.node()[t]},classed:function(t,n){var e=T(t+"");if(2>arguments.length){for(var r=C(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?k:n?N:O)(e,n))},text:function(t){return arguments.length?this.each(null==t?j:("function"==typeof t?F:D)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?L:("function"==typeof t?M:P)(t)):this.node().innerHTML},raise:function(){return this.each(R)},lower:function(){return this.each(H)},append:function(t){var n="function"==typeof t?t:Na(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:Na(t),r=null==n?z:"function"==typeof n?n:Oa(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(B)},clone:function(t){return this.select(t?V:U)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=Y(t+""),a=o.length;if(!(2>arguments.length)){for(c=n?$:q,null==e&&(e=!1),r=0;r<a;++r)this.each(c(o[r],n,e));return this}var c=this.node().__on;if(c)for(var s,u=0,l=c.length;u<l;++u)for(r=0,s=c[u];r<a;++r)if((i=o[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"==typeof n?Z:J)(t,n))}};var Ha=Q,za=function(t){return"string"==typeof t?new K([[document.querySelector(t)]],[document.documentElement]):new K([[t]],Ra)},Ba=0;tt.prototype=function(){return new tt}.prototype={constructor:tt,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Ua=function(t){return"string"==typeof t?new K([document.querySelectorAll(t)],[document.documentElement]):new K([null==t?[]:t],Ra)},Va=Array.isArray,Ga=e(0),Wa=Ga.a.Symbol,Ya=Object.prototype,qa=Ya.hasOwnProperty,$a=Ya.toString,Xa=Wa?Wa.toStringTag:void 0,Ja=function(t){var n=qa.call(t,Xa),e=t[Xa];try{t[Xa]=void 0}catch(n){}var r=$a.call(t);return n?t[Xa]=e:delete t[Xa],r},Za=Object.prototype.toString,Ka=function(t){return Za.call(t)},Qa="[object Null]",tc="[object Undefined]",nc=Wa?Wa.toStringTag:void 0,ec=function(t){return null==t?void 0===t?tc:Qa:nc&&nc in Object(t)?Ja(t):Ka(t)},rc=function(t){return null!=t&&"object"==typeof t},ic=function(t){return"symbol"==typeof t||rc(t)&&"[object Symbol]"==ec(t)},oc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ac=/^\w*$/,cc=function(t,n){if(Va(t))return!1;var e=typeof t;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!ic(t))||ac.test(t)||!oc.test(t)||null!=n&&t in Object(n)},sc=function(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)},uc=function(t){if(!sc(t))return!1;var n=ec(t);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n},lc=Ga.a["__core-js_shared__"],fc=function(){var t=/[^.]+$/.exec(lc&&lc.keys&&lc.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),hc=Function.prototype.toString,dc=function(t){if(null!=t){try{return hc.call(t)}catch(t){}try{return t+""}catch(t){}}return""},pc=/^\[object .+?Constructor\]$/,gc=Function.prototype,vc=Object.prototype,yc=gc.toString,mc=vc.hasOwnProperty,bc=RegExp("^"+yc.call(mc).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wc=function(t){return!(!sc(t)||function(t){return!!fc&&fc in t}(t))&&(uc(t)?bc:pc).test(dc(t))},xc=function(t,n){var e=function(t,n){return null==t?void 0:t[n]}(t,n);return wc(e)?e:void 0},_c=xc(Object,"create"),Sc=Object.prototype.hasOwnProperty,Tc=Object.prototype.hasOwnProperty;nt.prototype.clear=function(){this.__data__=_c?_c(null):{},this.size=0},nt.prototype.delete=function(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n},nt.prototype.get=function(t){var n=this.__data__;if(_c){var e=n[t];return"__lodash_hash_undefined__"===e?void 0:e}return Sc.call(n,t)?n[t]:void 0},nt.prototype.has=function(t){var n=this.__data__;return _c?void 0!==n[t]:Tc.call(n,t)},nt.prototype.set=function(t,n){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=_c&&void 0===n?"__lodash_hash_undefined__":n,this};var Cc=nt,Ac=function(t,n){return t===n||t!=t&&n!=n},Ec=function(t,n){for(var e=t.length;e--;)if(Ac(t[e][0],n))return e;return-1},Ic=Array.prototype.splice;et.prototype.clear=function(){this.__data__=[],this.size=0},et.prototype.delete=function(t){var n=this.__data__,e=Ec(n,t);return!(0>e)&&(e==n.length-1?n.pop():Ic.call(n,e,1),--this.size,!0)},et.prototype.get=function(t){var n=this.__data__,e=Ec(n,t);return 0>e?void 0:n[e][1]},et.prototype.has=function(t){return-1<Ec(this.__data__,t)},et.prototype.set=function(t,n){var e=this.__data__,r=Ec(e,t);return 0>r?(++this.size,e.push([t,n])):e[r][1]=n,this};var Nc=et,Oc=xc(Ga.a,"Map"),kc=function(t,n){var e=t.__data__;return function(t){var n=typeof t;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t}(n)?e["string"==typeof n?"string":"hash"]:e.map};rt.prototype.clear=function(){this.size=0,this.__data__={hash:new Cc,map:new(Oc||Nc),string:new Cc}},rt.prototype.delete=function(t){var n=kc(this,t).delete(t);return this.size-=n?1:0,n},rt.prototype.get=function(t){return kc(this,t).get(t)},rt.prototype.has=function(t){return kc(this,t).has(t)},rt.prototype.set=function(t,n){var e=kc(this,t),r=e.size;return e.set(t,n),this.size+=e.size==r?0:1,this};var jc=rt,Dc="Expected a function";it.Cache=jc;var Fc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Lc=/\\(\\)?/g,Pc=function(t){var n=it((function(t){var n=[];return 46===t.charCodeAt(0)&&n.push(""),t.replace(Fc,(function(t,e,r,i){n.push(r?i.replace(Lc,"$1"):e||t)})),n}),(function(t){return 500===e.size&&e.clear(),t})),e=n.cache;return n}(),Mc=function(t,n){for(var e=-1,r=null==t?0:t.length,i=Array(r);++e<r;)i[e]=n(t[e],e,t);return i},Rc=1/0,Hc=Wa?Wa.prototype:void 0,zc=Hc?Hc.toString:void 0,Bc=function(t){return null==t?"":ot(t)},Uc=function(t,n){return Va(t)?t:cc(t,n)?[t]:Pc(Bc(t))},Vc=function(t){if("string"==typeof t||ic(t))return t;var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},Gc=function(t,n){for(var e=0,r=(n=Uc(n,t)).length;null!=t&&e<r;)t=t[Vc(n[e++])];return e&&e==r?t:void 0},Wc=function(t,n,e){var r=null==t?void 0:Gc(t,n);return void 0===r?e:r},Yc=(e(98),e(41),e(18),e(69),e(109),e(26),function(){try{var t=xc(Object,"defineProperty");return t({},"",{}),t}catch(t){}}()),qc=function(t,n,e){"__proto__"==n&&Yc?Yc(t,n,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[n]=e},$c=function(t,n,e,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];n(r,a,e(a),t)}return r},Xc=function(t,n,e){for(var r=-1,i=Object(t),o=e(t),a=o.length;a--;){var c=o[++r];if(!1===n(i[c],c,i))break}return t},Jc=function(t){return rc(t)&&"[object Arguments]"==ec(t)},Zc=Object.prototype,Kc=Zc.hasOwnProperty,Qc=Zc.propertyIsEnumerable,ts=Jc(function(){return arguments}())?Jc:function(t){return rc(t)&&Kc.call(t,"callee")&&!Qc.call(t,"callee")},ns=e(11),es=/^(?:0|[1-9]\d*)$/,rs=function(t,n){var e=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==e||"symbol"!=e&&es.test(t))&&-1<t&&0==t%1&&t<n},is=function(t){return"number"==typeof t&&-1<t&&0==t%1&&t<=9007199254740991},os={};os["[object Float32Array]"]=os["[object Float64Array]"]=os["[object Int8Array]"]=os["[object Int16Array]"]=os["[object Int32Array]"]=os["[object Uint8Array]"]=os["[object Uint8ClampedArray]"]=os["[object Uint16Array]"]=os["[object Uint32Array]"]=!0,os["[object Arguments]"]=os["[object Array]"]=os["[object ArrayBuffer]"]=os["[object Boolean]"]=os["[object DataView]"]=os["[object Date]"]=os["[object Error]"]=os["[object Function]"]=os["[object Map]"]=os["[object Number]"]=os["[object Object]"]=os["[object RegExp]"]=os["[object Set]"]=os["[object String]"]=os["[object WeakMap]"]=!1;var as=e(58),cs=as.a&&as.a.isTypedArray,ss=cs?function(t){return function(n){return t(n)}}(cs):function(t){return rc(t)&&is(t.length)&&!!os[ec(t)]},us=Object.prototype.hasOwnProperty,ls=function(t,n){var e=Va(t),r=!e&&ts(t),i=!e&&!r&&Object(ns.a)(t),o=!e&&!r&&!i&&ss(t),a=e||r||i||o,c=a?function(t,n){for(var e=-1,r=Array(t);++e<t;)r[e]=n(e);return r}(t.length,String):[],s=c.length;for(var u in t)(n||us.call(t,u))&&(!a||!("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||rs(u,s)))&&c.push(u);return c},fs=Object.prototype,hs=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||fs)},ds=function(t,n){return function(e){return t(n(e))}},ps=ds(Object.keys,Object),gs=Object.prototype.hasOwnProperty,vs=function(t){if(!hs(t))return ps(t);var n=[];for(var e in Object(t))gs.call(t,e)&&"constructor"!=e&&n.push(e);return n},ys=function(t){return null!=t&&is(t.length)&&!uc(t)},ms=function(t){return ys(t)?ls(t):vs(t)},bs=function(t,n){if(null==t)return t;if(!ys(t))return function(t,n){return t&&Xc(t,n,ms)}(t,n);for(var e=t.length,r=-1,i=Object(t);++r<e&&!1!==n(i[r],r,i););return t},ws=function(t,n,e,r){return bs(t,(function(t,i,o){n(r,t,e(t),o)})),r};at.prototype.clear=function(){this.__data__=new Nc,this.size=0},at.prototype.delete=function(t){var n=this.__data__,e=n.delete(t);return this.size=n.size,e},at.prototype.get=function(t){return this.__data__.get(t)},at.prototype.has=function(t){return this.__data__.has(t)},at.prototype.set=function(t,n){var e=this.__data__;if(e instanceof Nc){var r=e.__data__;if(!Oc||r.length<199)return r.push([t,n]),this.size=++e.size,this;e=this.__data__=new jc(r)}return e.set(t,n),this.size=e.size,this};var xs=at;ct.prototype.add=ct.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},ct.prototype.has=function(t){return this.__data__.has(t)};var _s=function(t,n){for(var e=-1,r=null==t?0:t.length;++e<r;)if(n(t[e],e,t))return!0;return!1},Ss=function(t,n){return t.has(n)},Ts=function(t,n,e,r,i,o){var a=1&e,c=t.length,s=n.length;if(c!=s&&!(a&&s>c))return!1;var u=o.get(t);if(u&&o.get(n))return u==n;var l=-1,f=!0,h=2&e?new ct:void 0;for(o.set(t,n),o.set(n,t);++l<c;){var d=t[l],p=n[l];if(r)var g=a?r(p,d,l,n,t,o):r(d,p,l,t,n,o);if(void 0!==g){if(g)continue;f=!1;break}if(h){if(!_s(n,(function(t,n){if(!Ss(h,n)&&(d===t||i(d,t,e,r,o)))return h.push(n)}))){f=!1;break}}else if(d!==p&&!i(d,p,e,r,o)){f=!1;break}}return o.delete(t),o.delete(n),f},Cs=Ga.a.Uint8Array,As=function(t){var n=-1,e=Array(t.size);return t.forEach((function(t,r){e[++n]=[r,t]})),e},Es=function(t){var n=-1,e=Array(t.size);return t.forEach((function(t){e[++n]=t})),e},Is=Wa?Wa.prototype:void 0,Ns=Is?Is.valueOf:void 0,Os=Object.prototype.propertyIsEnumerable,ks=Object.getOwnPropertySymbols,js=ks?function(t){return null==t?[]:(t=Object(t),function(t,n){for(var e=-1,r=null==t?0:t.length,i=0,o=[];++e<r;){var a=t[e];n(a,e,t)&&(o[i++]=a)}return o}(ks(t),(function(n){return Os.call(t,n)})))}:function(){return[]},Ds=function(t){return function(t,n,e){var r=n(t);return Va(t)?r:function(t,n){for(var e=-1,r=n.length,i=t.length;++e<r;)t[i+e]=n[e];return t}(r,e(t))}(t,ms,js)},Fs=1,Ls=Object.prototype.hasOwnProperty,Ps=xc(Ga.a,"DataView"),Ms=xc(Ga.a,"Promise"),Rs=xc(Ga.a,"Set"),Hs=xc(Ga.a,"WeakMap"),zs="[object Map]",Bs="[object Promise]",Us="[object Set]",Vs="[object WeakMap]",Gs="[object DataView]",Ws=dc(Ps),Ys=dc(Oc),qs=dc(Ms),$s=dc(Rs),Xs=dc(Hs),Js=ec;(Ps&&Js(new Ps(new ArrayBuffer(1)))!=Gs||Oc&&Js(new Oc)!=zs||Ms&&Js(Ms.resolve())!=Bs||Rs&&Js(new Rs)!=Us||Hs&&Js(new Hs)!=Vs)&&(Js=function(t){var n=ec(t),e="[object Object]"==n?t.constructor:void 0,r=e?dc(e):"";if(r)switch(r){case Ws:return Gs;case Ys:return zs;case qs:return Bs;case $s:return Us;case Xs:return Vs}return n});var Zs=Js,Ks="[object Arguments]",Qs="[object Array]",tu="[object Object]",nu=Object.prototype.hasOwnProperty,eu=function(t,n,e,r,i,o){var a=Va(t),c=Va(n),s=a?Qs:Zs(t),u=c?Qs:Zs(n),l=(s=s==Ks?tu:s)==tu,f=(u=u==Ks?tu:u)==tu,h=s==u;if(h&&Object(ns.a)(t)){if(!Object(ns.a)(n))return!1;a=!0,l=!1}if(h&&!l)return o||(o=new xs),a||ss(t)?Ts(t,n,e,r,i,o):function(t,n,e,r,i,o,a){switch(e){case"[object DataView]":if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=n.byteLength||!o(new Cs(t),new Cs(n)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ac(+t,+n);case"[object Error]":return t.name==n.name&&t.message==n.message;case"[object RegExp]":case"[object String]":return t==n+"";case"[object Map]":var c=As;case"[object Set]":var s=1&r;if(c||(c=Es),t.size!=n.size&&!s)return!1;var u=a.get(t);if(u)return u==n;r|=2,a.set(t,n);var l=Ts(c(t),c(n),r,i,o,a);return a.delete(t),l;case"[object Symbol]":if(Ns)return Ns.call(t)==Ns.call(n)}return!1}(t,n,s,e,r,i,o);if(!(1&e)){var d=l&&nu.call(t,"__wrapped__"),p=f&&nu.call(n,"__wrapped__");if(d||p){var g=d?t.value():t,v=p?n.value():n;return o||(o=new xs),i(g,v,e,r,o)}}return!!h&&(o||(o=new xs),function(t,n,e,r,i,o){var a=e&Fs,c=Ds(t),s=c.length;if(s!=Ds(n).length&&!a)return!1;for(var u,l=s;l--;)if(u=c[l],a?!(u in n):!Ls.call(n,u))return!1;var f=o.get(t);if(f&&o.get(n))return f==n;var h=!0;o.set(t,n),o.set(n,t);for(var d=a;++l<s;){var p=t[u=c[l]],g=n[u];if(r)var v=a?r(g,p,u,n,t,o):r(p,g,u,t,n,o);if(void 0===v?p!==g&&!i(p,g,e,r,o):!v){h=!1;break}d||(d="constructor"==u)}if(h&&!d){var y=t.constructor,m=n.constructor;y!=m&&"constructor"in t&&"constructor"in n&&!("function"==typeof y&&y instanceof y&&"function"==typeof m&&m instanceof m)&&(h=!1)}return o.delete(t),o.delete(n),h}(t,n,e,r,i,o))},ru=function t(n,e,r,i,o){return!(n!==e)||(null!=n&&null!=e&&(rc(n)||rc(e))?eu(n,e,r,i,t,o):n!=n&&e!=e)},iu=1,ou=2,au=function(t){return t==t&&!sc(t)},cu=function(t,n){return function(e){return null!=e&&e[t]===n&&(void 0!==n||t in Object(e))}},su=function(t){var n=function(t){for(var n=ms(t),e=n.length;e--;){var r=n[e],i=t[r];n[e]=[r,i,au(i)]}return n}(t);return 1==n.length&&n[0][2]?cu(n[0][0],n[0][1]):function(e){return e===t||function(t,n,e,r){var i=e.length,o=i,a=!r;if(null==t)return!o;for(t=Object(t);i--;){var c=e[i];if(a&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++i<o;){var s=(c=e[i])[0],u=t[s],l=c[1];if(a&&c[2]){if(void 0===u&&!(s in t))return!1}else{var f=new xs;if(r)var h=r(u,l,s,t,n,f);if(void 0===h?!ru(l,u,iu|ou,r,f):!h)return!1}}return!0}(e,t,n)}},uu=function(t,n){return null!=t&&function(t,n,e){for(var r,i=-1,o=(n=Uc(n,t)).length,a=!1;++i<o&&(r=Vc(n[i]),a=null!=t&&e(t,r));)t=t[r];return a||++i!=o?a:!!(o=null==t?0:t.length)&&is(o)&&rs(r,o)&&(Va(t)||ts(t))}(t,n,st)},lu=function(t){return t},fu=function(t){return cc(t)?function(t){return function(n){return null==n?void 0:n[t]}}(Vc(t)):function(t){return function(n){return Gc(n,t)}}(t)},hu=function(t){return"function"==typeof t?t:null==t?lu:"object"==typeof t?Va(t)?function(t,n){return cc(t)&&au(n)?cu(Vc(t),n):function(e){var r=Wc(e,t);return void 0===r&&r===n?uu(e,t):ru(n,r,3)}}(t[0],t[1]):su(t):fu(t)},du=function(t,n){return function(n,e){var r={};return(Va(n)?$c:ws)(n,t,hu(e),r)}}((function(t,n,e){qc(t,e,n)})),pu=function(){},gu=function(t){return void 0===t},vu=function(t,n){for(var e=-1,r=null==t?0:t.length;++e<r&&!1!==n(t[e],e,t););return t},yu=function(t,n){return(Va(t)?vu:bs)(t,function(t){return"function"==typeof t?t:lu}(n))},mu=function(t){return null==t},bu=function(t){return"string"==typeof t||!Va(t)&&rc(t)&&"[object String]"==ec(t)},wu=function(t){return"number"==typeof t||rc(t)&&"[object Number]"==ec(t)},xu=Object.prototype.hasOwnProperty,_u=function(t){if(null==t)return!0;if(ys(t)&&(Va(t)||"string"==typeof t||"function"==typeof t.splice||Object(ns.a)(t)||ss(t)||ts(t)))return!t.length;var n=Zs(t);if("[object Map]"==n||"[object Set]"==n)return!t.size;if(hs(t))return!vs(t).length;for(var e in t)if(xu.call(t,e))return!1;return!0},Su=e(90),Tu=e.n(Su),Cu=(e(123),e(76),/^\s+|\s+$/g),Au=/^[-+]0x[0-9a-f]+$/i,Eu=/^0b[01]+$/i,Iu=/^0o[0-7]+$/i,Nu=parseInt,Ou=function(t){if("number"==typeof t)return t;if(ic(t))return NaN;if(sc(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=sc(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Cu,"");var e=Eu.test(t);return e||Iu.test(t)?Nu(t.slice(2),e?2:8):Au.test(t)?NaN:+t},ku=function(t){var n=function(t){return t?(t=Ou(t))===1/0||t===-1/0?17976931348623157e292*(0>t?-1:1):t==t?t:0:0===t?t:0}(t),e=n%1;return n==n?e?n-e:n:0},ju=function(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var i=null==e?0:ku(e);return 0>i&&(i=_a(r+i,0)),function(t,n,e,r){for(var i=t.length,o=e+(r?1:-1);r?o--:++o<i;)if(n(t[o],o,t))return o;return-1}(t,hu(n),i)},Du={scrollContainer:"scroll",sectionContainer:"section",narrationList:"narration_list",narrationBlock:"narration",narrationContent:"narration-content",graphContainer:"graph",graphContainerDefault:"graph_default",graphTitleClass:"graph_title",graphCaptionClass:"graph_caption",linkContainer:"link"},Fu=(e(36),e(37),e(53),"undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==Fu&&Fu),Lu={searchParams:"URLSearchParams"in Fu,iterable:"Symbol"in Fu&&"iterator"in Symbol,blob:"FileReader"in Fu&&"Blob"in Fu&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in Fu,arrayBuffer:"ArrayBuffer"in Fu};if(Lu.arrayBuffer)var Pu=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Mu=ArrayBuffer.isView||function(t){return t&&-1<Pu.indexOf(Object.prototype.toString.call(t))};yt.prototype.append=function(t,n){t=pt(t),n=gt(n);var e=this.map[t];this.map[t]=e?e+", "+n:n},yt.prototype.delete=function(t){delete this.map[pt(t)]},yt.prototype.get=function(t){return t=pt(t),this.has(t)?this.map[t]:null},yt.prototype.has=function(t){return this.map.hasOwnProperty(pt(t))},yt.prototype.set=function(t,n){this.map[pt(t)]=gt(n)},yt.prototype.forEach=function(t,n){for(var e in this.map)this.map.hasOwnProperty(e)&&t.call(n,this.map[e],e,this)},yt.prototype.keys=function(){var t=[];return this.forEach((function(n,e){t.push(e)})),vt(t)},yt.prototype.values=function(){var t=[];return this.forEach((function(n){t.push(n)})),vt(t)},yt.prototype.entries=function(){var t=[];return this.forEach((function(n,e){t.push([e,n])})),vt(t)},Lu.iterable&&(yt.prototype[Symbol.iterator]=yt.prototype.entries);var Ru=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];St.prototype.clone=function(){return new St(this,{body:this._bodyInit})},_t.call(St.prototype),_t.call(At.prototype),At.prototype.clone=function(){return new At(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new yt(this.headers),url:this.url})},At.error=function(){var t=new At(null,{status:0,statusText:""});return t.type="error",t};var Hu=[301,302,303,307,308];At.redirect=function(t,n){if(-1===Hu.indexOf(n))throw new RangeError("Invalid status code");return new At(null,{status:n,headers:{location:t}})};var zu=Fu.DOMException;try{new zu}catch(t){(zu=function(t,n){this.message=t,this.name=n;var e=Error(t);this.stack=e.stack}).prototype=Object.create(Error.prototype),zu.prototype.constructor=zu}Et.polyfill=!0,Fu.fetch||(Fu.fetch=Et,Fu.Headers=yt,Fu.Request=St,Fu.Response=At);var Bu=function(t,n){var e=-1,r=t.length;for(n||(n=Array(r));++e<r;)n[e]=t[e];return n},Uu=/[\u200d\ud800-\udfff\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff\ufe0e\ufe0f]/,Vu=/\ud83c[\udffb-\udfff](?=\ud83c[\udffb-\udfff])|(?:[^\ud800-\udfff][\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]?|[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,Gu=function(t){return function(t){return Uu.test(t)}(t)?function(t){return t.match(Vu)||[]}(t):function(t){return t.split("")}(t)},Wu=function(t){return null==t?[]:function(t,n){return Mc(n,(function(n){return t[n]}))}(t,ms(t))},Yu=Wa?Wa.iterator:void 0,qu=function(t){if(!t)return[];if(ys(t))return bu(t)?Gu(t):Bu(t);if(Yu&&t[Yu])return function(t){for(var n,e=[];!(n=t.next()).done;)e.push(n.value);return e}(t[Yu]());var n=Zs(t);return("[object Map]"==n?As:"[object Set]"==n?Es:Wu)(t)},$u=function(t,n){var e=-1,r=ys(t)?Array(t.length):[];return bs(t,(function(t,i,o){r[++e]=n(t,i,o)})),r},Xu=function(t,n){return(Va(t)?Mc:$u)(t,hu(n))},Ju={},Zu={},Ku=function(t){function n(t,n){function e(){if(u)return Zu;if(l)return l=!1,Ju;var n,e,r=c;if(34===t.charCodeAt(r)){for(;c++<o&&34!==t.charCodeAt(c)||34===t.charCodeAt(++c););return(n=c)>=o?u=!0:10===(e=t.charCodeAt(c++))?l=!0:13===e&&(l=!0,10===t.charCodeAt(c)&&++c),t.slice(r+1,n-1).replace(/""/g,'"')}for(;c<o;){if(10===(e=t.charCodeAt(n=c++)))l=!0;else if(13===e)l=!0,10===t.charCodeAt(c)&&++c;else if(e!==a)continue;return t.slice(r,n)}return u=!0,t.slice(r,o)}var r,i=[],o=t.length,c=0,s=0,u=0>=o,l=!1;for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=e())!==Zu;){for(var f=[];r!==Ju&&r!==Zu;)f.push(r),r=e();n&&null==(f=n(f,s++))||i.push(f)}return i}function e(n,e){return n.map((function(n){return e.map((function(t){return i(n[t])})).join(t)}))}function r(n){return n.map(i).join(t)}function i(t){return null==t?"":t instanceof Date?kt(t):o.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}var o=new RegExp('["'+t+"\n\r]"),a=t.charCodeAt(0);return{parse:function(t,e){var r,i,o=n(t,(function(t,n){return r?r(t,n-1):(i=t,void(r=e?function(t,n){var e=It(t);return function(r,i){return n(e(r),i,t)}}(t,e):It(t)))}));return o.columns=i||[],o},parseRows:n,format:function(n,r){return null==r&&(r=Nt(n)),[r.map(i).join(t)].concat(e(n,r)).join("\n")},formatBody:function(t,n){return null==n&&(n=Nt(t)),e(t,n).join("\n")},formatRows:function(t){return t.map(r).join("\n")},formatRow:r,formatValue:i}},Qu=Ku(","),tl=Qu.parse,nl=(Qu.parseRows,Qu.format,Qu.formatBody,Qu.formatRows,Qu.formatRow,Qu.formatValue,Ku("\t")),el=nl.parse,rl=(nl.parseRows,nl.format,nl.formatBody,nl.formatRows,nl.formatRow,nl.formatValue,function(t,n){return fetch(t,n).then(jt)}),il=Dt(tl),ol=Dt(el),al=function(t,n){return fetch(t,n).then(Ft)},cl=Lt("application/xml"),sl=Lt("text/html"),ul=(Lt("image/svg+xml"),e(54),e(80),e(82),e(55),e(85),{value:function(){}});qt.prototype=Yt.prototype={constructor:qt,on:function(t,n){var e,r=this._,i=$t(t+"",r),o=-1,a=i.length;if(!(2>arguments.length)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<a;)if(e=(t=i[o]).type)r[e]=Jt(r[e],t.name,n);else if(null==n)for(e in r)r[e]=Jt(r[e],t.name,null);return this}for(;++o<a;)if((e=(t=i[o]).type)&&(e=Xt(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new qt(t)},call:function(t,n){if(0<(e=arguments.length-2))for(var e,r,i=Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var ll,fl,hl=0,dl=0,pl=0,gl=1e3,vl=0,yl=0,ml=0,bl="object"==typeof performance&&performance.now?performance:Date,wl="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};Qt.prototype=tn.prototype={constructor:Qt,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?Zt():+e)+(null==n?0:+n),this._next||fl===this||(fl?fl._next=this:ll=this,fl=this),this._call=t,this._time=e,rn()},stop:function(){this._call&&(this._call=null,this._time=1/0,rn())}};var xl,_l,Sl,Tl,Cl=function(t,n,e){var r=new Qt;return n=null==n?0:+n,r.restart((function(e){r.stop(),t(e+n)}),n,e),r},Al=Yt("start","end","cancel","interrupt"),El=[],Il=0,Nl=1,Ol=2,kl=3,jl=4,Dl=5,Fl=6,Ll=function(t,n,e,r,i,o){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function(t,n,e){function r(s){var u,l,f,h;if(e.state!==Nl)return o();for(u in c)if((h=c[u]).name===e.name){if(h.state===kl)return Cl(r);h.state===jl?(h.state=Fl,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete c[u]):+u<n&&(h.state=Fl,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete c[u])}if(Cl((function(){e.state===kl&&(e.state=jl,e.timer.restart(i,e.delay,e.time),i(s))})),e.state=Ol,e.on.call("start",t,t.__data__,e.index,e.group),e.state===Ol){for(e.state=kl,a=Array(f=e.tween.length),u=0,l=-1;u<f;++u)(h=e.tween[u].value.call(t,t.__data__,e.index,e.group))&&(a[++l]=h);a.length=l+1}}function i(n){for(var r=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(o),e.state=Dl,1),i=-1,c=a.length;++i<c;)a[i].call(t,r);e.state===Dl&&(e.on.call("end",t,t.__data__,e.index,e.group),o())}function o(){for(var r in e.state=Fl,e.timer.stop(),delete c[n],c)return;delete t.__transition}var a,c=t.__transition;c[n]=e,e.timer=tn((function(t){e.state=Nl,e.timer.restart(r,e.delay,e.time),e.delay<=t&&r(t-e.delay)}),0,e.time)}(t,e,{name:n,index:r,group:i,on:Al,tween:El,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Il})},Pl=function(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}},Ml=180/ba,Rl={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Hl=function(t,n,e,r,i,o){var a,c,s;return(a=ma(t*t+n*n))&&(t/=a,n/=a),(s=t*e+n*r)&&(e-=t*s,r-=n*s),(c=ma(e*e+r*r))&&(e/=c,r/=c,s/=c),t*r<n*e&&(t=-t,n=-n,s=-s,a=-a),{translateX:i,translateY:o,rotate:ya(n,t)*Ml,skewX:Math.atan(s)*Ml,scaleX:a,scaleY:c}},zl=sn((function(t){return"none"===t?Rl:(xl||(xl=document.createElement("DIV"),_l=document.documentElement,Sl=document.defaultView),xl.style.transform=t,t=Sl.getComputedStyle(_l.appendChild(xl),null).getPropertyValue("transform"),_l.removeChild(xl),t=t.slice(7,-1).split(","),Hl(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),Bl=sn((function(t){return null==t?Rl:(Tl||(Tl=document.createElementNS("http://www.w3.org/2000/svg","g")),Tl.setAttribute("transform",t),(t=Tl.transform.baseVal.consolidate())?(t=t.matrix,Hl(t.a,t.b,t.c,t.d,t.e,t.f)):Rl)}),", ",")",")"),Ul=function(t,n,e){t.prototype=n.prototype=e,e.constructor=t},Vl=1/.7,Gl=/^#([0-9a-f]{3})$/,Wl=/^#([0-9a-f]{6})$/,Yl=/^rgb\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*\)$/,ql=/^rgb\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,$l=/^rgba\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,Xl=/^rgba\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,Jl=/^hsl\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,Zl=/^hsla\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,Kl={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ul(dn,pn,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),Ul(bn,mn,hn(dn,{brighter:function(t){return t=null==t?Vl:xa(Vl,t),new bn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:xa(.7,t),new bn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&255>=this.r&&0<=this.g&&255>=this.g&&0<=this.b&&255>=this.b&&0<=this.opacity&&1>=this.opacity},hex:function(){return"#"+wn(this.r)+wn(this.g)+wn(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:_a(0,Ca(1,t)))?"rgb(":"rgba(")+_a(0,Ca(255,wa(this.r)||0))+", "+_a(0,Ca(255,wa(this.g)||0))+", "+_a(0,Ca(255,wa(this.b)||0))+(1===t?")":", "+t+")")}})),Ul(Sn,(function(t,n,e,r){return 1===arguments.length?_n(t):new Sn(t,n,e,null==r?1:r)}),hn(dn,{brighter:function(t){return t=null==t?Vl:xa(Vl,t),new Sn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:xa(.7,t),new Sn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(0>this.h),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(.5>e?e:1-e)*n,i=2*e-r;return new bn(Tn(240<=t?t-240:t+120,i,r),Tn(t,i,r),Tn(120>t?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity}}));var Ql=ba/180,tf=180/ba,nf=.96422,ef=1,rf=.82521,of=4/29,af=6/29,cf=3*af*af,sf=af*af*af;Ul(An,(function(t,n,e,r){return 1===arguments.length?Cn(t):new An(t,n,e,null==r?1:r)}),hn(dn,{brighter:function(t){return new An(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new An(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return new bn(Nn(3.1338561*(n=nf*In(n))-1.6168667*(t=ef*In(t))-.4906146*(e=rf*In(e))),Nn(-.9787684*n+1.9161415*t+.033454*e),Nn(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}})),Ul(jn,(function(t,n,e,r){return 1===arguments.length?kn(t):new jn(t,n,e,null==r?1:r)}),hn(dn,{brighter:function(t){return new jn(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new jn(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Cn(this).rgb()}}));var uf=1.78277,lf=-.29227,ff=-.90649,hf=1.97294,df=hf*ff,pf=hf*uf,gf=uf*lf- -.14861*ff;Ul(Ln,Fn,hn(dn,{brighter:function(t){return t=null==t?Vl:xa(Vl,t),new Ln(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:xa(.7,t),new Ln(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Ql,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=va(t),i=ga(t);return new bn(255*(n+e*(-.14861*r+uf*i)),255*(n+e*(lf*r+ff*i)),255*(n+e*(hf*r)),this.opacity)}}));var vf=function(t){return function(){return t}},yf=function t(n){function e(t,n){var e=r((t=mn(t)).r,(n=mn(n)).r),i=r(t.g,n.g),o=r(t.b,n.b),a=Rn(t.opacity,n.opacity);return function(n){return t.r=e(n),t.g=i(n),t.b=o(n),t.opacity=a(n),t+""}}var r=Mn(n);return e.gamma=t,e}(1),mf=(Hn((function(t){var n=t.length-1;return function(e){var r=0>=e?e=0:1<=e?(e=1,n-1):Sa(e*n),i=t[r],o=t[r+1],a=0<r?t[r-1]:2*i-o,c=r<n-1?t[r+2]:2*o-i;return Pn((e-r/n)*n,a,i,o,c)}})),Hn((function(t){var n=t.length;return function(e){var r=Sa((0>(e%=1)?++e:e)*n),i=t[(r+n-1)%n],o=t[r%n],a=t[(r+1)%n],c=t[(r+2)%n];return Pn((e-r/n)*n,i,o,a,c)}})),/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g),bf=new RegExp(mf.source,"g"),wf=function(t,n){var e,r,i,o=mf.lastIndex=bf.lastIndex=0,a=-1,c=[],s=[];for(t+="",n+="";(e=mf.exec(t))&&(r=bf.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),c[a]?c[a]+=i:c[++a]=i),(e=e[0])===(r=r[0])?c[a]?c[a]+=r:c[++a]=r:(c[++a]=null,s.push({i:a,x:Pl(e,r)})),o=bf.lastIndex;return o<n.length&&(i=n.slice(o),c[a]?c[a]+=i:c[++a]=i),2>c.length?s[0]?function(t){return function(n){return t(n)+""}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var e,r=0;r<n;++r)c[(e=s[r]).i]=e.x(t);return c.join("")})},xf=function(t,n){var e;return("number"==typeof n?Pl:n instanceof pn?yf:(e=pn(n))?(n=e,yf):wf)(t,n)},_f=Ha.prototype.constructor,Sf=0,Tf=Ha.prototype;oe.prototype=ae.prototype={constructor:oe,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=Oa(t));for(var r=this._groups,i=r.length,o=Array(i),a=0;a<i;++a)for(var c,s,u=r[a],l=u.length,f=o[a]=Array(l),h=0;h<l;++h)(c=u[h])&&(s=t.call(c,c.__data__,h,u))&&("__data__"in c&&(s.__data__=c.__data__),f[h]=s,Ll(f[h],n,e,h,f,cn(c,e)));return new oe(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=ka(t));for(var r=this._groups,i=r.length,o=[],a=[],c=0;c<i;++c)for(var s,u=r[c],l=u.length,f=0;f<l;++f)if(s=u[f]){for(var h,d=t.call(s,s.__data__,f,u),p=cn(s,e),g=0,v=d.length;g<v;++g)(h=d[g])&&Ll(h,n,e,g,d,p);o.push(d),a.push(s)}return new oe(o,a,n,e)},filter:function(t){"function"!=typeof t&&(t=ja(t));for(var n=this._groups,e=n.length,r=Array(e),i=0;i<e;++i)for(var o,a=n[i],c=a.length,s=r[i]=[],u=0;u<c;++u)(o=a[u])&&t.call(o,o.__data__,u,a)&&s.push(o);return new oe(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Ca(r,i),a=Array(r),c=0;c<o;++c)for(var s,u=n[c],l=e[c],f=u.length,h=a[c]=Array(f),d=0;d<f;++d)(s=u[d]||l[d])&&(h[d]=s);for(;c<r;++c)a[c]=n[c];return new oe(a,this._parents,this._name,this._id)},selection:function(){return new _f(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=ce(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,c=r[o],s=c.length,u=0;u<s;++u)if(a=c[u]){var l=cn(a,n);Ll(a,t,e,u,c,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new oe(r,this._parents,t,e)},call:Tf.call,nodes:Tf.nodes,node:Tf.node,size:Tf.size,empty:Tf.empty,each:Tf.each,on:function(t,n){var e=this._id;return 2>arguments.length?cn(this.node(),e).on.on(t):this.each(ne(e,t,n))},attr:function(t,n){var e=Ia(t),r="transform"===e?Bl:xf;return this.attrTween(t,"function"==typeof n?(e.local?Wn:Gn)(e,r,fn(this,"attr."+t,n)):null==n?(e.local?Bn:zn)(e):(e.local?Vn:Un)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(2>arguments.length)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=Ia(t);return this.tween(e,(r.local?$n:Xn)(r,n))},style:function(t,n,e){var r="transform"==(t+="")?zl:xf;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=w(this,t),a=(this.style.removeProperty(t),w(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}(t,r)).on("end.style."+t,ee(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,i,o;return function(){var a=w(this,t),c=e(this),s=c+"";return null==c&&(this.style.removeProperty(t),s=c=w(this,t)),a===s?null:a===r&&s===i?o:(i=s,o=n(r=a,c))}}(t,r,fn(this,"style."+t,n))).each(function(t,n){var e,r,i,o,a="style."+n;return function(){var c=an(this,t),s=c.on,u=null==c.value[a]?o||(o=ee(n)):void 0;(s!==e||i!==u)&&(r=(e=s).copy()).on("end."+a,i=u),c.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i;return function(){var o=w(this,t);return o===e+""?null:o===r?i:i=n(r=o,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(2>arguments.length)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,ie(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(fn(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",2>arguments.length){for(var r,i=cn(this.node(),e).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?un:ln)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Jn:Zn)(n,t)):cn(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Kn:Qn)(n,t)):cn(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(te(n,t)):cn(this.node(),n).ease},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise((function(o,a){var c={value:a},s={value:function(){0==--i&&o()}};e.each((function(){var e=an(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(c),n._.interrupt.push(c),n._.end.push(s)),e.on=n}))}))}};(function t(n){function e(t){return xa(t,n)}return n=+n,e.exponent=t,e})(3),function t(n){function e(t){return 1-xa(1-t,n)}return n=+n,e.exponent=t,e}(3),function t(n){function e(t){return(1>=(t*=2)?xa(t,n):2-xa(2-t,n))/2}return n=+n,e.exponent=t,e}(3);var Cf=1.70158,Af=(function t(n){function e(t){return t*t*((n+1)*t-n)}return n=+n,e.overshoot=t,e}(Cf),function t(n){function e(t){return--t*t*((n+1)*t+n)+1}return n=+n,e.overshoot=t,e}(Cf),function t(n){function e(t){return(1>(t*=2)?t*t*((n+1)*t-n):(t-=2)*t*((n+1)*t+n)+2)/2}return n=+n,e.overshoot=t,e}(Cf),2*ba),Ef=(function t(n,e){function r(t){return n*xa(2,10*--t)*ga((i-t)/e)}var i=pa(1/(n=_a(1,n)))*(e/=Af);return r.amplitude=function(n){return t(n,e*Af)},r.period=function(e){return t(n,e)},r}(1,.3),function t(n,e){function r(t){return 1-n*xa(2,-10*(t=+t))*ga((t+i)/e)}var i=pa(1/(n=_a(1,n)))*(e/=Af);return r.amplitude=function(n){return t(n,e*Af)},r.period=function(e){return t(n,e)},r}(1,.3),function t(n,e){function r(t){return(0>(t=2*t-1)?n*xa(2,10*t)*ga((i-t)/e):2-n*xa(2,-10*t)*ga((i+t)/e))/2}var i=pa(1/(n=_a(1,n)))*(e/=Af);return r.amplitude=function(n){return t(n,e*Af)},r.period=function(e){return t(n,e)},r}(1,.3),{time:null,delay:0,duration:250,ease:function(t){return(1>=(t*=2)?t*t*t:(t-=2)*t*t+2)/2}});Ha.prototype.interrupt=function(t){return this.each((function(){!function(t,n){var e,r,i,o=t.__transition,a=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>Ol&&e.state<Dl,e.state=Fl,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[i]):a=!1;a&&delete t.__transition}}(this,t)}))},Ha.prototype.transition=function(t){var n,e;t instanceof oe?(n=t._id,t=t._name):(n=ce(),(e=Ef).time=Zt(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,c=r[o],s=c.length,u=0;u<s;++u)(a=c[u])&&Ll(a,t,n,u,c,e||se(a,n));return new oe(r,this._parents,t,n)};Ha.prototype.attrs=function(t){return("function"==typeof t?ue:le)(this,t)},Ha.prototype.styles=function(t,n){return("function"==typeof t?fe:he)(this,t,null==n?"":n)},Ha.prototype.properties=function(t){return("function"==typeof t?de:pe)(this,t)},ae.prototype.attrs=function(t){return("function"==typeof t?ge:ve)(this,t)},ae.prototype.styles=function(t,n){return("function"==typeof t?ye:me)(this,t,null==n?"":n)};e(87);var If=function(t,n,e){return void 0===e&&(e=n,n=void 0),void 0!==e&&(e=(e=Ou(e))==e?e:0),void 0!==n&&(n=(n=Ou(n))==n?n:0),function(t,n,e){return t==t&&(void 0!==e&&(t=t<=e?t:e),void 0!==n&&(t=t>=n?t:n)),t}(Ou(t),n,e)},Nf=function(t,n,e,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(e=t[++i]);++i<o;)e=n(e,t[i],i,t);return e},Of=function(t,n,e,r,i){return i(t,(function(t,i,o){e=r?(r=!1,t):n(e,t,i,o)})),e},kf=function(t,n,e){var r=Va(t)?Nf:Of,i=3>arguments.length;return r(t,hu(n),e,i,bs)},jf=function(){var t=arguments,n=Bc(t[0]);return 3>t.length?n:n.replace(t[1],t[2])},Df=function(t,n,e){(void 0===e||Ac(t[n],e))&&(void 0!==e||n in t)||qc(t,n,e)},Ff=e(92),Lf=function(t,n){var e=n?function(t){var n=new t.constructor(t.byteLength);return new Cs(n).set(new Cs(t)),n}(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)},Pf=Object.create,Mf=function(){function t(){}return function(n){if(!sc(n))return{};if(Pf)return Pf(n);t.prototype=n;var e=new t;return t.prototype=void 0,e}}(),Rf=ds(Object.getPrototypeOf,Object),Hf=Function.prototype,zf=Object.prototype,Bf=Hf.toString,Uf=zf.hasOwnProperty,Vf=Bf.call(Object),Gf=function(t,n){return"constructor"===n&&"function"==typeof t[n]||"__proto__"==n?void 0:t[n]},Wf=Object.prototype.hasOwnProperty,Yf=Object.prototype.hasOwnProperty,qf=function(t){if(!sc(t))return function(t){var n=[];if(null!=t)for(var e in Object(t))n.push(e);return n}(t);var n=hs(t),e=[];for(var r in t)("constructor"!=r||!n&&Yf.call(t,r))&&e.push(r);return e},$f=function(t){return ys(t)?ls(t,!0):qf(t)},Xf=function(t){return function(t,n,e,r){var i=!e;e||(e={});for(var o=-1,a=n.length;++o<a;){var c=n[o],s=r?r(e[c],t[c],c,e,t):void 0;void 0===s&&(s=t[c]),i?qc(e,c,s):Ee(e,c,s)}return e}(t,$f(t))},Jf=function(t,n,e,r,i,o,a){var c=Gf(t,e),s=Gf(n,e),u=a.get(s);if(u)Df(t,e,u);else{var l=o?o(c,s,e+"",t,n,a):void 0,f=void 0===l;if(f){var h=Va(s),d=!h&&Object(ns.a)(s),p=!h&&!d&&ss(s);l=s,h||d||p?Va(c)?l=c:function(t){return rc(t)&&ys(t)}(c)?l=Bu(c):d?(f=!1,l=Object(Ff.a)(s,!0)):p?(f=!1,l=Lf(s,!0)):l=[]:function(t){if(!rc(t)||"[object Object]"!=ec(t))return!1;var n=Rf(t);if(null===n)return!0;var e=Uf.call(n,"constructor")&&n.constructor;return"function"==typeof e&&e instanceof e&&Bf.call(e)==Vf}(s)||ts(s)?(l=c,ts(c)?l=Xf(c):(!sc(c)||uc(c))&&(l=function(t){return"function"!=typeof t.constructor||hs(t)?{}:Mf(Rf(t))}(s))):f=!1}f&&(a.set(s,l),i(l,s,r,o,a),a.delete(s)),Df(t,e,l)}},Zf=function(t,n,e){switch(e.length){case 0:return t.call(n);case 1:return t.call(n,e[0]);case 2:return t.call(n,e[0],e[1]);case 3:return t.call(n,e[0],e[1],e[2])}return t.apply(n,e)},Kf=_a,Qf=function(t){return function(){return t}},th=Yc?function(t,n){return Yc(t,"toString",{configurable:!0,enumerable:!1,value:Qf(n),writable:!0})}:lu,nh=Date.now,eh=function(t){var n=0,e=0;return function(){var r=nh(),i=16-(r-e);if(e=r,0<i){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}(th),rh=function(t,n){return eh(function(t,n,e){return n=Kf(void 0===n?t.length-1:n,0),function(){for(var r=arguments,i=-1,o=Kf(r.length-n,0),a=Array(o);++i<o;)a[i]=r[n+i];i=-1;for(var c=Array(n+1);++i<n;)c[i]=r[i];return c[n]=e(a),Zf(t,this,c)}}(t,n,lu),t+"")},ih=function(t,n,e){if(!sc(e))return!1;var r=typeof n;return!("number"==r?!ys(e)||!rs(n,e.length):"string"!=r||!(n in e))&&Ac(e[n],t)},oh=function(t){return rh((function(n,e){var r=-1,i=e.length,o=1<i?e[i-1]:void 0,a=2<i?e[2]:void 0;for(o=3<t.length&&"function"==typeof o?(i--,o):void 0,a&&ih(e[0],e[1],a)&&(o=3>i?void 0:o,i=1),n=Object(n);++r<i;){var c=e[r];c&&t(n,c,r)}return n}))}((function(t,n,e){Ie(t,n,e)})),ah=function(t,n,e){var r=null==t?0:t.length;return r?(e&&"number"!=typeof e&&ih(t,n,e)?(n=0,e=r):(n=null==n?0:ku(n),e=void 0===e?r:ku(e)),function(t,n,e){var r=-1,i=t.length;0>n&&(n=-n>i?0:i+n),0>(e=e>i?i:e)&&(e+=i),i=n>e?0:e-n>>>0,n>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+n];return o}(t,n,e)):[]},ch=e(93),sh=e.n(ch),uh=(e(138),e(94)),lh=e.n(uh),fh=function(){function t(n){(function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")})(this,t),this.css=oh({},Du,n)}return function(t,n,e){n&&ke(t.prototype,n),e&&ke(t,e)}(t,[{key:"sectionId",value:function(t){return"".concat(this.css.sectionContainer,"_").concat(t)}},{key:"narrationList",value:function(){return this.css.narrationList}},{key:"narrationClass",value:function(){return this.css.narrationBlock}},{key:"narrationContentClass",value:function(){return this.css.narrationContent}},{key:"narrationId",value:function(t){return"".concat(this.css.narrationBlock,"_").concat(t)}},{key:"scrollContainer",value:function(){return this.css.scrollContainer}},{key:"sectionClass",value:function(){return"".concat(this.css.sectionContainer)}},{key:"graphId",value:function(t){return"".concat(this.css.graphContainer,"_").concat(t)}},{key:"graphClass",value:function(t){return"".concat(this.css.graphContainer,"_").concat(t)}},{key:"graphClassNames",value:function(t){return"".concat(this.css.graphContainerDefault," ").concat(this.graphClass(t))}},{key:"graphContainerId",value:function(t){return"".concat(this.graphId(t),"_container")}},{key:"graphContainerClass",value:function(){return"".concat(this.css.graphContainer,"_container")}},{key:"graphContainerClassNames",value:function(t){return this.graphContainerClass(t)}},{key:"graphTitleClass",value:function(){return this.css.graphTitleClass}},{key:"graphCaptionClass",value:function(){return this.css.graphCaptionClass}}]),t}(),hh=function(){function t(n){(function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")})(this,t),function(t){var n=t.appContainerId,e=t.sectionList;if(gu(n))throw Error("ScrollyTeller.validateScrollyTellerConfig() No appContainerId is set for the ScrollyTeller.");if(_u(e)||!Va(e))throw Error("ScrollyTeller.validateScrollyTellerConfig() sectionList is empty.");ht(t),yu(e,dt)}(n),this.appContainerId=n.appContainerId,this.sectionList=du(n.sectionList,"sectionIdentifier"),this.onNarrationChangedFunction=n.onNarrationChangedFunction||pu,this.mobileScrollHeightMultiplier=n.mobileScrollHeightMultiplier||1,this.sectionNamesArray=n.sectionList.map((function(t){return t.sectionIdentifier})),this.currentSectionId=null,this.currentNarrationIndex=null,this.triggerState={},this.trigger="",this.sendSectionAnalytics=n.sendSectionAnalytics||!1,this.sendNarrationAnalytics=n.sendNarrationAnalytics||!1,this.sendScrollToAnalytics=n.sendScrollToAnalytics||!1,this.maxTimeInSeconds=n.maxTimeInSeconds||1/0,this.timeEnteredCurrentSection=null,this.timeEnteredCurrentNarration=null,this.pageLoadStartTime=new Date,this.cssNames=gu(n.cssNames)||"CSSNames"!==n.cssNames.constructor.name?new fh:n.cssNames,this._assignConfigVariablesToSectionConfigs(this.cssNames),this._triggersDisabled=!1}return function(t,n,e){n&&Fe(t.prototype,n),e&&Fe(t,e)}(t,[{key:"_assignConfigVariablesToSectionConfigs",value:function(){var t=this;yu(this.sectionList,(function(n,e){n.appContainerId=t.appContainerId,n.cssNames=t.cssNames,n.sectionIndex=t._sectionIndexFromSectionIdentifier(e)}))}},{key:"_graphIdForSection",value:function(t){return t.cssNames.graphId(t.sectionIdentifier)}},{key:"_buildGraphs",value:function(){var t=this;yu(this.sectionList,(function(n){var e=t._triggerState({sectionConfig:n,index:0,progress:0}).state;t.triggerState=e;var r=n.cssNames.graphContainerId(n.sectionIdentifier);t._updateTitleAndCaption({graphContainer:za("#".concat(r)),index:0,names:n.cssNames,narration:n.narration,state:e}),n.graph=n.buildGraphFunction(t._graphIdForSection(n),n)}))}},{key:"_triggerState",value:function(t){var n=t.sectionConfig,e=t.index,r=t.progress;if(mu(n)||mu(e))return{trigger:"",state:{}};var i=n.narration,o=n.convertTriggerToObject,a=void 0===o||o;return{trigger:a?Oe(i[e].trigger,{index:e,progress:r}):i[e].trigger||"",state:a?function(t,n,e){var r=ah(t.narration,0,n+1);return kf(r,(function(t,r,i){return Oe(r.trigger,{progress:i===n?e:1,index:n},t)}),{})}(n,e,r):{}}}},{key:"_updateTitleAndCaption",value:function(t){var n=t.graphContainer,e=t.index,r=t.names,i=t.narration,o=t.state;(function(t){var n=t.graphContainer,e=t.index,r=t.names,i=t.narration,o=t.state,a=r.graphTitleClass(),c=Wc(i,[e,"graphTitle"],""),s=n.select(".".concat(a," text"));s.empty()&&(s=n.insert("div",":first-child").classed(a,!0).append("text")),s.styles(o.titleStyle).html(c)})({graphContainer:n,index:e,names:r,narration:i,state:o}),function(t){var n=t.graphContainer,e=t.index,r=t.names,i=t.narration,o=t.state,a=r.graphCaptionClass(),c=Wc(i,[e,"graphCaption"],""),s=n.select(".".concat(a," text"));s.empty()&&(s=n.append("div").classed(a,!0).append("text")),s.styles(o.captionStyle).html(c)}({graphContainer:n,index:e,names:r,narration:i,state:o})}},{key:"_handleOnStepEnter",value:function(t,n){var e=n.element,r=n.index,i=n.direction;if(!this._triggersDisabled){var o=t.narration,a=t.cssNames,c=t.sectionIdentifier,s=t.onActivateNarrationFunction,u=void 0===s?pu:s;window.ga&&(this.sendSectionAnalytics&&c!==this.currentSectionId&&(function(t){var n=t.enteringSectionId,e=t.enteringSectionIndex,r=t.pageLoadStartTime,i=t.maxTimeInSeconds;window.ga("send",{hitType:"event",eventCategory:"Section Entry Time (seconds since page load)",eventAction:Vt(e,n),eventLabel:"Entered section ".concat(n," (EventValue) seconds since page load"),eventValue:Gt({maxTimeInSeconds:i,startTime:r})})}({enteringSectionId:c,enteringSectionIndex:this._sectionIndexFromSectionIdentifier(c),pageLoadStartTime:this.pageLoadStartTime,maxTimeInSeconds:this.maxTimeInSeconds}),!mu(this.currentSectionId)&&function(t){var n=t.exitedNarrationIndex,e=t.exitedSectionId,r=t.exitedSectionIndex,i=t.maxTimeInSeconds,o=t.timeEntered,a=Vt(r,e);window.ga("send",{hitType:"event",eventCategory:"Time in Section (seconds)",eventAction:a,eventLabel:"Exited ".concat(a,", narration #").concat(n," after (EventValue) seconds"),eventValue:Gt({startTime:o,maxTimeInSeconds:i})})}({exitedNarrationIndex:this.currentNarrationIndex,exitedSectionId:this.currentSectionId,exitedSectionIndex:this._sectionIndexFromSectionIdentifier(this.currentSectionId),maxTimeInSeconds:this.maxTimeInSeconds,timeEntered:this.timeEnteredCurrentSection||new Date}),this.timeEnteredCurrentSection=new Date),this.sendNarrationAnalytics&&(c!==this.currentSectionId||r!==this.currentNarrationIndex)&&(function(t){var n=t.enteringNarrationIndex,e=t.enteringSectionId,r=t.enteringSectionIndex,i=t.pageLoadStartTime,o=t.maxTimeInSeconds,a=Vt(r,e);window.ga("send",{hitType:"event",eventCategory:"Narration Entry Time (seconds since page load)",eventAction:"".concat(a,"--").concat(n),eventLabel:"Entered narration #".concat(n," (EventValue) seconds since page load"),eventValue:Gt({maxTimeInSeconds:o,startTime:i})})}({enteringNarrationIndex:r,enteringSectionId:c,enteringSectionIndex:this._sectionIndexFromSectionIdentifier(c),pageLoadStartTime:this.pageLoadStartTime,maxTimeInSeconds:this.maxTimeInSeconds}),!mu(this.currentNarrationIndex)&&function(t){var n=t.exitingNarrationIndex,e=t.exitedSectionId,r=t.exitedSectionIndex,i=t.maxTimeInSeconds,o=t.timeEntered,a=Vt(r,e);window.ga("send",{hitType:"event",eventCategory:"Time in Narration (seconds)",eventAction:"".concat(a,"--").concat(n),eventLabel:"Exited ".concat(a,", narration #").concat(n," after (EventValue) seconds"),eventValue:Gt({startTime:o,maxTimeInSeconds:i})})}({exitingNarrationIndex:this.currentNarrationIndex,exitedSectionId:this.currentSectionId,exitedSectionIndex:this._sectionIndexFromSectionIdentifier(this.currentSectionId),maxTimeInSeconds:this.maxTimeInSeconds,timeEntered:this.timeEnteredCurrentNarration||new Date}),this.timeEnteredCurrentNarration=new Date)),this.currentSectionId=c,this.currentNarrationIndex=r,this.onNarrationChangedFunction({sectionIdentifier:this.currentSectionId,narrationIndex:this.currentNarrationIndex,narrationId:Wc(t,["narration",r,"narrationId"]),narrationClass:Wc(t,["narration",r,"narrationClass"])});var l=a.graphId(c),f=a.graphContainerId(c),h=this._triggerState({sectionConfig:t,index:r,progress:0}),d=h.trigger,p=h.state;this.triggerState=p,za(e).classed("active",!0);var g=za("#".concat(f)).classed("active",!0),v=za("#".concat(l));this._updateTitleAndCaption({graphContainer:g,index:r,names:a,narration:o,state:p}),xe({graph:v,graphContainer:g,names:a,sectionIdentifier:c,state:p}),u({index:r,progress:0,element:e,trigger:d,state:p,direction:i,graphId:l,graphContainerId:f,sectionConfig:t})}}},{key:"_handleOnStepExit",value:function(t,n){var e=n.index,r=n.element,i=n.direction;if(!this._triggersDisabled){var o=t.narration,a=t.cssNames,c=t.sectionIdentifier;if(za(r).classed("active",!1),e===o.length-1&&"down"===i||0===e&&"up"===i){var s="#".concat(a.graphContainerId(c));za(s).classed("active",!1);var u=this._sectionIndexFromSectionIdentifier(c);(0===u&&"up"===i||u===this.sectionNamesArray.length-1&&"down"===i)&&(this.currentNarrationIndex=null,this.currentSectionId=null,this.onNarrationChangedFunction({sectionIdentifier:null,narrationIndex:null,narrationId:null,narrationClass:null}))}}}},{key:"_handleOnStepProgress",value:function(t,n){var e=n.element,r=n.scrollProgressElement,i=n.index;if(!this._triggersDisabled){var o=t.cssNames,a=t.sectionIdentifier,c=t.onScrollFunction,s=void 0===c?pu:c,u=o.graphId(a),l=o.graphContainerId(a),f=function(t,n){var e=t.getBoundingClientRect(),r=e.top,i=e.height,o=t.ownerDocument.defaultView.innerHeight;return If((o*n-r)/i,0,1)}(r||e,.5),h=this._triggerState({sectionConfig:t,index:i,progress:f}),d=h.trigger,p=h.state;this.triggerState=p,xe({graph:za("#".concat(u)),graphContainer:za("#".concat(l)),names:o,sectionIdentifier:a,state:p}),s({index:i,progress:f,element:e,trigger:d,state:p,graphId:u,graphContainerId:l,sectionConfig:t})}}},{key:"_buildScrollamaContainers",value:function(){var t=this;yu(this.sectionList,(function(n){var e=Wc(n,["cssNames","css"]),r=n.cssNames,i=n.sectionIdentifier;n.scroller=lh()();var o=r.sectionId(i);n.scroller.setup({step:"#".concat(o," .").concat(e.narrationBlock),offset:.5,progress:!0}).onStepEnter((function(e){t._handleOnStepEnter(n,e)})).onStepExit((function(e){t._handleOnStepExit(n,e)})).onStepProgress((function(e){t._handleOnStepProgress(n,e)}))}))}},{key:"_buildKeyboardListeners",value:function(){var t=this;document.addEventListener("keydown",(function(t){var n=t.key||t.keyCode;if(t.target===document.body)switch(n){case" ":case"ArrowDown":case"ArrowRight":case"ArrowUp":case"ArrowLeft":t.preventDefault()}})),document.addEventListener("keyup",(function(n){if(!n.defaultPrevented&&n.target===document.body)switch(n.key||n.keyCode){case" ":case"ArrowDown":case"ArrowRight":t.scrollToNextNarration();break;case"ArrowUp":case"ArrowLeft":t.scrollToPreviousNarration()}}))}},{key:"_buildResizeListeners",value:function(){var t=this;yu(this.sectionList,(function(n){var e=n.cssNames,r=n.onResizeFunction,i=void 0===r?pu:r,o=n.sectionIdentifier,a=e.graphId(o),c=e.graphContainerId(o);n.elementResizeDetector=Tu()({strategy:"scroll"}),n.elementResizeDetector.listenTo(za("#".concat(a)).node(),(function(e){i({graphElement:e,graphContainerId:c,graphId:a,sectionConfig:n,state:t.triggerState,trigger:t.triggerState})}))}))}},{key:"_buildSections",value:function(){za("#".concat(this.appContainerId)).append("div").attr("class",this.cssNames.scrollContainer());var t=ut()?this.mobileScrollHeightMultiplier:1;yu(this.sectionList,(function(n){return Ae(n,t)}))}},{key:"_sectionIndexFromSectionIdentifier",value:function(t){return this.sectionNamesArray.findIndex((function(n){return n===t}))}},{key:"render",value:function(){var t=De(regeneratorRuntime.mark((function t(){var n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ht(this.sectionList);case 2:return t.next=4,Bt(this.sectionList);case 4:this._buildSections(),this._buildScrollamaContainers(),this._buildGraphs(),this._buildResizeListeners(),this._buildKeyboardListeners(),ut()?window.addEventListener("orientationchange",(function(){window.addEventListener("resize",(function t(){n._handleResizeEvent(),window.removeEventListener("resize",t)}))})):window.addEventListener("resize",(function(){n._handleResizeEvent()}));case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"_handleResizeEvent",value:function(){var t=ut()?this.mobileScrollHeightMultiplier:1;yu(this.sectionList,(function(n){(function(t,n){var e=t.sectionIdentifier,r=t.cssNames,i=Wc(r,["css"]),o=r.sectionId(e);Ua("#".concat(o," .").concat(i.narrationBlock)).style("margin-top",Se(n)).style("margin-bottom",Te(n)).style("min-height",Ce(n))})(n,t),n.scroller.resize()}))}},{key:"scrollTo",value:function(){var t=De(regeneratorRuntime.mark((function t(n,e,r){var i,o,a,c,s,u,l,f,h,d,p,g,v;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!mu(n)&&!mu(e)){t.next=2;break}return t.abrupt("return");case 2:if(i=this.appContainerId,o=this.cssNames,a=this.currentNarrationIndex,c=this.currentSectionId,s=this.sectionList,u=Wc(s,n),!mu(u)){t.next=6;break}return t.abrupt("return");case 6:if(l=0,bu(e)?l=u.narration.findIndex((function(t){return t.narrationId===e}))||0:wu(e)&&-1<e&&e<u.narration.length&&(l=e),this.sendScrollToAnalytics&&window.ga&&Wt({enteringSectionId:n,enteringSectionIndex:this._sectionIndexFromSectionIdentifier(n),enteringNarrationIndex:l,pageLoadStartTime:this.pageLoadStartTime,maxTimeInSeconds:this.maxTimeInSeconds,exitedSectionId:c,exitedSectionIndex:this._sectionIndexFromSectionIdentifier(c),exitedNarrationIndex:a}),f=["#".concat(o.sectionId(n)),".".concat(o.narrationList()),"div.".concat(o.narrationClass(),":nth-of-type(").concat(l+1,")")].join(" "),h=za(f),d=h.node(),p=h.select("div.".concat(o.narrationContentClass())).node(),!mu(p)){t.next=15;break}return t.abrupt("return");case 15:return g=window.pageYOffset,za("#".concat(i)).selectAll(".active").classed("active",!1),this._triggersDisabled=!0,t.next=20,new Promise((function(t){sh()(p,r,t)}));case 20:this._triggersDisabled=!1,v=window.pageYOffset<g?"up":"down",this._handleOnStepEnter(u,{element:d,index:l,direction:v}),this._handleOnStepProgress(u,{element:d,index:l,scrollProgressElement:p});case 24:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"scrollToPreviousNarration",value:function(){var t=De(regeneratorRuntime.mark((function t(){var n,e,r,i,o,a,c,s,u,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=this.sectionList,e=this.sectionNamesArray,r=!1,i=this.currentSectionId,o=this.currentNarrationIndex;case 4:if(r){t.next=25;break}if(a=this._sectionIndexFromSectionIdentifier(i),i=-1===a?e[0]:i,c=0===a,!(s=0>(o=null===o?1:o)-1)||c){t.next=16;break}i=e[a-1],u=Wc(n,[i,"narration"]),o=u?u.length-1:0,t.next=21;break;case 16:if(s){t.next=20;break}o-=1,t.next=21;break;case 20:return t.abrupt("return");case 21:l=Wc(n,[i,"narration",o]),r=!(_u(l.hRefText)&&_u(l.h2Text)&&_u(l.paragraphText)),t.next=4;break;case 25:return t.next=27,this.scrollTo(i,o,{align:{top:.5}});case 27:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"scrollToNextNarration",value:function(){var t=De(regeneratorRuntime.mark((function t(){var n,e,r,i,o,a,c,s,u,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=this.sectionList,e=this.sectionNamesArray,r=!1,i=this.currentSectionId,o=this.currentNarrationIndex;case 4:if(r){t.next=25;break}if(a=this._sectionIndexFromSectionIdentifier(i),i=-1===a?e[0]:i,o=null===o?-1:o,c=a===e.length-1,s=Wc(n,[i,"narration","length"],0),!(u=o+1===s)||c){t.next=16;break}i=e[a+1],o=0,t.next=21;break;case 16:if(u){t.next=20;break}o+=1,t.next=21;break;case 20:return t.abrupt("return");case 21:l=Wc(n,[i,"narration",o]),r=!(_u(l.hRefText)&&_u(l.h2Text)&&_u(l.paragraphText)),t.next=4;break;case 25:return t.next=27,this.scrollTo(i,o,{align:{top:.5}});case 27:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),t}(),dh=(e(139),e(140),e.p,e.p,e.p,e.p,e.p,e.p,function(t,n,e){n instanceof Array&&n.forEach((function(n){t.select("li:nth-child(".concat(n,")")).style("background",e,"important").style("border-radius","5px")}))}),ph=function(t,n,e){var r=n.svgFileName;mu(r)&&za("#".concat(t," .imageDiv")).transition().duration(250).style("opacity",0);if(r!==e){var i=r?'<img src="dist/images/'.concat(r,'.svg" />'):null,o=za("#".concat(t," .imageDiv"));o.transition().duration(250).style("opacity",0).on("end",(function(){o.html(i).transition().duration(250).style("opacity",r?1:0)}))}},gh={svgFileName:""},vh={sectionIdentifier:"introduction",narration:"demo_app/00_introduction/data/narration.csv",data:[],convertTriggerToObject:!0,reshapeDataFunction:function(){return{}},buildGraphFunction:function(t){return za("#".concat(t)).append("div").classed("imageDiv",!0),ph(t,{svgFileName:"slide1"},gh.svgFileName),void(gh.svgFileName="slide1")},onScrollFunction:function(){},onActivateNarrationFunction:function(t){var n=t.graphId,e=t.state,r=t.state.svgFileName;ph(n,e,gh.svgFileName),gh.svgFileName=r},onResizeFunction:function(){}},yh=(e(88),e(89),e(143),e(144),t=>()=>t),mh=function t(n){function e(t,n){var e=r((t=mn(t)).r,(n=mn(n)).r),i=r(t.g,n.g),o=r(t.b,n.b),a=Me(t.opacity,n.opacity);return function(n){return t.r=e(n),t.g=i(n),t.b=o(n),t.opacity=a(n),t+""}}var r=Pe(n);return e.gamma=t,e}(1),bh=(Re((function(t){var n=t.length-1;return function(e){var r=0>=e?e=0:1<=e?(e=1,n-1):Sa(e*n),i=t[r],o=t[r+1],a=0<r?t[r-1]:2*i-o,c=r<n-1?t[r+2]:2*o-i;return Le((e-r/n)*n,a,i,o,c)}})),Re((function(t){var n=t.length;return function(e){var r=Sa((0>(e%=1)?++e:e)*n),i=t[(r+n-1)%n],o=t[r%n],a=t[(r+1)%n],c=t[(r+2)%n];return Le((e-r/n)*n,i,o,a,c)}})),function(t,n){n||(n=[]);var e,r=t?Ca(n.length,t.length):0,i=n.slice();return function(o){for(e=0;e<r;++e)i[e]=t[e]*(1-o)+n[e]*o;return i}}),wh=function(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}},xh=function(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}},_h=function(t,n){var e,r={},i={};for(e in(null===t||"object"!=typeof t)&&(t={}),(null===n||"object"!=typeof n)&&(n={}),n)e in t?r[e]=Ah(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}},Sh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Th=new RegExp(Sh.source,"g"),Ch=function(t,n){var e,r,i,o=Sh.lastIndex=Th.lastIndex=0,a=-1,c=[],s=[];for(t+="",n+="";(e=Sh.exec(t))&&(r=Th.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),c[a]?c[a]+=i:c[++a]=i),(e=e[0])===(r=r[0])?c[a]?c[a]+=r:c[++a]=r:(c[++a]=null,s.push({i:a,x:xh(e,r)})),o=Th.lastIndex;return o<n.length&&(i=n.slice(o),c[a]?c[a]+=i:c[++a]=i),2>c.length?s[0]?function(t){return function(n){return t(n)+""}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var e,r=0;r<n;++r)c[(e=s[r]).i]=e.x(t);return c.join("")})},Ah=function(t,n){var e,r=typeof n;return null==n||"boolean"==r?yh(n):("number"==r?xh:"string"==r?(e=pn(n))?(n=e,mh):Ch:n instanceof pn?mh:n instanceof Date?wh:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(n)?bh:Array.isArray(n)?He:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?_h:xh)(t,n)},Eh=function(t,n){let e,r;if(void 0===n)for(const n of t)null!=n&&(void 0===e?n>=n&&(e=r=n):(e>n&&(e=n),r<n&&(r=n)));else{let i=-1;for(let o of t)null!=(o=n(o,++i,t))&&(void 0===e?o>=o&&(e=r=o):(e>o&&(e=o),r<o&&(r=o)))}return[e,r]},Ih=7.0710678118654755,Nh=3.1622776601683795,Oh=1.4142135623730951,kh=function(t,n,e){var r,i,o,a,c=-1;if(e=+e,(t=+t)===(n=+n)&&0<e)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(a=ze(t,n,e))||!isFinite(a))return[];if(0<a)for(t=Ta(t/a),n=Sa(n/a),o=Array(i=Ta(n-t+1));++c<i;)o[c]=(t+c)*a;else for(t=Ta(t*(a=-a)),n=Sa(n*a),o=Array(i=Ta(n-t+1));++c<i;)o[c]=(t+c)/a;return r&&o.reverse(),o},jh=function(t){return(t=Be(fa(t)))?t[1]:NaN},Dh=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;Ue.prototype=Ve.prototype,Ve.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":_a(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+_a(0,0|this.precision))+(this.trim?"~":"")+this.type};var Fh,Lh,Ph,Mh,Rh=function(t,n){var e=Be(t,n);if(!e)return t+"";var r=e[0],i=e[1];return 0>i?"0."+Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+Array(i-r.length+2).join("0")},Hh={"%":(t,n)=>(100*t).toFixed(n),b:t=>wa(t).toString(2),c:t=>t+"",d:function(t){return 1e21<=fa(t=wa(t))?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>wa(t).toString(8),p:(t,n)=>Rh(100*t,n),r:Rh,s:function(t,n){var e=Be(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(Fh=3*_a(-8,Ca(8,Sa(i/3))))+1,a=r.length;return o===a?r:o>a?r+Array(o-a+1).join("0"):0<o?r.slice(0,o)+"."+r.slice(o):"0."+Array(1-o).join("0")+Be(t,_a(0,n+o-1))[0]},X:t=>wa(t).toString(16).toUpperCase(),x:t=>wa(t).toString(16)},zh=function(t){return t},Bh=Array.prototype.map,Uh=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"],Vh=function(t){function n(t){function n(t){var n,r,i,c=w,d=x;if("c"===b)d=_(t)+d,t="";else{var T=0>(t=+t)||0>1/t;if(t=isNaN(t)?u:_(fa(t),y),m&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;0<i&&(i=0)}return 0<i?t.slice(0,i)+t.slice(n+1):t}(t)),T&&0==+t&&"+"!==h&&(T=!1),c=(T?"("===h?h:s:"-"===h||"("===h?"":h)+c,d=("s"===b?Uh[8+Fh/3]:"")+d+(T&&"("===h?")":""),S)for(n=-1,r=t.length;++n<r;)if(48>(i=t.charCodeAt(n))||57<i){d=(46===i?o+t.slice(n+1):t.slice(n))+d,t=t.slice(0,n);break}}v&&!p&&(t=e(t,1/0));var C=c.length+t.length+d.length,A=C<g?Array(g-C+1).join(l):"";switch(v&&p&&(t=e(A+t,A.length?g-d.length:1/0),A=""),f){case"<":t=c+t+d+A;break;case"=":t=c+A+t+d;break;case"^":t=A.slice(0,C=A.length>>1)+c+t+d+A.slice(C);break;default:t=A+c+t+d}return a(t)}var l=(t=Ue(t)).fill,f=t.align,h=t.sign,d=t.symbol,p=t.zero,g=t.width,v=t.comma,y=t.precision,m=t.trim,b=t.type;"n"===b?(v=!0,b="g"):!Hh[b]&&(void 0===y&&(y=12),m=!0,b="g"),(p||"0"===l&&"="===f)&&(p=!0,l="0",f="=");var w="$"===d?r:"#"===d&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",x="$"===d?i:/[%p]/.test(b)?c:"",_=Hh[b],S=/[defgprs%]/.test(b);return y=void 0===y?6:/[gprs]/.test(b)?_a(1,Ca(21,y)):_a(0,Ca(20,y)),n.toString=function(){return t+""},n}var e=void 0===t.grouping||void 0===t.thousands?zh:function(t,n){return function(e,r){for(var i=e.length,o=[],a=0,c=t[0],s=0;0<i&&0<c&&(s+c+1>r&&(c=_a(1,r-s)),o.push(e.substring(i-=c,i+c)),!((s+=c+1)>r));)c=t[a=(a+1)%t.length];return o.reverse().join(n)}}(Bh.call(t.grouping,Number),t.thousands+""),r=void 0===t.currency?"":t.currency[0]+"",i=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?zh:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(Bh.call(t.numerals,String)),c=void 0===t.percent?"%":t.percent+"",s=void 0===t.minus?"â":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";return{format:n,formatPrefix:function(t,e){var r=n(((t=Ue(t)).type="f",t)),i=3*_a(-8,Ca(8,Sa(jh(e)/3))),o=xa(10,-i),a=Uh[8+i/3];return function(t){return r(o*t)+a}}}};!function(t){Lh=Vh(t),Ph=Lh.format,Mh=Lh.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});var Gh=function(t,n){var e,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(e=r,r=i,i=e,e=o,o=a,a=e),t[r]=n.floor(o),t[i]=n.ceil(a),t},Wh=function(t,n){return t<n?-1:t>n?1:t>=n?0:NaN},Yh=function(t){function n(t,n,e,i){for(null==e&&(e=0),null==i&&(i=t.length);e<i;){const o=e+i>>>1;0>r(t[o],n)?e=o+1:i=o}return e}let e=t,r=t;return 1===t.length&&(e=(n,e)=>t(n)-e,r=function(t){return(n,e)=>Wh(t(n),e)}(t)),{left:n,center:function(t,r,i,o){null==i&&(i=0),null==o&&(o=t.length);const a=n(t,r,i,o);return a>i&&e(t[a-1],r)>-e(t[a],r)?a-1:a},right:function(t,n,e,i){for(null==e&&(e=0),null==i&&(i=t.length);e<i;){const o=e+i>>>1;0<r(t[o],n)?i=o:e=o+1}return e}}}(Wh),qh=Yh.right,$h=(Yh.left,qh),Xh=function(t,n){return t=+t,n=+n,function(e){return wa(t*(1-e)+n*e)}},Jh=function(t){return function(){return t}},Zh=function(t){return+t},Kh=[0,1],Qh=function(t,n,e,r){var i,o=function(t,n,e){var r=fa(n-t)/_a(0,e),i=xa(10,Sa(da(r)/ha)),o=r/i;return o>=Ih?i*=10:o>=Nh?i*=5:o>=Oh&&(i*=2),n<t?-i:i}(t,n,e);switch((r=Ue(null==r?",f":r)).type){case"s":var a=_a(fa(t),fa(n));return null!=r.precision||isNaN(i=function(t,n){return _a(0,3*_a(-8,Ca(8,Sa(jh(n)/3)))-jh(fa(t)))}(o,a))||(r.precision=i),Mh(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,n){return t=fa(t),n=fa(n)-t,_a(0,jh(n)-jh(t))+1}(o,_a(fa(t),fa(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return _a(0,-jh(fa(t)))}(o))||(r.precision=i-2*("%"===r.type))}return Ph(r)};const td=Symbol("implicit");var nd=Array.prototype.slice,ed=function(t){return t},rd=1,id=2,od=3,ad=4,cd=1e-6,sd=function(t){for(var n=0|t.length/6,e=Array(n),r=0;r<n;)e[r]="#"+t.slice(6*r,6*++r);return e}("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),ud="http://www.w3.org/1999/xhtml",ld={svg:"http://www.w3.org/2000/svg",xhtml:ud,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},fd=function(t){var n=t+="",e=n.indexOf(":");return 0<=e&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),ld.hasOwnProperty(n)?{space:ld[n],local:t}:t},hd=function(t){var n=fd(t);return(n.local?br:mr)(n)},dd=0;wr.prototype=function(){return new wr}.prototype={constructor:wr,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var pd=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var gd=document.documentElement;if(!gd.matches){var vd=gd.webkitMatchesSelector||gd.msMatchesSelector||gd.mozMatchesSelector||gd.oMatchesSelector;pd=function(t){return function(){return vd.call(this,t)}}}}var yd=pd,md={},bd=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(md={mouseenter:"mouseover",mouseleave:"mouseout"}));var wd=function(t){return null==t?Ar:function(){return this.querySelector(t)}},xd=function(t){return Array(t.length)};Ir.prototype={constructor:Ir,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var _d="$",Sd=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};Yr.prototype={add:function(t){0>this._names.indexOf(t)&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);0<=n&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return 0<=this._names.indexOf(t)}};var Td=[null];fi.prototype=function(){return new fi([[document.documentElement]],Td)}.prototype={constructor:fi,select:function(t){"function"!=typeof t&&(t=wd(t));for(var n=this._groups,e=n.length,r=Array(e),i=0;i<e;++i)for(var o,a,c=n[i],s=c.length,u=r[i]=Array(s),l=0;l<s;++l)(o=c[l])&&(a=t.call(o,o.__data__,l,c))&&("__data__"in o&&(a.__data__=o.__data__),u[l]=a);return new fi(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=function(t){return null==t?Er:function(){return this.querySelectorAll(t)}}(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a,c=n[o],s=c.length,u=0;u<s;++u)(a=c[u])&&(r.push(t.call(a,a.__data__,u,c)),i.push(a));return new fi(r,i)},filter:function(t){"function"!=typeof t&&(t=yd(t));for(var n=this._groups,e=n.length,r=Array(e),i=0;i<e;++i)for(var o,a=n[i],c=a.length,s=r[i]=[],u=0;u<c;++u)(o=a[u])&&t.call(o,o.__data__,u,a)&&s.push(o);return new fi(r,this._parents)},data:function(t,n){if(!t)return d=Array(this.size()),u=-1,this.each((function(t){d[++u]=t})),d;var e=n?Or:Nr,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=i.length,a=Array(o),c=Array(o),s=Array(o),u=0;u<o;++u){var l=r[u],f=i[u],h=f.length,d=t.call(l,l&&l.__data__,u,r),p=d.length,g=c[u]=Array(p),v=a[u]=Array(p);e(l,f,g,v,s[u]=Array(h),d,n);for(var y,m,b=0,w=0;b<p;++b)if(y=g[b]){for(b>=w&&(w=b+1);!(m=v[w])&&++w<p;);y._next=m||null}}return(a=new fi(a,r))._enter=c,a._exit=s,a},enter:function(){return new fi(this._enter||this._groups.map(xd),this._parents)},exit:function(){return new fi(this._exit||this._groups.map(xd),this._parents)},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Ca(r,i),a=Array(r),c=0;c<o;++c)for(var s,u=n[c],l=e[c],f=u.length,h=a[c]=Array(f),d=0;d<f;++d)(s=u[d]||l[d])&&(h[d]=s);for(;c<r;++c)a[c]=n[c];return new fi(a,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];0<=--o;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=kr);for(var e=this._groups,r=e.length,i=Array(r),o=0;o<r;++o){for(var a,c=e[o],s=c.length,u=i[o]=Array(s),l=0;l<s;++l)(a=c[l])&&(u[l]=a);u.sort(n)}return new fi(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=Array(this.size()),n=-1;return this.each((function(){t[++n]=this})),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r,i=t[n],o=0,a=i.length;o<a;++o)if(r=i[o])return r;return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,c=o.length;a<c;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=fd(t);if(2>arguments.length){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?Dr:jr:"function"==typeof n?e.local?Mr:Pr:e.local?Lr:Fr)(e,n))},style:function(t,n,e){var r;return 1<arguments.length?this.each((null==n?Rr:"function"==typeof n?zr:Hr)(t,n,null==e?"":e)):Sd(r=this.node()).getComputedStyle(r,null).getPropertyValue(t)},property:function(t,n){return 1<arguments.length?this.each((null==n?Br:"function"==typeof n?Vr:Ur)(t,n)):this.node()[t]},classed:function(t,n){var e=Gr(t+"");if(2>arguments.length){for(var r=Wr(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?Zr:n?Xr:Jr)(e,n))},text:function(t){return arguments.length?this.each(null==t?Kr:("function"==typeof t?ti:Qr)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?ni:("function"==typeof t?ri:ei)(t)):this.node().innerHTML},raise:function(){return this.each(ii)},lower:function(){return this.each(oi)},append:function(t){var n="function"==typeof t?t:hd(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:hd(t),r=null==n?ai:"function"==typeof n?n:wd(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(ci)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=Sr(t+""),a=o.length;if(!(2>arguments.length)){for(c=n?Cr:Tr,null==e&&(e=!1),r=0;r<a;++r)this.each(c(o[r],n,e));return this}var c=this.node().__on;if(c)for(var s,u=0,l=c.length;u<l;++u)for(r=0,s=c[u];r<a;++r)if((i=o[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"==typeof n?li:ui)(t,n))}};var Cd,Ad=function(t,n){if(0>(e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e")))return null;var e,r=t.slice(0,e);return[1<r.length?r[0]+r.slice(2):r,+t.slice(e+1)]},Ed=function(t){return(t=Ad(fa(t)))?t[1]:NaN},Id=function(t,n){var e=Ad(t,n);if(!e)return t+"";var r=e[0],i=e[1];return 0>i?"0."+Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+Array(i-r.length+2).join("0")},Nd={"":function(t,n){t:for(var e,r=(t=t.toPrecision(n)).length,i=1,o=-1;i<r;++i)switch(t[i]){case".":o=e=i;break;case"0":0===o&&(o=i),e=i;break;case"e":break t;default:0<o&&(o=0)}return 0<o?t.slice(0,o)+t.slice(e+1):t},"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return wa(t).toString(2)},c:function(t){return t+""},d:function(t){return wa(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return wa(t).toString(8)},p:function(t,n){return Id(100*t,n)},r:Id,s:function(t,n){var e=Ad(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(Cd=3*_a(-8,Ca(8,Sa(i/3))))+1,a=r.length;return o===a?r:o>a?r+Array(o-a+1).join("0"):0<o?r.slice(0,o)+"."+r.slice(o):"0."+Array(1-o).join("0")+Ad(t,_a(0,n+o-1))[0]},X:function(t){return wa(t).toString(16).toUpperCase()},x:function(t){return wa(t).toString(16)}},Od=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i,kd=function(t){return new hi(t)};hi.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":_a(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+_a(0,0|this.precision))+this.type};var jd,Dd,Fd,Ld=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"],Pd=function(t){function n(t){function n(t){var n,r,s,m=p,b=g;if("c"===d)b=v(t)+b,t="";else{var w=(0>(t=+t)||0>1/t)&&(t*=-1,!0);if(t=v(t,h),w)for(n=-1,r=t.length,w=!1;++n<r;)if(48<(s=t.charCodeAt(n))&&58>s||"x"===d&&96<s&&103>s||"X"===d&&64<s&&71>s){w=!0;break}if(m=(w?"("===c?c:"-":"-"===c||"("===c?"":c)+m,b=b+("s"===d?Ld[8+Cd/3]:"")+(w&&"("===c?")":""),y)for(n=-1,r=t.length;++n<r;)if(48>(s=t.charCodeAt(n))||57<s){b=(46===s?i+t.slice(n+1):t.slice(n))+b,t=t.slice(0,n);break}}f&&!u&&(t=e(t,1/0));var x=m.length+t.length+b.length,_=x<l?Array(l-x+1).join(o):"";return f&&u&&(t=e(_+t,_.length?l-b.length:1/0),_=""),"<"===a?m+t+b+_:"="===a?m+_+t+b:"^"===a?_.slice(0,x=_.length>>1)+m+t+b+_.slice(x):_+m+t+b}var o=(t=kd(t)).fill,a=t.align,c=t.sign,s=t.symbol,u=t.zero,l=t.width,f=t.comma,h=t.precision,d=t.type,p="$"===s?r[0]:"#"===s&&/[boxX]/.test(d)?"0"+d.toLowerCase():"",g="$"===s?r[1]:/[%p]/.test(d)?"%":"",v=Nd[d],y=!d||/[defgprs%]/.test(d);return h=null==h?d?6:12:/[gprs]/.test(d)?_a(1,Ca(21,h)):_a(0,Ca(20,h)),n.toString=function(){return t+""},n}var e=t.grouping&&t.thousands?function(t,n){return function(e,r){for(var i=e.length,o=[],a=0,c=t[0],s=0;0<i&&0<c&&(s+c+1>r&&(c=_a(1,r-s)),o.push(e.substring(i-=c,i+c)),!((s+=c+1)>r));)c=t[a=(a+1)%t.length];return o.reverse().join(n)}}(t.grouping,t.thousands):di,r=t.currency,i=t.decimal;return{format:n,formatPrefix:function(t,e){var r=n(((t=kd(t)).type="f",t)),i=3*_a(-8,Ca(8,Sa(Ed(e)/3))),o=xa(10,-i),a=Ld[8+i/3];return function(t){return r(o*t)+a}}}};!function(t){jd=Pd(t),Dd=jd.format,Fd=jd.formatPrefix}({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var Md={value:function(){}};gi.prototype=pi.prototype={constructor:gi,on:function(t,n){var e,r=this._,i=vi(t+"",r),o=-1,a=i.length;if(!(2>arguments.length)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<a;)if(e=(t=i[o]).type)r[e]=mi(r[e],t.name,n);else if(null==n)for(e in r)r[e]=mi(r[e],t.name,null);return this}for(;++o<a;)if((e=(t=i[o]).type)&&(e=yi(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new gi(t)},call:function(t,n){if(0<(e=arguments.length-2))for(var e,r,i=Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var Rd=pi,Hd=function(t,n){return t<n?-1:t>n?1:t>=n?0:NaN},zd=function(t){return 1===t.length&&(t=function(t){return function(n,e){return Hd(t(n),e)}}(t)),{left:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;0>t(n[o],e)?r=o+1:i=o}return r},right:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;0<t(n[o],e)?i=o:r=o+1}return r}}},Bd=zd(Hd),Ud=Bd.right,Vd=(Bd.left,Ud),Gd=Array.prototype,Wd=(Gd.slice,Gd.map,7.0710678118654755),Yd=3.1622776601683795,qd=1.4142135623730951,$d=function(t,n,e){var r=bi(t,n,e);return function(t,n,e){t=+t,n=+n,e=2>(i=arguments.length)?(n=t,t=0,1):3>i?1:+e;for(var r=-1,i=0|_a(0,Ta((n-t)/e)),o=Array(i);++r<i;)o[r]=t+r*e;return o}(Ta(t/r)*r,Sa(n/r)*r+r/2,r)},Xd=function(t,n){var e,r=0,i=t.length,o=-1;if(null==n)for(;++o<i;)(e=+t[o])&&(r+=e);else for(;++o<i;)(e=+n(t[o],o,t))&&(r+=e);return r},Jd="$";wi.prototype=xi.prototype={constructor:wi,has:function(t){return Jd+t in this},get:function(t){return this[Jd+t]},set:function(t,n){return this[Jd+t]=n,this},remove:function(t){var n=Jd+t;return n in this&&delete this[n]},clear:function(){for(var t in this)t[0]===Jd&&delete this[t]},keys:function(){var t=[];for(var n in this)n[0]===Jd&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)n[0]===Jd&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)n[0]===Jd&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)n[0]===Jd&&++t;return t},empty:function(){for(var t in this)if(t[0]===Jd)return!1;return!0},each:function(t){for(var n in this)n[0]===Jd&&t(this[n],n.slice(1),this)}};var Zd=xi,Kd=Zd.prototype;_i.prototype=function(t,n){var e=new _i;if(t instanceof _i)t.each((function(t){e.add(t)}));else if(t){var r=-1,i=t.length;if(null==n)for(;++r<i;)e.add(t[r]);else for(;++r<i;)e.add(n(t[r],r,t))}return e}.prototype={constructor:_i,has:Kd.has,add:function(t){return this[Jd+(t+="")]=t,this},remove:Kd.remove,clear:Kd.clear,values:Kd.keys,size:Kd.size,empty:Kd.empty,each:Kd.each};var Qd=Array.prototype,tp=Qd.map,np=Qd.slice,ep=function(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}},rp=function(t){return function(){return t}},ip=function t(n){function e(t,n){var e=r((t=mn(t)).r,(n=mn(n)).r),i=r(t.g,n.g),o=r(t.b,n.b),a=Ai(t.opacity,n.opacity);return function(n){return t.r=e(n),t.g=i(n),t.b=o(n),t.opacity=a(n),t+""}}var r=Ci(n);return e.gamma=t,e}(1),op=(Ei((function(t){var n=t.length-1;return function(e){var r=0>=e?e=0:1<=e?(e=1,n-1):Sa(e*n),i=t[r],o=t[r+1],a=0<r?t[r-1]:2*i-o,c=r<n-1?t[r+2]:2*o-i;return Si((e-r/n)*n,a,i,o,c)}})),Ei((function(t){var n=t.length;return function(e){var r=Sa((0>(e%=1)?++e:e)*n),i=t[(r+n-1)%n],o=t[r%n],a=t[(r+1)%n],c=t[(r+2)%n];return Si((e-r/n)*n,i,o,a,c)}})),function(t,n){n||(n=[]);var e,r=t?Ca(n.length,t.length):0,i=n.slice();return function(o){for(e=0;e<r;++e)i[e]=t[e]*(1-o)+n[e]*o;return i}}),ap=function(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}},cp=function(t,n){var e,r={},i={};for(e in(null===t||"object"!=typeof t)&&(t={}),(null===n||"object"!=typeof n)&&(n={}),n)e in t?r[e]=fp(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}},sp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,up=new RegExp(sp.source,"g"),lp=function(t,n){var e,r,i,o=sp.lastIndex=up.lastIndex=0,a=-1,c=[],s=[];for(t+="",n+="";(e=sp.exec(t))&&(r=up.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),c[a]?c[a]+=i:c[++a]=i),(e=e[0])===(r=r[0])?c[a]?c[a]+=r:c[++a]=r:(c[++a]=null,s.push({i:a,x:ep(e,r)})),o=up.lastIndex;return o<n.length&&(i=n.slice(o),c[a]?c[a]+=i:c[++a]=i),2>c.length?s[0]?function(t){return function(n){return t(n)+""}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var e,r=0;r<n;++r)c[(e=s[r]).i]=e.x(t);return c.join("")})},fp=function(t,n){var e,r=typeof n;return null==n||"boolean"==r?rp(n):("number"==r?ep:"string"==r?(e=pn(n))?(n=e,ip):lp:n instanceof pn?ip:n instanceof Date?ap:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(n)?op:Array.isArray(n)?Ii:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?cp:ep)(t,n)},hp=function(t,n){return t=+t,n=+n,function(e){return wa(t*(1-e)+n*e)}},dp=function(t){return function(){return t}},pp=function(t){return+t},gp=[0,1],vp=function(t,n,e){var r,i=t[0],o=t[t.length-1],a=bi(i,o,null==n?10:n);switch((e=kd(null==e?",f":e)).type){case"s":var c=_a(fa(i),fa(o));return null!=e.precision||isNaN(r=function(t,n){return _a(0,3*_a(-8,Ca(8,Sa(Ed(n)/3)))-Ed(fa(t)))}(a,c))||(e.precision=r),Fd(e,c);case"":case"e":case"g":case"p":case"r":null!=e.precision||isNaN(r=function(t,n){return t=fa(t),n=fa(n)-t,_a(0,Ed(n)-Ed(t))+1}(a,_a(fa(i),fa(o))))||(e.precision=r-("e"===e.type));break;case"f":case"%":null!=e.precision||isNaN(r=function(t){return _a(0,-Ed(fa(t)))}(a))||(e.precision=r-2*("%"===e.type))}return Dd(e)},yp=new Date,mp=new Date,bp=Li((function(){}),(function(t,n){t.setTime(+t+n)}),(function(t,n){return n-t}));bp.every=function(t){return t=Sa(t),isFinite(t)&&0<t?1<t?Li((function(n){n.setTime(Sa(n/t)*t)}),(function(n,e){n.setTime(+n+e*t)}),(function(n,e){return(e-n)/t})):bp:null};bp.range;var wp=6e4,xp=36e5,_p=6048e5,Sp=Li((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,n){t.setTime(+t+1e3*n)}),(function(t,n){return(n-t)/1e3}),(function(t){return t.getUTCSeconds()})),Tp=(Sp.range,Li((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,n){t.setTime(+t+n*wp)}),(function(t,n){return(n-t)/wp}),(function(t){return t.getMinutes()})).range,Li((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-t.getMinutes()*wp)}),(function(t,n){t.setTime(+t+n*xp)}),(function(t,n){return(n-t)/xp}),(function(t){return t.getHours()})).range,Li((function(t){t.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+n)}),(function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*wp)/864e5}),(function(t){return t.getDate()-1}))),Cp=Tp,Ap=(Tp.range,Pi(0)),Ep=Pi(1),Ip=Pi(2),Np=Pi(3),Op=Pi(4),kp=Pi(5),jp=Pi(6),Dp=(Ap.range,Ep.range,Ip.range,Np.range,Op.range,kp.range,jp.range,Li((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,n){t.setMonth(t.getMonth()+n)}),(function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})).range,Li((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n)}),(function(t,n){return n.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()})));Dp.every=function(t){return isFinite(t=Sa(t))&&0<t?Li((function(n){n.setFullYear(Sa(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)}),(function(n,e){n.setFullYear(n.getFullYear()+e*t)})):null};var Fp=Dp,Lp=(Dp.range,Li((function(t){t.setUTCSeconds(0,0)}),(function(t,n){t.setTime(+t+n*wp)}),(function(t,n){return(n-t)/wp}),(function(t){return t.getUTCMinutes()})).range,Li((function(t){t.setUTCMinutes(0,0,0)}),(function(t,n){t.setTime(+t+n*xp)}),(function(t,n){return(n-t)/xp}),(function(t){return t.getUTCHours()})).range,Li((function(t){t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+n)}),(function(t,n){return(n-t)/864e5}),(function(t){return t.getUTCDate()-1}))),Pp=Lp,Mp=(Lp.range,Mi(0)),Rp=Mi(1),Hp=Mi(2),zp=Mi(3),Bp=Mi(4),Up=Mi(5),Vp=Mi(6),Gp=(Mp.range,Rp.range,Hp.range,zp.range,Bp.range,Up.range,Vp.range,Li((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCMonth(t.getUTCMonth()+n)}),(function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})).range,Li((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)}),(function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()})));Gp.every=function(t){return isFinite(t=Sa(t))&&0<t?Li((function(n){n.setUTCFullYear(Sa(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)}),(function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)})):null};var Wp,Yp,qp,$p=Gp,Xp=(Gp.range,{"-":"",_:" ",0:"0"}),Jp=/^\s*\d+/,Zp=/^%/,Kp=/[\\^$*+?|[\]().{}]/g;!function(t){Wp=function(t){function n(t,n){return function(e){var r,i,o,a=[],c=-1,s=0,u=t.length;for(e instanceof Date||(e=new Date(+e));++c<u;)37===t.charCodeAt(c)&&(a.push(t.slice(s,c)),null==(i=Xp[r=t.charAt(++c)])?i="e"===r?" ":"0":r=t.charAt(++c),(o=n[r])&&(r=o(e,i)),a.push(r),s=c+1);return a.push(t.slice(s,c)),a.join("")}}function e(t,n){return function(e){var i,o,a=zi(1900);if(r(a,t,e+="",0)!=e.length)return null;if("Q"in a)return new Date(a.Q);if("p"in a&&(a.H=a.H%12+12*a.p),"V"in a){if(1>a.V||53<a.V)return null;"w"in a||(a.w=1),"Z"in a?(o=(i=Hi(zi(a.y))).getUTCDay(),i=4<o||0===o?Rp.ceil(i):Rp(i),i=Pp.offset(i,7*(a.V-1)),a.y=i.getUTCFullYear(),a.m=i.getUTCMonth(),a.d=i.getUTCDate()+(a.w+6)%7):(o=(i=n(zi(a.y))).getDay(),i=4<o||0===o?Ep.ceil(i):Ep(i),i=Cp.offset(i,7*(a.V-1)),a.y=i.getFullYear(),a.m=i.getMonth(),a.d=i.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),o="Z"in a?Hi(zi(a.y)).getUTCDay():n(zi(a.y)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(o+5)%7:a.w+7*a.U-(o+6)%7);return"Z"in a?(a.H+=0|a.Z/100,a.M+=a.Z%100,Hi(a)):n(a)}}function r(t,n,e,r){for(var i,o,a=0,c=n.length,s=e.length;a<c;){if(r>=s)return-1;if(37===(i=n.charCodeAt(a++))){if(i=n.charAt(a++),!(o=T[i in Xp?n.charAt(a++):i])||0>(r=o(t,e,r)))return-1}else if(i!=e.charCodeAt(r++))return-1}return r}var i=t.dateTime,o=t.date,a=t.time,c=t.periods,s=t.days,u=t.shortDays,l=t.months,f=t.shortMonths,h=Vi(c),d=Gi(c),p=Vi(s),g=Gi(s),v=Vi(u),y=Gi(u),m=Vi(l),b=Gi(l),w=Vi(f),x=Gi(f),_={a:function(t){return u[t.getDay()]},A:function(t){return s[t.getDay()]},b:function(t){return f[t.getMonth()]},B:function(t){return l[t.getMonth()]},c:null,d:lo,e:lo,f:vo,H:fo,I:ho,j:po,L:go,m:yo,M:mo,p:function(t){return c[+(12<=t.getHours())]},Q:Yo,s:qo,S:bo,u:wo,U:xo,V:_o,w:So,W:To,x:null,X:null,y:Co,Y:Ao,Z:Eo,"%":Wo},S={a:function(t){return u[t.getUTCDay()]},A:function(t){return s[t.getUTCDay()]},b:function(t){return f[t.getUTCMonth()]},B:function(t){return l[t.getUTCMonth()]},c:null,d:Io,e:Io,f:Do,H:No,I:Oo,j:ko,L:jo,m:Fo,M:Lo,p:function(t){return c[+(12<=t.getUTCHours())]},Q:Yo,s:qo,S:Po,u:Mo,U:Ro,V:Ho,w:zo,W:Bo,x:null,X:null,y:Uo,Y:Vo,Z:Go,"%":Wo},T={a:function(t,n,e){var r=v.exec(n.slice(e));return r?(t.w=y[r[0].toLowerCase()],e+r[0].length):-1},A:function(t,n,e){var r=p.exec(n.slice(e));return r?(t.w=g[r[0].toLowerCase()],e+r[0].length):-1},b:function(t,n,e){var r=w.exec(n.slice(e));return r?(t.m=x[r[0].toLowerCase()],e+r[0].length):-1},B:function(t,n,e){var r=m.exec(n.slice(e));return r?(t.m=b[r[0].toLowerCase()],e+r[0].length):-1},c:function(t,n,e){return r(t,i,n,e)},d:to,e:to,f:ao,H:eo,I:eo,j:no,L:oo,m:Qi,M:ro,p:function(t,n,e){var r=h.exec(n.slice(e));return r?(t.p=d[r[0].toLowerCase()],e+r[0].length):-1},Q:so,s:uo,S:io,u:Yi,U:qi,V:$i,w:Wi,W:Xi,x:function(t,n,e){return r(t,o,n,e)},X:function(t,n,e){return r(t,a,n,e)},y:Zi,Y:Ji,Z:Ki,"%":co};return _.x=n(o,_),_.X=n(a,_),_.c=n(i,_),S.x=n(o,S),S.X=n(a,S),S.c=n(i,S),{format:function(t){var e=n(t+="",_);return e.toString=function(){return t},e},parse:function(t){var n=e(t+="",Ri);return n.toString=function(){return t},n},utcFormat:function(t){var e=n(t+="",S);return e.toString=function(){return t},e},utcParse:function(t){var n=e(t,Hi);return n.toString=function(){return t},n}}}(t),Wp.format,Wp.parse,Yp=Wp.utcFormat,qp=Wp.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Qp="%Y-%m-%dT%H:%M:%S.%LZ",tg=(Date.prototype.toISOString||Yp(Qp),+new Date("2000-01-01T00:00:00.000Z")||qp(Qp),function(t){return t.match(/.{6}/g).map((function(t){return"#"+t}))}),ng=(tg("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),tg("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),tg("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),tg("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),$o((function(t,n){var e=n-t;return e?Ti(t,180<e||-180>e?e-360*wa(e/360):e):rp(isNaN(t)?n:t)})),$o(Ai)),eg=(ng(Fn(300,.5,0),Fn(-240,.5,1)),ng(Fn(-100,.75,.35),Fn(80,1.5,.8)),ng(Fn(260,.75,.35),Fn(80,1.5,.8)),Fn(),Xo(tg("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Xo(tg("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Xo(tg("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Xo(tg("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}),rg=function(t){return t},ig=function(t){for(var n=[],e=0,r=t.length;e<r;e++)n[e]=t[r-e-1];return n},og=function(t,n){t.each((function(){for(var t,e=function(t){return"string"==typeof t?new fi([[document.querySelector(t)]],[document.documentElement]):new fi([[t]],Td)}(this),r=e.text().split(/\s+/).reverse(),i=[],o=(e.attr("y"),parseFloat(e.attr("dy"))||0),a=e.text(null).append("tspan").attr("x",0).attr("dy",o+"em");t=r.pop();)i.push(t),a.text(i.join(" ")),a.node().getComputedTextLength()>n&&1<i.length&&(i.pop(),a.text(i.join(" ")),i=[t],a=e.append("tspan").attr("x",0).attr("dy",1.2+o+"em").text(t))}))},ag={d3_drawShapes:function(t,n,e,r,i,o){"rect"===t?n.attr("height",e).attr("width",r):"circle"===t?n.attr("r",i):"line"===t?n.attr("x1",0).attr("x2",r).attr("y1",0).attr("y2",0):"path"==t&&n.attr("d",o)},d3_addText:function(t,n,e,r,i){n.append("text").attr("class",r+"label");var o=t.selectAll("g."+r+"cell text."+r+"label").data(e).text(rg);return i&&t.selectAll("g."+r+"cell text."+r+"label").call(og,i),o},d3_calcType:function(t,n,e,r,i,o){var a=t.invertExtent?function(t,n,e){var r=t.range().map((function(r){var i=t.invertExtent(r);return n(i[0])+" "+e+" "+n(i[1])}));return{data:t.range(),labels:r,feature:rg}}(t,i,o):t.ticks?function(t,n,e){var r=[];if(1<n.length)r=n;else for(var i=t.domain(),o=(i[i.length-1]-i[0])/(n-1),a=0;a<n;a++)r.push(i[0]+a*o);var c=r.map(e);return{data:r,labels:c,feature:function(n){return t(n)}}}(t,e,i):function(t){return{data:t.domain(),labels:t.domain(),feature:function(n){return t(n)}}}(t),c=t.range&&t.range()||t.domain();return a.labels=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],n=arguments[1],e=arguments[2],r=arguments[3],i=arguments[4];if("object"===(void 0===n?"undefined":eg(n))){if(0===n.length)return t;for(var o=n.length;o<t.length;o++)n.push(t[o]);return n}if("function"==typeof n){for(var a=[],c=t.length,s=0;s<c;s++)a.push(n({i:s,genLength:c,generatedLabels:t,domain:e,range:r,labelDelimiter:i}));return a}return t}(a.labels,r,t.domain(),c,o),n&&(a.labels=ig(a.labels),a.data=ig(a.data)),a},d3_filterCells:function(t,n){var e=t.data.map((function(n,e){return{data:n,label:t.labels[e]}})).filter(n),r=e.map((function(t){return t.data})),i=e.map((function(t){return t.label}));return t.data=t.data.filter((function(t){return-1!==r.indexOf(t)})),t.labels=t.labels.filter((function(t){return-1!==i.indexOf(t)})),t},d3_placement:function(t,n,e,r,i,o){n.attr("transform",e),r.attr("transform",i),"horizontal"===t&&r.style("text-anchor",o)},d3_addEvents:function(t,n){t.on("mouseover.legend",(function(t){!function(t,n,e){t.call("cellover",e,n)}(n,t,this)})).on("mouseout.legend",(function(t){!function(t,n,e){t.call("cellout",e,n)}(n,t,this)})).on("click.legend",(function(t){!function(t,n,e){t.call("cellclick",e,n)}(n,t,this)}))},d3_title:function(t,n,e,r){if(""!==n){t.selectAll("text."+e+"legendTitle").data([n]).enter().append("text").attr("class",e+"legendTitle"),t.selectAll("text."+e+"legendTitle").text(n),r&&t.selectAll("text."+e+"legendTitle").call(og,r);var i=t.select("."+e+"legendCells"),o=t.select("."+e+"legendTitle").nodes().map((function(t){return t.getBBox().height}))[0],a=-i.nodes().map((function(t){return t.getBBox().x}))[0];i.attr("transform","translate("+a+","+o+")")}},d3_defaultLocale:{format:Dd,formatPrefix:Fd},d3_defaultFormatSpecifier:".01f",d3_defaultDelimiter:"to"},cg={container:"#chart",height:500,margin:{top:30,left:60,bottom:60,right:30},width:500},sg=function(){function t(n){(function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")})(this,t),this._init(Zo(Zo({},cg),n))}return function(t,n,e){n&&Qo(t.prototype,n),e&&Qo(t,e)}(t,[{key:"_updateProps",value:function(t){return this.props=Zo(Zo({},this.props),t),this.props}},{key:"_init",value:function(t){var n=this,e=this._updateProps(t),r=e.container,i=e.height,o=e.legendArray,a=e.margin,c=e.rDomain,s=e.xDomain,u=e.yDomain,l=e.yearDomain,f=e.width;this.svg=za(r).append("svg").attr("width",f).attr("height",i),this.xScale=function t(){var n=ir(Xe()).domain([1,10]);return n.copy=function(){return $e(n,t()).base(n.base())},Ze.apply(n,arguments),n}().domain(s).range([a.left,f-a.right]),this.xAxis=function(t){return t.attr("transform","translate(0,".concat(i-a.bottom,")")).call(function(t){return yr(od,t)}(n.xScale).ticks(f/80,",")).call((function(t){return t.select(".domain").remove()}))},this.svg.append("text").attr("transform","translate(".concat(f/2," ,").concat(i-a.bottom/2,")")).style("text-anchor","middle").style("font-size",12).text("Income per capita (inflation adjusted dollars)"),this.svg.append("g").call(this.xAxis),this.yScale=ar().domain(u).range([i-a.bottom,a.top]),this.yAxis=function(t){return t.attr("transform","translate(".concat(a.left,",0)")).call(function(t){return yr(ad,t)}(n.yScale)).call((function(t){return t.select(".domain").remove()}))},this.svg.append("g").call(this.yAxis),this.svg.append("text").attr("transform","rotate(-90)").attr("y",a.left/3).attr("x",0-i/2).attr("dy","1em").style("text-anchor","middle").style("font-size",12).text("Life expectancy (years)"),this.rScale=function(){return fr.apply(null,arguments).exponent(.5)}().domain(c).range([1,50]),this.cScale=function t(){function n(t){var n=t+"",a=e.get(n);if(!a){if(o!==td)return o;e.set(n,a=r.push(t))}return i[(a-1)%i.length]}var e=new Map,r=[],i=[],o=td;return n.domain=function(t){if(!arguments.length)return r.slice();r=[],e=new Map;for(const n of t){const t=n+"";e.has(t)||e.set(t,r.push(n))}return n},n.range=function(t){return arguments.length?(i=Array.from(t),n):i.slice()},n.unknown=function(t){return arguments.length?(o=t,n):o},n.copy=function(){return t(r,i).unknown(o)},Ze.apply(n,arguments),n}().domain(o).range(sd),this.yearScale=ar().domain(l).range([0,l[1]-l[0]]),this.yearLabel=this.svg.append("g").style("font-size",50).style("opacity",.3).attr("transform","translate(".concat(a.left+10,", ").concat(a.top+40,")")).append("text").text(_a(l)||""),this.scatter=this.svg.append("g").attr("stroke","#000").attr("stroke-opacity",.2),this.svg.append("g").attr("class","legendOrdinal").style("font-size",13).style("opacity",.7).attr("transform","translate(".concat(f-f/3,", ").concat(i-i/2.8,")"));var h=function(){function t(t){var T=ag.d3_calcType(o,_,f,h,v.format(y),w);t.selectAll("g").data([o]).enter().append("g").attr("class",d+"legendCells"),n&&ag.d3_filterCells(T,n);var C=t.select("."+d+"legendCells").selectAll("."+d+"cell").data(T.data),A=C.enter().append("g").attr("class",d+"cell");A.append(a).attr("class",d+"swatch");var E=t.selectAll("g."+d+"cell "+a+"."+d+"swatch").data(T.data);ag.d3_addEvents(A,S),C.exit().transition().style("opacity",0).remove(),E.exit().transition().style("opacity",0).remove(),E=E.merge(E),ag.d3_drawShapes(a,E,s,c,u,r);var I=ag.d3_addText(t,A,T.labels,d,e);C=A.merge(C);var N=I.nodes().map((function(t){return t.getBBox()})),O=E.nodes().map((function(t){return t.getBBox()}));p?E.attr("class",(function(t){return d+"swatch "+T.feature(t)})):"line"==a?E.style("stroke",T.feature):E.style("fill",T.feature);var k,j,D="start"==b?0:"middle"==b?.5:1;"vertical"===x?function(){var t=N.map((function(t,n){return _a(t.height,O[n].height)}));k=function(n,e){return"translate(0, "+(Xd(t.slice(0,e))+e*l)+")"},j=function(t,n){return"translate( "+(O[n].width+O[n].x+m)+", "+(O[n].y+O[n].height/2+5)+")"}}():"horizontal"===x&&(k=function(t,n){return"translate("+n*(O[n].width+l)+",0)"},j=function(t,n){return"translate("+(O[n].width*D+O[n].x)+",\n          "+(O[n].height+O[n].y+m+8)+")"}),ag.d3_placement(x,C,k,I,j,b),ag.d3_title(t,g,d,i),C.transition().style("opacity",1)}var n,e,r,i,o=Fi(),a="rect",c=15,s=15,u=10,l=2,f=[5],h=[],d="",p=!1,g="",v=ag.d3_defaultLocale,y=ag.d3_defaultFormatSpecifier,m=10,b="middle",w=ag.d3_defaultDelimiter,x="vertical",_=!1,S=Rd("cellover","cellout","cellclick");return t.scale=function(n){return arguments.length?(o=n,t):o},t.cells=function(n){return arguments.length?((1<n.length||2<=n)&&(f=n),t):f},t.cellFilter=function(e){return arguments.length?(n=e,t):n},t.shape=function(n,e){return arguments.length?(("rect"==n||"circle"==n||"line"==n||"path"==n&&"string"==typeof e)&&(a=n,r=e),t):a},t.shapeWidth=function(n){return arguments.length?(c=+n,t):c},t.shapeHeight=function(n){return arguments.length?(s=+n,t):s},t.shapeRadius=function(n){return arguments.length?(u=+n,t):u},t.shapePadding=function(n){return arguments.length?(l=+n,t):l},t.labels=function(n){return arguments.length?(h=n,t):h},t.labelAlign=function(n){return arguments.length?(("start"==n||"end"==n||"middle"==n)&&(b=n),t):b},t.locale=function(n){return arguments.length?(v=Pd(n),t):v},t.labelFormat=function(n){return arguments.length?(y=kd(n),t):t.locale().format(y)},t.labelOffset=function(n){return arguments.length?(m=+n,t):m},t.labelDelimiter=function(n){return arguments.length?(w=n,t):w},t.labelWrap=function(n){return arguments.length?(e=n,t):e},t.useClass=function(n){return arguments.length?((!0===n||!1===n)&&(p=n),t):p},t.orient=function(n){return arguments.length?(("horizontal"==(n=n.toLowerCase())||"vertical"==n)&&(x=n),t):x},t.ascending=function(n){return arguments.length?(_=!!n,t):_},t.classPrefix=function(n){return arguments.length?(d=n,t):d},t.title=function(n){return arguments.length?(g=n,t):g},t.titleWidth=function(n){return arguments.length?(i=n,t):i},t.textWrap=function(n){return arguments.length?(textWrap=n,t):textWrap},t.on=function(){var n=S.on.apply(S,arguments);return n===S?t:n},t}().shape("circle").shapeRadius(8).title("Regions").titleWidth(100).scale(this.cScale);this.svg.select(".legendOrdinal").call(h)}},{key:"render",value:function(t){var n=this,e=this._updateProps(t),r=e.data,i=e.duration,o=void 0===i?500:i,a=e.year,c=e.yearDomain,s=a?Sa(this.yearScale(a)):this.yearScale.range()[0],u=this.scatter.selectAll("circle").data(r,(function(t){return t.name}));this.yearLabel.text(a||c[0]||""),u.enter().append("circle").attr("cx",(function(t){return n.xScale(t.income[s])})).attr("cy",(function(t){return n.yScale(t.lifeExpectancy[s])})).merge(u).transition().duration(o).attr("cx",(function(t){return n.xScale(t.income[s])})).attr("cy",(function(t){return n.yScale(t.lifeExpectancy[s])})).attr("fill",(function(t){return n.cScale(t.region)})).attr("opacity",.7).attr("r",(function(t){return n.rScale(t.population[s])})),u.exit().remove()}},{key:"resize",value:function(t){this.svg.remove(),this._init(t)}}]),t}(),ug={scrollyTellerConfig:"\n    const intro = { /* ...configuration... */ };\n    const wealthAndHealth = { /* ...configuration ... */ };\n \n    const storyConfig = {\n      appContainerId: 'app', // div id=\"app\"\n      \n      sectionList: [ \n        intro, // section configuration\n        wealthAndHealth, // section configuration\n      ],\n    };\n\n    const storyInstance = new ScrollyTeller(storyConfig);\n\n    storyInstance.render(); // fetch data and build HMTL",sectionConfigSummary:"\n  const wealthAndHealth = { // Section Config object\n    sectionIdentifier: 'wealthAndHealth',\n    \n    // 1) DATA PATHS/PROMISES \n    narration: 'path/to/narration.csv',\n    data: 'path/to/wealthAndHealthData.json',\n    \n    // 2) FIRST RENDER\n    reshapeDataFunction: function (data) {},\n    buildGraphFunction: function (graphId, { data }) {},\n\n    // 3) ON USER EVENTS\n    onActivateNarrationFunction: function () {},\n    onScrollFunction: function () {},\n    onResizeFunction: function () {},\n    \n  }; // end Section Config object",sectionConfigFlow:"\n  const wealthAndHealth = { // Section Config\n    // on storyInstance.render()...\n    narration: 'path/to/narration.csv',\n    /* after fetching narration... \n      &#8600\n          ScrollyTeller renders narration as HTML */\n                \n    data: 'path/to/wealthAndHealthData.json',\n    /* after fetching data... \n                &#8600  raw data is passed to   */\n    reshapeDataFunction: function (rawData) {\n        /* process rawData */\n        return data;\n    }, /*  &#8600 reshaped data is passed to   */\n    buildGraphFunction: function (graphId, { data }) {\n        /* select graphId, build graph, render graph  */\n        return graph;\n    }, /*\n        &#8600  returned graph instance is stored in\n              &#8600 sectionConfig: { data, graph }\n                        ... and is passed to event handlers */\n    onActivateNarrationFunction: function ({ data, graph }) {},\n    onScrollFunction: function ({ data, graph }) {},\n    onResizeFunction: function ({ data, graph }) {},\n  };",sectionConfigReshapeData:"\n  const wealthAndHealth = { // Section Config\n    data: 'path/to/datafile.json', // promise, array, or file path \n    reshapeDataFunction: function (rawData) {\n    // 1) Called after data is fetched to do any pre-processing\n      // ... do some processing rawData -> data\n      return data; // return an object or array\n    },\n  }; // end Section Config object",sectionConfigReshapeDemoData:"\n  const wealthAndHealth = { // Section Config object\n    data: 'path/to/datafile.json',  /*\n          &#8600                         */\n    reshapeDataFunction: function (rawData) {\n      /** compute data domains for income (x), life expectancy (y), and years */\n      const xDomain = getXDomain(rawData); // min, max of all income [300, 100000]\n      const yDomain = getYDomain(rawData); // min, max of life expectancy [30, 80]\n      const yearDomain = getYearDomain(rawData); // min, max of years [1950, 2008]\n\n      /** sectionConfig.data in subsequent functions */\n      return {\n        dataArray: rawData,\n        xDomain,\n        yDomain,\n        yearDomain,\n      };\n    },\n  }; // end Section Config object",sectionConfigBuildGraph:"\n  const wealthAndHealth = { // Section Config\n    // 2) Called after reshapeDataFunction()\n    buildGraphFunction: function (graphId, sectionConfig) {\n      /** destructure the data from reshapeDataFunction() from the sectionConfig */\n      const {\n        data: { dataArray, /* domains, other props, etc */ },\n      } = sectionConfig;\n\n      /** build the graph */\n      const graph = new WealthAndHealthOfNations({\n        container: '#' + graphId, // '#graph_wealthAndHealth'\n        data: dataArray, // pass data to the component\n        // ... pass domains, other rendering props, etc\n      });\n      \n      return graph;\n      /** -> sectionConfig.graph in subsequent functions */\n    },\n  }; // end Section Config object",narrationTableHTML:'\n  <table style="width: 100%;">\n    <tbody>\n    <tr>\n      <td></td>\n      <td>...</td>\n      <td>h2Text</td>\n      <td>paragraphText</td>\n      <td>hRef</td>\n      <td>hRefText</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <td>17</td>\n      <td>...</td>\n      <td>h2Text -> Title</td>\n      <td>paragraphText -> Summary</td>\n      <td>http://link.com</td>\n      <td>hRefText -> linked text</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <td>18</td>\n      <td>...</td>\n      <td>Customizing text</td>\n      <td>Both &lt;strong&gt;h2Text&lt;/strong&gt; and...</td>\n      <td></td>\n      <td></td>\n      <td>...</td>\n    </tr>\n  </tbody>\n  </table>',narrationTriggerHTML:'\n <table style="width: 100%;">\n  <tbody>\n  <tr>\n    <td></td>\n    <td>...</td>\n    <td>h2Text</td>\n    <td>...</td>\n    <td>trigger</td>\n    <td>...</td>\n  </tr>\n  <tr>\n    <td>19</td>\n    <td>...</td>\n    <td>Trigger example: 1950</td>\n    <td>...</td>\n    <td>  { "year": 1950 }  </td>\n    <td>...</td>\n  </tr>\n  <tr>\n    <td>20</td>\n    <td>...</td>\n    <td>Trigger example: 2008</td>\n    <td>...</td>\n    <td>  { "year": 2008 }  </td>\n    <td>...</td>\n  </tr>\n</tbody>\n</table> \n  ',narrationRestHTML:'\n  <table style="width: 100%;">\n  <tbody>\n  <tr>\n    <td></td>\n    <td>...</td>\n    <td>narrationId</td>\n    <td>narrationClass</td>\n    <td>graphTitle</td>\n    <td>graphCaption</td>\n    <td>...</td>\n  </tr>\n  <tr>\n    <td>19</td>\n    <td>...</td>\n    <td>uniqueId</td>\n    <td>class-name</td>\n    <td>Title</td>\n    <td>Oh caption, my caption!</td>\n    <td>...</td>\n  </tr>\n  <tr>\n    <td>20</td>\n    <td>...</td>\n    <td></td>\n    <td>class-name</td>\n    <td>Title</td>\n    <td>Oh caption, my caption!</td>\n    <td>...</td>\n  </tr>\n</tbody>\n</table>',narrationSizingHTML:'\n  <table style="width: 100%;">\n  <tbody>\n  <tr>\n    <td></td>\n    <td>...</td>\n    <td>marginTopVh</td>\n    <td>marginBottomVh</td>\n    <td>minHeightVh</td>\n    <td>...</td>\n  </tr>\n  <tr>\n    <td>19</td>\n    <td>...</td>\n    <td>40</td>\n    <td>40</td>\n    <td>80</td>\n    <td>...</td>\n  </tr>\n  <tr>\n    <td>20</td>\n    <td>...</td>\n    <td>40</td>\n    <td>40</td>\n    <td>80</td>\n    <td>...</td>\n  </tr>\n</tbody>\n</table>',onActivateNarrationExample:"\n  const wealthAndHealth = { // Section Config\n\n    onActivateNarrationFunction: function ({\n      // -> sectionConfig.graph:\n      //    the return value of buildGraphFunction()\n      sectionConfig: { graph },\n      \n      // -> state = JSON.parse(trigger)\n      state: { year },\n    }) {\n      if (graph && year) {\n        graph.render({ year });\n      }\n    },\n\n  };",onScrollExample:"\n  const wealthAndHealth = { // Section Config\n\n    onScrollFunction: function ({\n      progress, // <- scroll progress!\n      sectionConfig: { graph },\n      state: { yearDomain }, // -> [1950, 1999]\n    }) {\n      if (graph && yearDomain) {\n        const interpolateYear = d3.interpolate(\n          yearDomain[0], yearDomain[1]\n        )(progress);\n        const year = Math.floor(interpolateYear);\n        graph.render({ year });\n      }\n    },\n    \n  };",triggerToStateHTML:'\n<table style="width: 100%;">\n  <tbody>\n  <tr>\n    <td></td>\n    <td>h2Text</td>\n    <td>trigger</td>\n    <td>...</td>\n    <td>(merged) state</td>\n  </tr>\n  <tr>\n    <td>19</td>\n    <td>Narration 0</td>\n    <td><pre><code>{ "year": 1950 }</code></pre></td>\n    <td>...</td>\n    <td><pre><code>{ "year": 1950 }</code></pre></td>\n  </tr>\n  <tr>\n    <td>20</td>\n    <td>Narration 1</td>\n    <td><pre><code>{ "year": 2008 }</code></pre></td>\n    <td>...</td>\n    <td><pre><code>{ "year": 2008 }</code></pre></td>\n  </tr>\n  <tr>\n    <td>21</td>\n    <td>Narration 2</td>\n    <td><pre><code>{ "foo": "bar" }</code></pre></td>\n    <td>...</td>\n    <td><pre><code>{ "year": 2008, "foo": "bar" }</code></pre></td>\n  </tr>\n  <tr>\n    <td>22</td>\n    <td>Narration 3</td>\n    <td><pre><code>{ "year": null, foo": null }</code></pre></td>\n    <td>...</td>\n    <td><pre><code>{ "year": null, "foo": null }</code></pre></td>\n  </tr>\n</tbody>\n</table>\n  '},lg=(e(147),e(148),{svgFileName:""}),fg="#8078ff36",hg={sectionIdentifier:"wealthAndHealth",narration:"demo_app/01_wealthAndHealthOfNations/data/narration.csv",data:"demo_app/01_wealthAndHealthOfNations/data/wealthAndHealthData.json",reshapeDataFunction:function(t){var n=Eh(t.reduce((function(t,n){return t.concat.apply(t,ia(Eh(n.population)))}),[])),e=Eh(t.reduce((function(t,n){return t.concat.apply(t,ia(Eh(n.income)))}),[])),r=Eh(t.reduce((function(t,n){return t.concat.apply(t,ia(Eh(n.lifeExpectancy)))}),[])),i=Eh(t.reduce((function(t,n){return t.concat.apply(t,ia(Eh(n.years)))}),[])),o=t.reduce((function(t,n){return t.includes(n.region)?t:t.concat(n.region)}),[]);return{dataArray:t,legendArray:o,rDomain:n,xDomain:e,yDomain:r,yearDomain:i}},buildGraphFunction:function(t,n){var e=n.data,r=e.dataArray,i=e.legendArray,o=e.rDomain,a=e.xDomain,c=e.yDomain,s=e.yearDomain,u="#".concat(t);za("#".concat(t)).append("div").classed("imageDiv",!0);var l=new sg({container:u,data:r,rDomain:o,xDomain:a,yDomain:c,yearDomain:s,legendArray:i,height:.9*za(u).node().offsetHeight,width:.9*za(u).node().offsetWidth});return{$codeSnippetSelection:za(u).append("div").attr("id","codeSnippet"),wealthAndHealthSelector:"#".concat(t," svg"),wealthAndHealthGraph:l}},onScrollFunction:function(t){var n=t.progress,e=t.state.yearDomain,r=t.sectionConfig.graph,i=r.snippet,o=r.svgFileName,a=r.wealthAndHealthGraph,c=r.wealthAndHealthSelector;if(i||o)za(c).style("opacity",0);else if(!mu(e)){var s=Ah.apply(void 0,ia(e))(n);a.render({year:Sa(s),duration:100})}},onActivateNarrationFunction:aa,onResizeFunction:function(t){var n=t.graphElement;aa(na(na({},ra(t,["graphElement"])),{},{graphElement:n,width:.9*n.offsetWidth,height:.9*n.offsetHeight}))}},dg=(e(149),e(150),{sectionIdentifier:"builtInTriggers",narration:"demo_app/02_builtInTriggers/data/narration.csv",reshapeDataFunction:pu,buildGraphFunction:pu,onScrollFunction:pu,onActivateNarrationFunction:pu}),pg=function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t);var n=new hh({appContainerId:"app",sectionList:[vh,hg,dg],onNarrationChangedFunction:function(t){var n=t.narrationClass;Ua(".navButton").classed("active",!1),Ua(".navButton.".concat(n)).classed("active",!0)}});n.render(),Ua(".navButton").on("click",(function(){var t=za(this).node();n.scrollTo(Wc(t,["dataset","section"]),Wc(t,["dataset","narrationtarget"]))}))};document.addEventListener("DOMContentLoaded",(function(){window.app=new pg}))}]);